{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/support/arcgisLayers.js","webpack:///./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"names":["async","i","e","r","a","properties","customParameters","t","d","url","l","sublayerIds","layerOrTableId","layerId","sourceJSON","Constructor","n","default","title","parsedUrl","c","y","find","id","sublayerTitleMode","forEach","sublayerInfos","add","tableIds","tableInfos","tables","f","serverType","sublayer","o","u","FeatureServer","StreamServer","VectorTileServer","m","then","S","tileInfo","format","toUpperCase","cacheType","toLowerCase","path","Point","IntegratedMesh","PointCloud","Building","Array","isArray","layers","length","layerType","FeatureLayer","SceneLayer","I","p","layerInfos","layerIds","v","w","b","s","type","hasOwnProperty","name","serviceUrl","layersJSON","serviceJSON","map","reverse","filter","currentVersion","responseType","query","data","BingMapsLayer","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","WebTileLayer","WMSLayer","WMTSLayer"],"mappings":"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","file":"js/chunk-59f29c8d.55fed613.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{getFilename as t,urlToObject as l}from\"../../core/urlUtils.js\";import n from\"../../request.js\";import{parse as s,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function i(e){var r;const a=null==(r=e.properties)?void 0:r.customParameters,t=await d(e.url,a),l={...e.properties,url:e.url};if(!t.sublayerIds)return null!=t.layerOrTableId&&(l.layerId=t.layerOrTableId,l.sourceJSON=t.sourceJSON),new t.Constructor(l);const n=new(0,(await import(\"../GroupLayer.js\")).default)({title:t.parsedUrl.title});return c(n,t,l),n}function y(e,r){return e?e.find((e=>e.id===r)):null}function c(e,a,t){function l(e,l){const n={...t,layerId:e,sublayerTitleMode:\"service-name\"};return r(l)&&(n.sourceJSON=l),new a.Constructor(n)}a.sublayerIds.forEach((r=>{const t=l(r,y(a.sublayerInfos,r));e.add(t)})),a.tableIds.forEach((r=>{const t=l(r,y(a.tableInfos,r));e.tables.add(t)}))}async function d(r,t){let l=s(r);if(e(l)&&(l=await f(r,t)),e(l))throw new a(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:r});const{serverType:n,sublayer:o}=l;let u;const i={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":m(r,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=S(r,t).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=S(l.url.path,t).then((e=>{const r={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){const a=e.layers[0].layerType;if(null!=r[a])return r[a]}return\"SceneLayer\"}));break;default:u=i[n]}const y={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,d={parsedUrl:l,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},I=await u;if(y[I]&&null==o){const e=await p(r,n,t);c&&(d.sublayerInfos=e.layerInfos,d.tableInfos=e.tableInfos);if(1!==e.layerIds.length+e.tableIds.length)d.sublayerIds=e.layerIds,d.tableIds=e.tableIds;else if(c){var v,w;d.layerOrTableId=null!=(v=e.layerIds[0])?v:e.tableIds[0],d.sourceJSON=null!=(w=e.layerInfos[0])?w:e.tableInfos[0]}}return d.Constructor=await b(I),d}async function f(e,a){const n=await S(e,a);let s=null,u=null;const i=n.type;if(\"Feature Layer\"===i||\"Table\"===i?(s=\"FeatureServer\",u=n.id):\"indexedVector\"===i?s=\"VectorTileServer\":n.hasOwnProperty(\"mapName\")?s=\"MapServer\":n.hasOwnProperty(\"bandCount\")&&n.hasOwnProperty(\"pixelSizeX\")?s=\"ImageServer\":n.hasOwnProperty(\"maxRecordCount\")&&n.hasOwnProperty(\"allowGeometryUpdates\")?s=\"FeatureServer\":n.hasOwnProperty(\"streamUrls\")&&(s=\"StreamServer\"),!s)return null;const y=null!=u?o(e):null;return{title:r(y)&&n.name||t(e),serverType:s,sublayer:u,url:{path:r(y)?y.serviceUrl:l(e).path}}}async function p(e,r,a){var t,l;let n,s=!1;if(\"FeatureServer\"===r){const r=await v(e,a);s=!!r.layersJSON,n=r.layersJSON||r.serviceJSON}else n=await S(e,a);const o=null==(t=n)?void 0:t.layers,u=null==(l=n)?void 0:l.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==u?void 0:u.map((e=>e.id)).reverse())||[],layerInfos:s?o:[],tableInfos:s?u:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function v(e,r){var a,t;let l=await S(e,r);l=l||{},l.layers=(null==(a=l.layers)?void 0:a.filter(I))||[];const n={serviceJSON:l};if(l.currentVersion<10.5)return n;const s=await S(e+\"/layers\",r);return n.layersJSON={layers:(null==s||null==(t=s.layers)?void 0:t.filter(I))||[],tables:(null==s?void 0:s.tables)||[]},n}async function b(e){return(0,u[e])()}async function m(e,r){return(await S(e,r)).tileInfo}async function S(e,r){return(await n(e,{responseType:\"json\",query:{f:\"json\",...r}})).data}export{i as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":""}
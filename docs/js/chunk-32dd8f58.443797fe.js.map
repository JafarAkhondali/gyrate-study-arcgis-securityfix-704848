{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/chunks/DefaultMaterial.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js","webpack:///./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/wosrLoader.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js","webpack:///./node_modules/@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/DefaultErrorContext.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/loader.js","webpack:///./node_modules/@arcgis/core/chunks/vec33.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/TextureAtlasLookup.glsl.js","webpack:///./node_modules/@arcgis/core/core/Version.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","webpack:///./node_modules/@arcgis/core/chunks/vec32.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DoublePrecision.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexTextureCoordinates.glsl.js","webpack:///./node_modules/@arcgis/core/views/webgl/BufferObject.js","webpack:///./node_modules/@arcgis/core/chunks/scalar.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js","webpack:///./node_modules/@arcgis/core/views/webgl/Util.js","webpack:///./node_modules/@arcgis/core/views/webgl/reservedWordsGLSL3.js","webpack:///./node_modules/@arcgis/core/views/webgl/ShaderTranspiler.js","webpack:///./node_modules/@arcgis/core/views/webgl/Program.js","webpack:///./node_modules/@arcgis/core/chunks/vec22.js","webpack:///./node_modules/@arcgis/core/chunks/vec43.js","webpack:///./node_modules/@arcgis/core/chunks/mat32.js","webpack:///./node_modules/@arcgis/core/chunks/mat42.js","webpack:///./node_modules/@arcgis/core/views/3d/support/buffer/utils.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js","webpack:///./node_modules/@arcgis/core/chunks/vec42.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLDriverTest.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js","webpack:///./node_modules/@arcgis/core/chunks/RealisticTree.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexPosition.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DecodeNormal.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/HeaderComment.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/support/buffer/math/common.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RealisticTreeTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateMainLighting.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js"],"names":["P","_","S","vertex","code","$","fragment","include","name","output","uniforms","add","varyings","linearDepth","normalType","offsetBackfaces","instancedColor","attributes","multipassTerrainEnabled","float","vertexTangets","hasColorTexture","textureAlphaPremultiplied","attributeColor","receiveShadows","pbrMode","viewingMode","hasNormalTexture","OITEnabled","Object","freeze","__proto__","build","n","a","o","doubleSidedMode","extensions","attributeTextureCoordinates","supportsTextureAtlas","s","t","i","e","this","_context","_locations","_layout","_buffers","_indexBuffer","_glName","_initialized","instanceCounter","increment","keys","reduce","size","capabilities","vao","deleteVertexArray","getBoundVAO","bindVAO","dispose","decrement","createVertexArray","bindVertexArray","_bindLayout","initialize","glName","console","error","r","gl","bindBuffer","ELEMENT_ARRAY_BUFFER","_unbindLayout","unbindBuffer","bufferType","y","getLogger","async","x","g","resource","textures","A","textureDefinitions","streamDataRequester","h","u","ok","value","data","w","request","details","url","v","params","topology","vertexAttributes","warn","faces","values","valueType","valuesPerElement","material","b","l","c","parse","version","I","validate","p","model","geometries","materialDefinitions","Map","length","M","push","exclusive","Uint32Array","j","texture","has","image","set","get","id","substring","lastIndexOf","transparency","alphaChannelUsage","ambient","diffuse","opacity","transparent","textureAlphaMode","U","textureAlphaCutoff","textureId","initTextureTransparent","doubleSided","cullFace","colorMixMode","externalColorMixMode","materialParamsMixin","assign","T","position","stageResources","materials","pivotOffset","boundingBox","numberOfVertices","lodThreshold","forEach","boundingInfo","getBBMin","getBBMax","images","encoding","noUnpackFlip","wrap","preMultiplyAlpha","disableTextures","Promise","resolve","then","refId","channels","all","region","load","responseType","binary","json","int","Image","src","width","height","decode","colorTarget","depthStencilTarget","target","wrapMode","pixelFormat","dataType","samplingMode","createVertex","Uint16Array","m","a_pos","geometry","count","type","offset","stride","normalized","d","bindProgram","bindTexture","setUniform1i","getBoundFramebufferObject","f","getViewport","bindFramebuffer","setViewport","drawArrays","Uint8Array","readPixels","errorUnsupported","warnUnsupported","color","alphaMode","alphaCutoff","castShadows","receiveAmbientOcclustion","textureColor","textureNormal","textureOcclusion","textureEmissive","textureMetallicRoughness","emissiveFactor","metallicFactor","roughnessFactor","parameters","mipmap","offset4","dataUint32","Math","floor","byteLength","baseColorFactor","pbrMetallicRoughness","ESRI_externalColorMixMode","extras","magFilter","minFilter","wrapS","wrapT","replace","dirPart","filePart","D","MAGIC","CHUNK_TYPE_JSON","CHUNK_TYPE_BIN","MIN_HEADER_LENGTH","context","errorContext","uri","glbBuffer","bufferCache","textureCache","materialCache","nodeParentMap","nodeTransformCache","baseUri","checkVersionSupported","checkRequiredExtensionsSupported","errorUnsupportedIf","scenes","meshes","nodes","computeNodeParents","mediaType","JSON","isBase64","atob","isGLBData","fromGLBData","endsWith","loadJSON","loadBinary","remainingBytes","readUint32","parseGLBData","binaryData","assert","X","readUint8Array","buffers","resolveUri","accessors","bufferView","bufferViews","getBuffer","buffer","F","k","componentType","byteStride","raw","byteOffset","entryCount","isDenselyPacked","componentCount","componentByteSize","min","max","indices","getAccessor","wrapAccessor","POSITION","q","toFixed","NORMAL","TANGENT","TEXCOORD_0","V","COLOR_0","hasVertexColors","baseColorTexture","texCoord","getTexture","index","normalTexture","occlusionTexture","emissiveTexture","metallicRoughnessTexture","colorTexture","vertexColors","sampler","samplers","source","loadImage","mimeType","J","getNodeTransform","getNodeParent","matrix","translation","rotation","scale","asset","G","extensionsRequired","join","children","PI","SCALAR","VEC2","VEC3","VEC4","5120","5121","5122","5123","5126","5125","Blob","FileReader","onload","result","onerror","readAsText","URL","createObjectURL","addEventListener","revokeObjectURL","lods","meta","ESRI_type","mode","hasPositions","getMaterial","transform","getPositionData","normal","texCoord0","tangent","getIndexData","primitiveType","hasNormals","getNormalData","hasTangents","getTangentData","hasTextureCoordinates","getTextureCoordinates","getVertexColors","ESRI_lod","metric","thresholds","parts","isEsriSymbolResource","customMeta","ESRI_proxyEllipsoid","scene","MSFT_lod","ids","map","warnUnsupportedIf","weights","mesh","primitives","Array","isArray","some","typedBuffer","typedBufferStride","dstIndex","srcIndex","copy","major","minor","lessThan","split","match","parseInt","useCustomDTRExponentForWater","B","transformMat4","transformMat3","shiftRight","doublePrecisionRequiresObfuscation","symbolColor","receiveAmbientOcclusion","usage","_size","_indexType","createBuffer","setData","deleteBuffer","bufferData","ArrayBuffer","isView","slice","bufferSubData","TypedArrayConstructor","makeDense","setUniformMatrix4fv","bindUniforms","vertexBuffers","layout","instancing","baseInstance","divisor","vertexAttribPointer","enableVertexAttribArray","vertexAttribDivisor","disableVertexAttribArray","colorAttachment","depthStencilAttachment","descriptor","internalFormat","hasMipmap","E","O","L","C","line","column","z","Z","W","test","indexOf","concat","exec","Error","splice","toString","trim","_vShader","_fShader","_defines","_nameToUniformLocation","_nameToAttribLocation","_nameToUniform1","_nameToUniform1v","_nameToUniform2","_nameToUniform3","_nameToUniform4","_nameToUniformMatrix3","_nameToUniformMatrix4","_vertexShaderSource","_fragmentShaderSource","deleteShader","deleteProgram","_loadShader","createProgram","attachShader","bindAttribLocation","linkProgram","getUniformLocation","getAttribLocation","uniform1i","uniform1iv","_arrayCopy","_arrayAssign","uniform2iv","uniform3iv","uniform4iv","uniform1f","uniform1fv","uniform2f","uniform2fv","uniform3f","uniform3fv","uniform4f","uniform4fv","uniformMatrix3fv","uniformMatrix4fv","locations","_padToThree","contextVersion","createShader","shaderSource","compileShader","elementType","normalizeIntegerBuffer","fill","ElementCount","ElementType","fileType","cache","loadWOSR","referenceBoundingBox","isWosr","remove","loadGLTF","usePBR","isSchematic","treeRendering","esriTreeRendering","mrrFactors","specifiedLodIndex","K","Number","Q","doubleSidedType","vertexTangents","normals","receiveSSAO","normalTextureId","occlusionTextureId","emissiveTextureId","metallicRoughnessTextureId","H","elementCount","R","getVec","center","radius","setVec","svgAlwaysPremultipliesAlpha","_doublePrecisionRequiresObfuscation","Float32Array","setUniform3f","abs","hasMetalnessAndRoughnessTexture","hasEmissionTexture","hasOcclusionTexture","setUniform3fv","verticalOffset","selectionMode","hud","selectOpaqueTerrainOnly","invisibleTerrain","backfacesTerrain","isFiltered","store","_transform","_transformInverse","_transformInverseTranspose","_transformTranspose","_transformInverseRotation","invalidate","invalidateLazyTransforms","setTransformMatrix","multiplyTransform","original","update","dirty","ground","init","transformation","_ray","create","dist","Y","ray","direction","hasIntersectionPoint","origin","drapedLayerOrder","drapedLayerGraphicOrder","geometryId","triangleNr","intersector","obj","metadata","N","layerUid","graphicsView","graphics3d","layer","graphics","findLayerByUid","getGraphicFromGraphicUid","graphicUid","allLayerViews","find","suspended","getGraphicFromIntersectorMetadata","createGraphic","tmpVertex","localOrigin","sqrt","componentLocalOriginLength","mbs","obb","halfSize","quaternion","sphere","objectTransform","inverse","worldFromModel_RS","worldFromModel_TH","worldFromModel_TL","ModelTransform","worldFromView_TH","worldFromView_TL","viewFromCameraRelative_RS","projFromView","setUniformMatrix3fv","ViewProjectionTransform","bindModelTransform","bindViewProjTransform","shadowMappingEnabled","shadowMap","bind","bindView","bindViewCustomOrigin","instanced","instancedDoublePrecision","Uniforms","bindCustomOrigin","shader","configuration","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","symbolColors","vvSize","vvColor","vvInstancingEnabled","useOldSceneLightInterface","normalsTypeDerivate","screenSizePerspectiveEnabled","screenSizePerspective","verticalOffsetEnabled","rctx","alphaDiscardMode","cullAboveGround","generateSource","bindProjectionMatrix","program","camera","projectionMatrix","setUniform2fv","nearFar","inverseViewport","setUniform1f","layerOpacity","setUniform4fv","externalColor","lighting","setUniforms","bindOutputHighlight","bindUniformsForSymbols","viewInverseTransposeMatrix","viewMatrix","bindCamPosition","slicePlane","blending","culling","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","sceneHasOcludees","stencilTest","polygonOffset","enableOffset","_occludeePipelineState","setPipeline","pipeline","face","super","arguments","prototype","supportsEdges","techniqueConfig","vertexBufferLayout","getVertexBufferLayout","instanceBufferLayout","getInstanceBufferLayout","isVisible","vvColorEnabled","vvSizeEnabled","ssaoEnabled","offsetTransparentBackfaces","relativeElevation","eye","inverseRotation","vec3f","vec4f","vec2f","vec4u8","mat3f","mat4f","updateParameters","updateTexture","technique","techniqueRep","acquireAndReleaseExisting","getTechniqueConfig","setParameterValues","hasOccludees","_updateShadowState","_updateOccludeeState","bindPass","getPipelineState","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvSizeValue","vvColorValues","vvColorColors","vvSymbolAnchor","vvSymbolRotationMatrix","invTranspTransformation","lightingSphericalHarmonicsOrder"],"mappings":"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","file":"js/chunk-32dd8f58.443797fe.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{VisualVariables as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as t,DiscardOrAdjustAlpha as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{VerticalOffset as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{multipassTerrainTest as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as c}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ForwardLinearDepth as g}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{PhysicallyBasedRendering as m}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{InstancedDoublePrecision as v}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{TextureCoordinateAttribute as p}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{PhysicallyBasedRenderingParameters as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Offset as b}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{NormalAttribute as h}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as f}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as x}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{VertexColor as w}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VertexNormal as y}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{DefaultMaterialAuxiliaryPasses as C}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ComputeNormalTexture as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js\";import{EvaluateAmbientOcclusion as j}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as M}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{Normals as T}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js\";import{HeaderComment as E}from\"../views/3d/webgl-engine/core/shaderLibrary/util/HeaderComment.glsl.js\";import{MixExternalColor as O}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";function P(P){const _=new o,S=_.vertex.code,$=_.fragment.code;return _.include(E,{name:\"Default Material Shader\",output:P.output}),_.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\"),_.include(f),_.varyings.add(\"vpos\",\"vec3\"),_.include(l,P),_.include(v,P),_.include(n,P),0!==P.output&&7!==P.output||(_.include(h,P),_.include(r,{linearDepth:!1}),0===P.normalType&&P.offsetBackfaces&&_.include(b),_.include(L,P),_.include(y,P),P.instancedColor&&_.attributes.add(\"instanceColor\",\"vec4\"),_.varyings.add(\"localvpos\",\"vec3\"),_.include(p,P),_.include(g,P),_.include(x,P),_.include(w,P),_.vertex.uniforms.add(\"externalColor\",\"vec4\"),_.varyings.add(\"vcolorExt\",\"vec4\"),P.multipassTerrainEnabled&&_.varyings.add(\"depth\",\"float\"),S.add(e`\n      void main(void) {\n        forwardNormalizedVertexColor();\n        vcolorExt = externalColor;\n        ${P.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n        vcolorExt *= vvColor();\n        vcolorExt *= getSymbolColor();\n        forwardColorMixMode();\n\n        if (vcolorExt.a < ${e.float(t)}) {\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        }\n        else {\n          vpos = calculateVPos();\n          localvpos = vpos - view[3].xyz;\n          vpos = subtractOrigin(vpos);\n          ${0===P.normalType?e`\n          vNormalWorld = dpNormal(vvLocalNormal(normalModel()));`:\"\"}\n          vpos = addVerticalOffset(vpos, localOrigin);\n          ${P.vertexTangets?\"vTangent = dpTransformVertexTangent(tangent);\":\"\"}\n          gl_Position = transformPosition(proj, view, vpos);\n          ${0===P.normalType&&P.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, camPos);\":\"\"}\n        }\n\n        ${P.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n        forwardLinearDepth();\n        forwardTextureCoordinates();\n      }\n    `)),7===P.output&&(_.include(a,P),_.include(s,P),P.multipassTerrainEnabled&&(_.fragment.include(i),_.include(d,P)),_.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),P.hasColorTexture&&_.fragment.uniforms.add(\"tex\",\"sampler2D\"),_.fragment.include(O),$.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${P.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${P.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${P.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        ${P.attributeColor?e`\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),0===P.output&&(_.include(a,P),_.include(M,P),_.include(j,P),_.include(s,P),P.receiveShadows&&_.include(c,P),P.multipassTerrainEnabled&&(_.fragment.include(i),_.include(d,P)),_.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"ambient\",\"vec3\").add(\"diffuse\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),P.hasColorTexture&&_.fragment.uniforms.add(\"tex\",\"sampler2D\"),_.include(u,P),_.include(m,P),_.fragment.include(O),_.include(T,P),$.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${P.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${P.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${P.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        shadingParams.viewDirection = normalize(vpos - camPos);\n        ${3===P.normalType?e`\n        vec3 normal = screenDerivativeNormal(localvpos);`:e`\n        shadingParams.normalView = vNormalWorld;\n        vec3 normal = shadingNormal(shadingParams);`}\n        ${1===P.pbrMode?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        float additionalAmbientScale = _oldHeuristicLighting(vpos + localOrigin);\n        vec3 additionalLight = ssao * lightingMainIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n        ${P.receiveShadows?\"float shadow = readShadowMap(vpos, linearDepth);\":1===P.viewingMode?\"float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);\":\"float shadow = 0.0;\"}\n        vec3 matColor = max(ambient, diffuse);\n        ${P.attributeColor?e`\n        vec3 albedo_ = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        vec3 albedo_ = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        ${P.hasNormalTexture?e`\n              mat3 tangentSpace = ${P.vertexTangets?\"computeTangentSpace(normal);\":\"computeTangentSpace(normal, vpos, vuv0);\"}\n              vec3 shadedNormal = computeTextureNormal(tangentSpace, vuv0);`:\"vec3 shadedNormal = normal;\"}\n        ${1===P.pbrMode||2===P.pbrMode?1===P.viewingMode?e`vec3 normalGround = normalize(vpos + localOrigin);`:e`vec3 normalGround = vec3(0.0, 0.0, 1.0);`:e``}\n        ${1===P.pbrMode||2===P.pbrMode?e`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * lightingMainIntensity[2];\n            vec3 shadedColor = evaluateSceneLightingPBR(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:\"vec3 shadedColor = evaluateSceneLighting(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight);\"}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${P.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),_.include(C,P),_}var _=Object.freeze({__proto__:null,build:P});export{_ as D,P as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{VertexTextureCoordinates as t}from\"../attributes/VertexTextureCoordinates.glsl.js\";function n(n,a){const o=n.fragment;o.uniforms.add(\"normalTexture\",\"sampler2D\"),o.uniforms.add(\"normalTextureSize\",\"vec2\"),a.vertexTangets?(n.attributes.add(\"tangent\",\"vec4\"),n.varyings.add(\"vTangent\",\"vec4\"),2===a.doubleSidedMode?o.code.add(e`\n      mat3 computeTangentSpace(vec3 normal) {\n        float tangentHeadedness = gl_FrontFacing ? vTangent.w : -vTangent.w;\n        vec3 tangent = normalize(gl_FrontFacing ? vTangent.xyz : -vTangent.xyz);\n        vec3 bitangent = cross(normal, tangent) * tangentHeadedness;\n        return mat3(tangent, bitangent, normal);\n      }\n    `):o.code.add(e`\n      mat3 computeTangentSpace(vec3 normal) {\n        float tangentHeadedness = vTangent.w;\n        vec3 tangent = normalize(vTangent.xyz);\n        vec3 bitangent = cross(normal, tangent) * tangentHeadedness;\n        return mat3(tangent, bitangent, normal);\n      }\n    `)):(n.extensions.add(\"GL_OES_standard_derivatives\"),o.code.add(e`\n    mat3 computeTangentSpace(vec3 normal, vec3 pos, vec2 st) {\n\n      vec3 Q1 = dFdx(pos);\n      vec3 Q2 = dFdy(pos);\n\n      vec2 stx = dFdx(st);\n      vec2 sty = dFdy(st);\n\n      float det = stx.t * sty.s - sty.t * stx.s;\n\n      vec3 T = stx.t * Q2 - sty.t * Q1; // compute tangent\n      T = T - normal * dot(normal, T); // orthogonalize tangent\n      T *= inversesqrt(max(dot(T,T), 1.e-10)); // \"soft\" normalize - goes to 0 when T goes to 0\n      vec3 B = sign(det) * cross(normal, T); // assume normal is normalized, B has the same lenght as B\n      return mat3(T, B, normal); // T and B go to 0 when the tangent space is not well defined by the uv coordinates\n    }\n  `)),0!==a.attributeTextureCoordinates&&(n.include(t,a),o.code.add(e`\n    vec3 computeTextureNormal(mat3 tangentSpace, vec2 uv) {\n      vtc.uv = uv;\n      ${a.supportsTextureAtlas?\"vtc.size = normalTextureSize;\":\"\"}\n      vec3 rawNormal = textureLookup(normalTexture, vtc).rgb * 2.0 - 1.0;\n      return tangentSpace * rawNormal;\n    }\n  `))}export{n as ComputeNormalTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../core/maybe.js\";import{bindVertexBufferLayout as i,unbindVertexBufferLayout as e}from\"./Util.js\";class s{constructor(t,i,e,s,n){this._context=t,this._locations=i,this._layout=e,this._buffers=s,this._indexBuffer=n,this._glName=null,this._initialized=!1,t.instanceCounter.increment(2,this)}get glName(){return this._glName}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get size(){return Object.keys(this._buffers).reduce(((t,i)=>t+this._buffers[i].size),this._indexBuffer?this._indexBuffer.size:0)}get layout(){return this._layout}get locations(){return this._locations}dispose(i=!0){if(!this._context)return;const e=this._context.capabilities.vao;e&&this._glName&&(e.deleteVertexArray(this._glName),this._glName=null);if(this._context.getBoundVAO()===this&&this._context.bindVAO(null),i){for(const t in this._buffers)this._buffers[t].dispose(),delete this._buffers[t];this._indexBuffer=t(this._indexBuffer)}this._context.instanceCounter.decrement(2,this),this._context=null}initialize(){if(this._initialized)return;const t=this._context.capabilities.vao;if(t){const i=t.createVertexArray();t.bindVertexArray(i),this._bindLayout(),t.bindVertexArray(null),this._glName=i}this._initialized=!0}bind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}_bindLayout(){const t=this._buffers,e=!!this._context.capabilities.vao,s=this._layout,n=this._indexBuffer;t||console.error(\"Vertex buffer dictionary is empty!\");const r=this._context.gl;for(const o in t){const e=t[o];e||console.error(\"Vertex buffer is uninitialized!\");const n=s[o];n||console.error(\"Vertex element descriptor is empty!\"),i(this._context,this._locations,e,n)}n&&(e?r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n.glName):this._context.bindBuffer(n))}unbind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(null):this._unbindLayout()}_unbindLayout(){const t=this._buffers,i=this._layout;t||console.error(\"Vertex buffer dictionary is empty!\");for(const s in t){const n=t[s];n||console.error(\"Vertex buffer is uninitialized!\");const r=i[s];e(this._context,this._locations,n,r)}this._indexBuffer&&this._context.unbindBuffer(this._indexBuffer.bufferType)}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../shaderModules/interfaces.js\";function e(e){e.vertex.code.add(o`\n    vec4 offsetBackfacingClipPosition(vec4 posClip, vec3 posWorld, vec3 normalWorld, vec3 camPosWorld) {\n      vec3 camToVert = posWorld - camPosWorld;\n\n      bool isBackface = dot(camToVert, normalWorld) > 0.0;\n      if (isBackface) {\n        posClip.z += 0.0000003 * posClip.w;\n      }\n      return posClip;\n    }\n  `)}export{e as Offset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t}from\"../../../../core/maybe.js\";import r from\"../../../../core/Logger.js\";import n from\"../../../../core/Error.js\";import{throwIfAbortError as a}from\"../../../../core/promiseUtils.js\";import s from\"../../../../request.js\";import{result as o}from\"../../../../core/asyncUtils.js\";import{d as i}from\"../../../../chunks/vec3f64.js\";import{Version as u}from\"../../../../core/Version.js\";import{empty as l,expandWithVec3 as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{requestImage as p}from\"../../../../support/requestImageUtils.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{DefaultMaterial as f}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{Texture as d}from\"../../webgl-engine/lib/Texture.js\";const y=r.getLogger(\"esri.views.3d.layers.graphics.objectResourceUtils\");async function x(e,t){const r=await g(e,t);return{resource:r,textures:await A(r.textureDefinitions,t)}}async function g(r,n){const i=e(n)&&n.streamDataRequester;if(i)return h(r,i,n);const u=await o(s(r,t(n)));if(!0===u.ok)return u.value.data;a(u.error),w(u.error)}async function h(e,t,r){const n=await o(t.request(e,\"json\",r));if(!0===n.ok)return n.value;a(n.error),w(n.error.details.url)}function w(e){throw new n(\"\",`Request for object resource failed: ${e}`)}function v(e){const t=e.params,r=t.topology;let n=!0;switch(t.vertexAttributes||(y.warn(\"Geometry must specify vertex attributes\"),n=!1),t.topology){case\"PerAttributeArray\":break;case\"Indexed\":case null:case void 0:{const e=t.faces;if(e){if(t.vertexAttributes)for(const r in t.vertexAttributes){const t=e[r];t&&t.values?(null!=t.valueType&&\"UInt32\"!==t.valueType&&(y.warn(`Unsupported indexed geometry indices type '${t.valueType}', only UInt32 is currently supported`),n=!1),null!=t.valuesPerElement&&1!==t.valuesPerElement&&(y.warn(`Unsupported indexed geometry values per element '${t.valuesPerElement}', only 1 is currently supported`),n=!1)):(y.warn(`Indexed geometry does not specify face indices for '${r}' attribute`),n=!1)}}else y.warn(\"Indexed geometries must specify faces\"),n=!1;break}default:y.warn(`Unsupported topology '${r}'`),n=!1}e.params.material||(y.warn(\"Geometry requires material\"),n=!1);const a=e.params.vertexAttributes;for(const s in a){a[s].values||(y.warn(\"Geometries with externally defined attributes are not yet supported\"),n=!1)}return n}function b(t,r){const n=[],a=[],s=[],o=[],l=t.resource,c=u.parse(l.version||\"1.0\",\"wosr\");I.validate(c);const p=l.model.name,y=l.model.geometries,x=l.materialDefinitions,g=t.textures;let h=0;const w=new Map;for(let u=0;u<y.length;u++){const t=y[u];if(!v(t))continue;const l=M(t),c=t.params.vertexAttributes,p=[];for(const e in c){const t=c[e],r=t.values;p.push([e,{data:r,size:t.valuesPerElement,exclusive:!0}])}const b=[];if(\"PerAttributeArray\"!==t.params.topology){const e=t.params.faces;for(const t in e)b.push([t,new Uint32Array(e[t].values)])}const j=g&&g[l.texture];if(j&&!w.has(l.texture)){const{image:e,params:t}=j,r=new d(e,t);o.push(r),w.set(l.texture,r)}const A=w.get(l.texture),I=A?A.id:void 0;let P=s[l.material]?s[l.material][l.texture]:null;if(!P){const t=x[l.material.substring(l.material.lastIndexOf(\"/\")+1)].params;1===t.transparency&&(t.transparency=0);const n=j&&j.alphaChannelUsage,a=t.transparency>0||\"transparency\"===n||\"maskAndTransparency\"===n,o={ambient:i(t.diffuse),diffuse:i(t.diffuse),opacity:1-(t.transparency||0),transparent:a,textureAlphaMode:j?U(j.alphaChannelUsage):void 0,textureAlphaCutoff:.33,textureId:I,initTextureTransparent:!0,doubleSided:!0,cullFace:0,colorMixMode:t.externalColorMixMode||\"tint\",textureAlphaPremultiplied:!0};e(r)&&r.materialParamsMixin&&Object.assign(o,r.materialParamsMixin),P=new f(o),s[l.material]||(s[l.material]={}),s[l.material][l.texture]=P}a.push(P);const T=new m(p,b);h+=b.position?b.position.length:0,n.push(T)}return{name:p,stageResources:{textures:o,materials:a,geometries:n},pivotOffset:l.model.pivotOffset,boundingBox:j(n),numberOfVertices:h,lodThreshold:null}}function j(t){const r=l();return t.forEach((t=>{const n=t.boundingInfo;e(n)&&(c(r,n.getBBMin()),c(r,n.getBBMax()))})),r}async function A(t,r){const n=[];for(const o in t){const a=t[o],s=a.images[0].data;if(!s){y.warn(\"Externally referenced texture data is not yet supported\");continue}const i=a.encoding+\";base64,\"+s,u=\"/textureDefinitions/\"+o,l={noUnpackFlip:!0,wrap:{s:10497,t:10497},preMultiplyAlpha:!0},c=e(r)&&r.disableTextures?Promise.resolve(null):p(i,r);n.push(c.then((e=>({refId:u,image:e,params:l,alphaChannelUsage:\"rgba\"===a.channels?a.alphaChannelUsage||\"transparency\":\"none\"}))))}const a=await Promise.all(n),s={};for(const e of a)s[e.refId]=e;return s}function U(e){switch(e){case\"mask\":return 2;case\"maskAndTransparency\":return 3;case\"none\":return 1;case\"transparency\":default:return 0}}function M(e){const t=e.params;return{id:1,material:t.material,texture:t.texture,region:t.texture}}const I=new u(1,2,\"wosr\");export{A as createTextureResources,x as load,b as processLoadResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"../../../core/maybe.js\";import e from\"../../../core/Error.js\";import{isDataProtocol as o,dataToArrayBuffer as s}from\"../../../core/urlUtils.js\";import{throwIfAborted as t,throwIfAbortError as a}from\"../../../core/promiseUtils.js\";import i from\"../../../request.js\";import{result as m}from\"../../../core/asyncUtils.js\";class n{constructor(r){this.streamDataRequester=r}async loadJSON(r,e){return this.load(\"json\",r,e)}async loadBinary(r,e){return o(r)?(t(e),s(r)):this.load(\"binary\",r,e)}async loadImage(r,e){return this.load(\"image\",r,e)}async load(o,s,t){if(r(this.streamDataRequester))return(await i(s,{responseType:c[o]})).data;const n=await m(this.streamDataRequester.request(s,o,t));if(!0===n.ok)return n.value;throw a(n.error),new e(\"\",`Request for resource failed: ${n.error}`)}}const c={image:\"image\",binary:\"array-buffer\",json:\"json\"};export{n as DefaultLoadingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ColorConversion as t}from\"./ColorConversion.glsl.js\";function i(i){i.include(t),i.code.add(e`\n    vec3 mixExternalColor(vec3 internalColor, vec3 textureColor, vec3 externalColor, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      vec3 internalMixed = internalColor * textureColor;\n      vec3 allMixed = internalMixed * externalColor;\n\n      if (mode == ${e.int(1)}) {\n        return allMixed;\n      }\n      else if (mode == ${e.int(2)}) {\n        return internalMixed;\n      }\n      else if (mode == ${e.int(3)}) {\n        return externalColor;\n      }\n      else {\n        // tint (or something invalid)\n        float vIn = rgb2v(internalMixed);\n        vec3 hsvTint = rgb2hsv(externalColor);\n        vec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);\n        return hsv2rgb(hsvOut);\n      }\n    }\n\n    float mixExternalOpacity(float internalOpacity, float textureOpacity, float externalOpacity, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      float internalMixed = internalOpacity * textureOpacity;\n      float allMixed = internalMixed * externalOpacity;\n\n      if (mode == ${e.int(2)}) {\n        return internalMixed;\n      }\n      else if (mode == ${e.int(3)}) {\n        return externalOpacity;\n      }\n      else {\n        // multiply or tint (or something invalid)\n        return allMixed;\n      }\n    }\n  `)}export{i as MixExternalColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import e from\"./Program.js\";import r from\"./BufferObject.js\";import t from\"./Texture.js\";import i from\"./VertexArrayObject.js\";import o from\"./FramebufferObject.js\";async function n(n){const a=new Image;if(a.src=\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A\",a.width=5,a.height=5,await a.decode(),!n.gl)return!0;const s=new o(n,{colorTarget:0,depthStencilTarget:0},{target:3553,wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1}),p=r.createVertex(n,35044,new Uint16Array([0,0,1,0,0,1,1,1])),m=new i(n,{a_pos:0},{geometry:[{name:\"a_pos\",count:2,type:5123,offset:0,stride:4,normalized:!1}]},{geometry:p}),d=new e(n,\"\\n  precision highp float;\\n\\n  attribute vec2 a_pos;\\n  varying vec2 v_uv;\\n\\n  void main() {\\n    v_uv = a_pos;\\n    gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n  }\\n  \",\"\\n  precision highp float;\\n\\n  varying vec2 v_uv;\\n  uniform sampler2D u_texture;\\n\\n  void main() {\\n    gl_FragColor = texture2D(u_texture, v_uv);\\n  }\\n  \",{a_pos:0});n.bindProgram(d);const g=new t(n,{dataType:5121,pixelFormat:6408,preMultiplyAlpha:!1,wrapMode:33071,samplingMode:9729},a);n.bindTexture(g,0),d.setUniform1i(\"u_texture\",0);const c=n.getBoundFramebufferObject(),{x:f,y:u,width:l,height:w}=n.getViewport();n.bindFramebuffer(s),n.setViewport(0,0,1,1),n.bindVAO(m),n.drawArrays(5,0,4);const h=new Uint8Array(4);return s.readPixels(0,0,1,1,6408,5121,h),d.dispose(),m.dispose(!1),p.dispose(),s.dispose(),g.dispose(),n.setViewport(f,u,l,w),n.bindFramebuffer(c),a.src=\"\",255===h[0]}export{n as testSVGPremultipliedAlpha};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../../core/Logger.js\";import e from\"../../../core/Error.js\";const o=r.getLogger(\"esri.views.3d.glTF\");class t{error(r){throw new e(\"gltf-loader-error\",r)}errorUnsupported(r){throw new e(\"gltf-loader-unsupported-feature\",r)}errorUnsupportedIf(r,e){r&&this.errorUnsupported(e)}assert(r,e){r||this.error(e)}warn(r){o.warn(r)}warnUnsupported(r){this.warn(\"[Unsupported Feature] \"+r)}warnUnsupportedIf(r,e){r&&this.warnUnsupported(e)}}export{t as DefaultErrorContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e={}){return{color:[1,1,1],opacity:1,alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:\"multiply\",...e}}function t(e,t={}){return{data:e,parameters:{wrap:{s:10497,t:10497,...t.wrap},noUnpackFlip:!0,mipmap:!1,...t}}}export{e as makeMaterialParameters,t as makeTextureSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.data=t,this.offset4=0,this.dataUint32=new Uint32Array(this.data,0,Math.floor(this.data.byteLength/4))}readUint32(){const t=this.offset4;return this.offset4+=1,this.dataUint32[t]}readUint8Array(t){const s=4*this.offset4;return this.offset4+=t/4,new Uint8Array(this.data,s,t)}remainingBytes(){return this.data.byteLength-4*this.offset4}}export{t as BinaryStreamReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";const o={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},r={pbrMetallicRoughness:o,emissiveFactor:[0,0,0],alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1},t={ESRI_externalColorMixMode:\"tint\"},a=(e={})=>{const a={...o,...e.pbrMetallicRoughness},i=l({...t,...e.extras});return{...r,...e,pbrMetallicRoughness:a,extras:i}};function l(o){switch(o.ESRI_externalColorMixMode){case\"multiply\":case\"tint\":case\"ignore\":case\"replace\":break;default:e(o.ESRI_externalColorMixMode),o.ESRI_externalColorMixMode=\"tint\"}return o}const i={magFilter:9729,minFilter:9987,wrapS:10497,wrapT:10497},s=e=>({...i,...e});export{a as material,s as textureSampler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction r(r){let e,t;return r.replace(/^(.*\\/)?([^/]*)$/,((r,a,i)=>(e=a||\"\",t=i||\"\",\"\"))),{dirPart:e,filePart:t}}export{r as splitURI};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{isDataProtocol as t,dataComponents as r,dataToArrayBuffer as n,makeAbsolute as o}from\"../../../../core/urlUtils.js\";import{Version as s}from\"../../../../core/Version.js\";import{m as a,t as i,r as u,s as c,k as p}from\"../../../../chunks/mat4.js\";import{a as d,b as f}from\"../../../../chunks/mat4f64.js\";import{a as l}from\"../../../../chunks/quatf64.js\";import{BufferViewUint32 as m,BufferViewUint16 as h,BufferViewUint8 as y,BufferViewVec3f as b,BufferViewVec4f as T,BufferViewVec2f as x,BufferViewVec4u8 as w,BufferViewVec4u16 as O,BufferViewVec3u8 as C,BufferViewVec3u16 as g,BufferViewVec2u32 as N,BufferViewVec2u16 as U,BufferViewVec2i16 as S,BufferViewVec2u8 as A,BufferViewVec2i8 as I}from\"../../support/buffer/BufferView.js\";import{g as R}from\"../../../../chunks/quat.js\";import{BinaryStreamReader as L}from\"./BinaryStreamReader.js\";import{material as v,textureSampler as E}from\"./fillDefaults.js\";import{splitURI as B}from\"./pathUtils.js\";import{m as M}from\"../../../../chunks/scalar.js\";const D={MAGIC:1179937895,CHUNK_TYPE_JSON:1313821514,CHUNK_TYPE_BIN:5130562,MIN_HEADER_LENGTH:20};class j{constructor(e,t,r,n,o){this.context=e,this.errorContext=t,this.uri=r,this.json=n,this.glbBuffer=o,this.bufferCache=new Map,this.textureCache=new Map,this.materialCache=new Map,this.nodeParentMap=new Map,this.nodeTransformCache=new Map,this.baseUri=B(this.uri).dirPart,this.checkVersionSupported(),this.checkRequiredExtensionsSupported(),t.errorUnsupportedIf(null==n.scenes,\"Scenes must be defined.\"),t.errorUnsupportedIf(null==n.meshes,\"Meshes must be defined\"),t.errorUnsupportedIf(null==n.nodes,\"Nodes must be defined.\"),this.computeNodeParents()}static async load(e,o,s,a){if(t(s)){const t=r(s);if(\"model/gltf-binary\"!==t.mediaType)try{const r=JSON.parse(t.isBase64?atob(t.data):t.data);return new j(e,o,s,r)}catch{}const a=n(s);if(j.isGLBData(a))return this.fromGLBData(e,o,s,a)}if(s.endsWith(\".gltf\")){const t=await e.loadJSON(s,a);return new j(e,o,s,t)}const i=await e.loadBinary(s,a);if(j.isGLBData(i))return this.fromGLBData(e,o,s,i);const u=await e.loadJSON(s,a);return new j(e,o,s,u)}static isGLBData(e){const t=new L(e);return t.remainingBytes()>=4&&t.readUint32()===D.MAGIC}static async fromGLBData(e,t,r,n){const o=await j.parseGLBData(t,n);return new j(e,t,r,o.json,o.binaryData)}static async parseGLBData(e,t){const r=new L(t);e.assert(r.remainingBytes()>=12,\"GLB binary data is insufficiently large.\");const n=r.readUint32(),o=r.readUint32(),s=r.readUint32();e.assert(n===D.MAGIC,\"Magic first 4 bytes do not fit to expected GLB value.\"),e.assert(t.byteLength>=s,\"GLB binary data is smaller than header specifies.\"),e.errorUnsupportedIf(2!==o,\"An unsupported GLB container version was detected. Only version 2 is supported.\");let a,i,u=0;for(;r.remainingBytes()>=8;){const t=r.readUint32(),n=r.readUint32();0===u?(e.assert(n===D.CHUNK_TYPE_JSON,\"First GLB chunk must be JSON.\"),e.assert(t>=0,\"No JSON data found.\"),a=await X(r.readUint8Array(t))):1===u?(e.errorUnsupportedIf(n!==D.CHUNK_TYPE_BIN,\"Second GLB chunk expected to be BIN.\"),i=r.readUint8Array(t)):e.warnUnsupported(\"More than 2 GLB chunks detected. Skipping.\"),u+=1}return a||e.error(\"No GLB JSON chunk detected.\"),{json:a,binaryData:i}}async getBuffer(e,t){const r=this.json.buffers[e],n=this.errorContext;if(null==r.uri)return n.assert(null!=this.glbBuffer,\"GLB buffer not present\"),this.glbBuffer;let o=this.bufferCache.get(e);if(!o){const s=await this.context.loadBinary(this.resolveUri(r.uri),t);o=new Uint8Array(s),this.bufferCache.set(e,o),n.assert(o.byteLength===r.byteLength,\"Buffer byte lengths should match.\")}return o}async getAccessor(e,t){const r=this.json.accessors[e],n=this.errorContext;n.errorUnsupportedIf(null==r.bufferView,\"Some accessor does not specify a bufferView.\"),n.errorUnsupportedIf(r.type in[\"MAT2\",\"MAT3\",\"MAT4\"],`AttributeType ${r.type} is not supported`);const o=this.json.bufferViews[r.bufferView],s=await this.getBuffer(o.buffer,t),a=F[r.type],i=k[r.componentType],u=a*i,c=o.byteStride||u;return{raw:s.buffer,byteStride:c,byteOffset:s.byteOffset+(o.byteOffset||0)+(r.byteOffset||0),entryCount:r.count,isDenselyPacked:c===u,componentCount:a,componentByteSize:i,componentType:r.componentType,min:r.min,max:r.max,normalized:!!r.normalized}}async getIndexData(e,t){if(null==e.indices)return null;const r=await this.getAccessor(e.indices,t);if(r.isDenselyPacked)switch(r.componentType){case 5121:return new Uint8Array(r.raw,r.byteOffset,r.entryCount);case 5123:return new Uint16Array(r.raw,r.byteOffset,r.entryCount);case 5125:return new Uint32Array(r.raw,r.byteOffset,r.entryCount)}else switch(r.componentType){case 5121:return M(this.wrapAccessor(y,r));case 5123:return M(this.wrapAccessor(h,r));case 5125:return M(this.wrapAccessor(m,r))}}async getPositionData(e,t){const r=this.errorContext;r.errorUnsupportedIf(null==e.attributes.POSITION,\"No POSITION vertex data found.\");const n=await this.getAccessor(e.attributes.POSITION,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for POSITION vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"POSITION vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(b,n)}async getNormalData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.NORMAL,\"No NORMAL vertex data found.\");const n=await this.getAccessor(e.attributes.NORMAL,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for NORMAL vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"NORMAL vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(b,n)}async getTangentData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TANGENT,\"No TANGENT vertex data found.\");const n=await this.getAccessor(e.attributes.TANGENT,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for TANGENT vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(4!==n.componentCount,\"TANGENT vertex attribute must have 4 components, but found \"+n.componentCount.toFixed()),new T(n.raw,n.byteOffset,n.byteStride,n.byteOffset+n.byteStride*n.entryCount)}async getTextureCoordinates(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TEXCOORD_0,\"No TEXCOORD_0 vertex data found.\");const n=await this.getAccessor(e.attributes.TEXCOORD_0,t);return r.errorUnsupportedIf(2!==n.componentCount,\"TEXCOORD_0 vertex attribute must have 2 components, but found \"+n.componentCount.toFixed()),5126===n.componentType?this.wrapAccessor(x,n):(r.errorUnsupportedIf(!n.normalized,\"Integer component types are only supported for a normalized accessor for TEXCOORD_0.\"),V(n))}async getVertexColors(e,t){const r=this.errorContext;r.assert(null!=e.attributes.COLOR_0,\"No COLOR_0 vertex data found.\");const n=await this.getAccessor(e.attributes.COLOR_0,t);if(r.errorUnsupportedIf(4!==n.componentCount&&3!==n.componentCount,\"COLOR_0 attribute must have 3 or 4 components, but found \"+n.componentCount.toFixed()),4===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(T,n);if(5121===n.componentType)return this.wrapAccessor(w,n);if(5123===n.componentType)return this.wrapAccessor(O,n)}else if(3===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(b,n);if(5121===n.componentType)return this.wrapAccessor(C,n);if(5123===n.componentType)return this.wrapAccessor(g,n)}r.errorUnsupported(\"Unsupported component type for COLOR_0 attribute: \"+q[n.componentType])}hasPositions(e){return void 0!==e.attributes.POSITION}hasNormals(e){return void 0!==e.attributes.NORMAL}hasVertexColors(e){return void 0!==e.attributes.COLOR_0}hasTextureCoordinates(e){return void 0!==e.attributes.TEXCOORD_0}hasTangents(e){return void 0!==e.attributes.TANGENT}async getMaterial(e,t,r){const n=this.errorContext;let o=this.materialCache.get(e.material);if(!o){const s=null!=e.material?v(this.json.materials[e.material]):v(),a=s.pbrMetallicRoughness,i=this.hasVertexColors(e);let u,c,p,d,f;a.baseColorTexture&&(n.errorUnsupportedIf(0!==(a.baseColorTexture.texCoord||0),\"Only TEXCOORD with index 0 is supported.\"),u=await this.getTexture(a.baseColorTexture.index,t)),s.normalTexture&&(0!==(s.normalTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the normal map texture.\"):c=await this.getTexture(s.normalTexture.index,t)),s.occlusionTexture&&r&&(0!==(s.occlusionTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the occlusion texture.\"):p=await this.getTexture(s.occlusionTexture.index,t)),s.emissiveTexture&&r&&(0!==(s.emissiveTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the emissive texture.\"):d=await this.getTexture(s.emissiveTexture.index,t)),a.metallicRoughnessTexture&&r&&(0!==(a.metallicRoughnessTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the metallicRoughness texture.\"):f=await this.getTexture(a.metallicRoughnessTexture.index,t));const l=null!=e.material?e.material:-1;o={alphaMode:s.alphaMode,alphaCutoff:s.alphaCutoff,color:a.baseColorFactor,doubleSided:!!s.doubleSided,colorTexture:u,normalTexture:c,name:s.name,id:l,occlusionTexture:p,emissiveTexture:d,emissiveFactor:s.emissiveFactor,metallicFactor:a.metallicFactor,roughnessFactor:a.roughnessFactor,metallicRoughnessTexture:f,vertexColors:i,ESRI_externalColorMixMode:s.extras.ESRI_externalColorMixMode}}return o}async getTexture(e,t){const r=this.errorContext,n=this.json.textures[e],o=E(null!=n.sampler?this.json.samplers[n.sampler]:{});r.errorUnsupportedIf(null==n.source,\"Source is expected to be defined for a texture.\");const s=this.json.images[n.source];let a=this.textureCache.get(e);if(!a){let n;if(s.uri)n=await this.context.loadImage(this.resolveUri(s.uri),t);else{r.errorUnsupportedIf(null==s.bufferView,\"Image bufferView must be defined.\"),r.errorUnsupportedIf(null==s.mimeType,\"Image mimeType must be defined.\");const e=this.json.bufferViews[s.bufferView],o=await this.getBuffer(e.buffer,t);r.errorUnsupportedIf(null!=e.byteStride,\"byteStride not supported for image buffer\"),n=await J(new Uint8Array(o.buffer,o.byteOffset+(e.byteOffset||0),e.byteLength),s.mimeType)}a={data:n,wrapS:o.wrapS,wrapT:o.wrapT,minFilter:o.minFilter,name:s.name,id:e},this.textureCache.set(e,a)}return a}getNodeTransform(e){if(void 0===e)return _;let t=this.nodeTransformCache.get(e);if(!t){const r=this.getNodeTransform(this.getNodeParent(e)),n=this.json.nodes[e];n.matrix?t=a(d(),r,n.matrix):n.translation||n.rotation||n.scale?(t=f(r),n.translation&&i(t,t,n.translation),n.rotation&&(P[3]=R(P,n.rotation),u(t,t,P[3],P)),n.scale&&c(t,t,n.scale)):t=r,this.nodeTransformCache.set(e,t)}return t}wrapAccessor(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}resolveUri(e){return o(e,this.baseUri)}getNodeParent(e){return this.nodeParentMap.get(e)}checkVersionSupported(){const e=s.parse(this.json.asset.version,\"glTF\");G.validate(e)}checkRequiredExtensionsSupported(){const e=this.json,t=this.errorContext;e.extensionsRequired&&0!==e.extensionsRequired.length&&t.errorUnsupported(\"gltf loader was not able to load unsupported feature. Required extensions: \"+e.extensionsRequired.join(\", \"))}computeNodeParents(){this.json.nodes.forEach(((e,t)=>{e.children&&e.children.forEach((e=>{this.nodeParentMap.set(e,t)}))}))}}const G=new s(2,0,\"glTF\"),_=p(d(),Math.PI/2),P=l(),F={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},k={5120:1,5121:1,5122:2,5123:2,5126:4,5125:4};function V(t){switch(t.componentType){case 5120:return new I(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5121:return new A(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5122:return new S(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5123:return new U(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5125:return new N(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5126:return new x(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);default:return void e(t.componentType)}}async function X(e){return new Promise(((t,r)=>{const n=new Blob([e]),o=new FileReader;o.onload=()=>{const e=o.result;t(JSON.parse(e))},o.onerror=e=>{r(e)},o.readAsText(n)}))}async function J(e,t){return new Promise(((r,n)=>{const o=new Blob([e],{type:t}),s=URL.createObjectURL(o),a=new Image;a.addEventListener(\"load\",(()=>{URL.revokeObjectURL(s),\"decode\"in a?a.decode().then((()=>r(a)),(()=>r(a))):r(a)})),a.addEventListener(\"error\",(e=>{URL.revokeObjectURL(s),n(e)})),a.src=s}))}const q={5120:\"BYTE\",5121:\"UNSIGNED_BYTE\",5122:\"SHORT\",5123:\"UNSIGNED_SHORT\",5125:\"UNSIGNED_INT\",5126:\"FLOAT\"};export{j as Resource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{b as o}from\"../../../chunks/mat4f64.js\";import{DefaultErrorContext as r}from\"./DefaultErrorContext.js\";import{makeMaterialParameters as s,makeTextureSource as a}from\"./LoaderResult.js\";import{Resource as i}from\"./internal/Resource.js\";let n=0;async function l(r,s,a={},l=!0){const d=await i.load(r,f,s,a),x=\"gltf_\"+n++,h={lods:[],materials:new Map,textures:new Map,meta:c(d)},w=!(!d.json.asset.extras||\"symbolResource\"!==d.json.asset.extras.ESRI_type);return await m(d,(async(r,s,i,n)=>{const c=void 0!==r.mode?r.mode:4,m=u(c);if(t(m))return void f.warnUnsupported(\"Unsupported primitive mode (\"+T[c]+\"). Skipping primitive.\");if(!d.hasPositions(r))return void f.warn(\"Skipping primitive without POSITION vertex attribute.\");const w=await d.getMaterial(r,a,l),S={transform:o(s),attributes:{position:await d.getPositionData(r,a),normal:null,texCoord0:null,color:null,tangent:null},indices:await d.getIndexData(r,a),primitiveType:m,material:p(h,w,x)};d.hasNormals(r)&&(S.attributes.normal=await d.getNormalData(r,a)),d.hasTangents(r)&&(S.attributes.tangent=await d.getTangentData(r,a)),d.hasTextureCoordinates(r)&&(S.attributes.texCoord0=await d.getTextureCoordinates(r,a)),d.hasVertexColors(r)&&(S.attributes.color=await d.getVertexColors(r,a));let g=null;e(h.meta)&&e(h.meta.ESRI_lod)&&\"screenSpaceRadius\"===h.meta.ESRI_lod.metric&&(g=h.meta.ESRI_lod.thresholds[i]),h.lods[i]=h.lods[i]||{parts:[],name:n,lodThreshold:g},h.lods[i].parts.push(S)})),{model:h,meta:{isEsriSymbolResource:w,uri:d.uri},customMeta:{}}}function u(e){switch(e){case 4:case 5:case 6:return e;default:return null}}function c(t){const o=t.json;let r=null;return o.nodes.forEach((t=>{const o=t.extras;e(o)&&(o.ESRI_proxyEllipsoid||o.ESRI_lod)&&(r=o)})),r}async function m(e,t){const o=e.json,r=o.scenes[o.scene||0].nodes,s=r.length>1;for(const i of r){const e=o.nodes[i],t=[a(i,0)];if(d(e)&&!s){const o=e.extensions.MSFT_lod.ids;t.push(...o.map(((e,t)=>a(e,t+1))))}await Promise.all(t)}async function a(r,s){const i=o.nodes[r],n=e.getNodeTransform(r);if(f.warnUnsupportedIf(null!=i.weights,\"Morph targets are not supported.\"),null!=i.mesh){const e=o.meshes[i.mesh];for(const o of e.primitives)await t(o,n,s,e.name)}for(const e of i.children||[])await a(e,s)}}function d(e){return e.extensions&&e.extensions.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function p(e,t,o){const r=t=>{const r=`${o}_tex_${t&&t.id}${t&&t.name?\"_\"+t.name:\"\"}`;if(t&&!e.textures.has(r)){const o=a(t.data,{wrap:{s:x(t.wrapS),t:x(t.wrapT)},mipmap:h.some((e=>e===t.minFilter)),noUnpackFlip:!0});e.textures.set(r,o)}return r},i=`${o}_mat_${t.id}_${t.name}`;if(!e.materials.has(i)){const o=s({color:[t.color[0],t.color[1],t.color[2]],opacity:t.color[3],alphaMode:t.alphaMode,alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,colorMixMode:t.ESRI_externalColorMixMode,textureColor:t.colorTexture?r(t.colorTexture):void 0,textureNormal:t.normalTexture?r(t.normalTexture):void 0,textureOcclusion:t.occlusionTexture?r(t.occlusionTexture):void 0,textureEmissive:t.emissiveTexture?r(t.emissiveTexture):void 0,textureMetallicRoughness:t.metallicRoughnessTexture?r(t.metallicRoughnessTexture):void 0,emissiveFactor:[t.emissiveFactor[0],t.emissiveFactor[1],t.emissiveFactor[2]],metallicFactor:t.metallicFactor,roughnessFactor:t.roughnessFactor});e.materials.set(i,o)}return i}function x(e){if(33071===e||33648===e||10497===e)return e;f.error(`Unexpected TextureSampler WrapMode: ${e}`)}const f=new r,h=[9987,9985],T=[\"POINTS\",\"LINES\",\"LINE_LOOP\",\"LINE_STRIP\",\"TRIANGLES\",\"TRIANGLE_STRIP\",\"TRIANGLE_FAN\"];export{l as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,c=t.typedBufferStride,o=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*c;for(let s=0;s<o;++s)d[u]=n[p],d[u+1]=n[p+1],d[u+2]=n[p+2],u+=f,p+=c}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){t.extensions.add(\"GL_EXT_shader_texture_lod\"),t.extensions.add(\"GL_OES_standard_derivatives\"),t.fragment.code.add(e`\n    #ifndef GL_EXT_shader_texture_lod\n      float calcMipMapLevel(const vec2 ddx, const vec2 ddy) {\n        float deltaMaxSqr = max(dot(ddx, ddx), dot(ddy, ddy));\n        return max(0.0, 0.5 * log2(deltaMaxSqr));\n      }\n    #endif\n\n    vec4 textureAtlasLookup(sampler2D texture, vec2 textureSize, vec2 textureCoordinates, vec4 atlasRegion) {\n      //[umin, vmin, umax, vmax]\n      vec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\n      vec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;\n\n      // calculate derivative of continuous texture coordinate\n      // to avoid mipmapping artifacts caused by manual wrapping in shader\n      // clamp the derivatives to avoid discoloring when zooming out.\n      float maxdUV = 0.125; // Emprirically tuned compromise between discoloring and aliasing noise.\n      vec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\n      vec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\n\n      #ifdef GL_EXT_shader_texture_lod\n        return texture2DGradEXT(texture, uvAtlas, dUVdx, dUVdy);\n      #else\n        // use bias to compensate for difference in automatic vs desired mipmap level\n        vec2 dUVdxAuto = dFdx(uvAtlas);\n        vec2 dUVdyAuto = dFdy(uvAtlas);\n        float mipMapLevel = calcMipMapLevel(dUVdx * textureSize, dUVdy * textureSize);\n        float autoMipMapLevel = calcMipMapLevel(dUVdxAuto * textureSize, dUVdyAuto * textureSize);\n\n        return texture2D(texture, uvAtlas, mipMapLevel - autoMipMapLevel);\n      #endif\n    }\n  `)}export{t as TextureAtlasLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"./Error.js\";class r{constructor(t,r,o=\"\"){this.major=t,this.minor=r,this._context=o}lessThan(t,r){return this.major<t||t===this.major&&this.minor<r}since(t,r){return!this.lessThan(t,r)}validate(r){if(this.major!==r.major){const o=this._context&&this._context+\":\",s=this._context&&this._context+\" \";throw new t(o+\"unsupported-version\",`Required major ${s}version is '${this.major}', but got '\\${version.major}.\\${version.minor}'`,{version:r})}}clone(){return new r(this.major,this.minor,this._context)}static parse(o,s=\"\"){const[e,i]=o.split(\".\"),n=/^\\s*\\d+\\s*$/;if(!e||!e.match||!e.match(n)){throw new t((s&&s+\":\")+\"invalid-version\",\"Expected major version to be a number, but got '${version}'\",{version:o})}if(!i||!i.match||!i.match(n)){throw new t((s&&s+\":\")+\"invalid-version\",\"Expected minor version to be a number, but got '${version}'\",{version:o})}const a=parseInt(e,10),h=parseInt(i,10);return new r(a,h,s)}}export{r as Version};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../../../core/shaderModules/interfaces.js\";function l(l){l.vertex.code.add(o`\n    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {\n      float symbolAlpha = 0.0;\n\n      const float maxTint = 85.0;\n      const float maxReplace = 170.0;\n      const float scaleAlpha = 3.0;\n\n      if (symbolColor.a > maxReplace) {\n        colorMixMode = ${o.int(1)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);\n      } else if (symbolColor.a > maxTint) {\n        colorMixMode = ${o.int(3)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);\n      } else if (symbolColor.a > 0.0) {\n        colorMixMode = ${o.int(4)};\n        symbolAlpha = scaleAlpha * symbolColor.a;\n      } else {\n        colorMixMode = ${o.int(1)};\n        symbolAlpha = 0.0;\n      }\n\n      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);\n    }\n  `)}export{l as DecodeSymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`\n    vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n    {\n      return ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n    }\n    `),a.add(e`\n    float integratedRadiance(float cosTheta2, float roughness)\n    {\n      return (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n    }\n    `),a.add(e`\n    vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n    {\n      float cosTheta2 = 1.0 - RdotNG * RdotNG;\n      float intRadTheta = integratedRadiance(cosTheta2, roughness);\n\n      // Calculate the integrated directional radiance of the ground and the sky\n      float ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\n      float sky = 2.0 - ground;\n      return (ground * ambientGround + sky * ambientSky) * 0.5;\n    }\n    `)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{AnalyticalSkyModel as t}from\"./AnalyticalSkyModel.glsl.js\";function n(n,a){const r=n.fragment.code;n.include(o),3===a.pbrMode||4===a.pbrMode?(r.add(e`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${a.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(e`\n    vec3 fresnelReflection(float angle, vec3 f0, float f90) {\n      return f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n    }\n    `),r.add(e`\n    float normalDistributionWater(float NdotH, float roughness)\n    {\n      float r2 = roughness * roughness;\n      float NdotH2 = NdotH * NdotH;\n      float denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\n      return r2 / denom;\n    }\n    `),r.add(e`\n    float geometricOcclusionKelemen(float LoH)\n    {\n        return 0.25 / (LoH * LoH);\n    }\n    `),r.add(e`\n    vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n    {\n      vec3  F = fresnelReflection(props.VdotH, F0, F0Max);\n      float dSun = normalDistributionWater(props.NdotH, roughness);\n      float V = geometricOcclusionKelemen(props.LdotH);\n\n      float diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\n      float strengthSunHaze  = 1.2;\n      float dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\n\n      return ((dSun + dSunHaze) * V) * F;\n    }\n\n    vec3 tonemapACES(const vec3 x) {\n      return (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n    }\n    `)):1!==a.pbrMode&&2!==a.pbrMode||(n.include(t),r.add(e`\n    struct PBRShadingInfo\n    {\n        float NdotL;                  // cos angle between normal and light direction\n        float NdotV;                  // cos angle between normal and view direction\n        float NdotH;                  // cos angle between normal and half vector\n        float VdotH;                  // cos angle between view direction and half vector\n        float LdotH;                  // cos angle between view light direction and half vector\n        float NdotNG;                 // cos angle between normal and normal of the ground\n        float RdotNG;                 // cos angle between view direction reflected of the normal and normal of the ground\n        float NdotAmbDir;             // cos angle between view direction and the fill light in ambient illumination\n        float NdotH_Horizon;          // cos angle between normal and half vector defined with horizon illumination\n        vec3 skyRadianceToSurface;         // integrated radiance of the sky based on the surface roughness (used for specular reflection)\n        vec3 groundRadianceToSurface;      // integrated radiance of the ground based on the surface roughness (used for specular reflection)\n        vec3 skyIrradianceToSurface;       // irradiance of the sky (used for diffuse reflection)\n        vec3 groundIrradianceToSurface;    // irradiance of the ground (used for diffuse reflection)\n\n        float averageAmbientRadiance;      // average ambient radiance used to deduce black level in gamut mapping\n        float ssao;                   // ssao coefficient\n        vec3 albedoLinear;            // linear color of the albedo\n        vec3 f0;                      // fresnel value at normal incident light\n        vec3 f90;                     // fresnel value at 90o of incident light\n\n        vec3 diffuseColor;            // diffuse color of the material used in environment illumination\n        float metalness;              // metalness of the material\n        float roughness;              // roughness of the material\n    };\n    `),r.add(e`\n    float normalDistribution(float NdotH, float roughness)\n    {\n        float a = NdotH * roughness;\n        float b = roughness / (1.0 - NdotH * NdotH + a * a);\n        return b * b * INV_PI;\n    }\n    `),r.add(e`\n    const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\n    const vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\n    const vec2 c2 = vec2(-1.04, 1.04);\n\n    vec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\n        vec4 r = roughness * c0 + c1;\n        float a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\n        return c2 * a004 + r.zw;\n    }\n    `),r.add(e`\n    vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\n      vec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\n      vec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\n\n      // From diffuse illumination calculate reflected color\n      vec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\n\n      // From specular illumination calculate reflected color\n      vec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\n      vec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\n      vec3 specularComponent = specularColor * indirectSpecular;\n\n      return (diffuseComponent + specularComponent);\n    }\n    `),r.add(e`\n    float gamutMapChanel(float x, vec2 p){\n      return (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n    }`),r.add(e`\n    vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\n      vec3 outColor;\n      vec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\n      outColor.x = gamutMapChanel(inColor.x, p) ;\n      outColor.y = gamutMapChanel(inColor.y, p) ;\n      outColor.z = gamutMapChanel(inColor.z, p) ;\n      return outColor;\n    }\n    `))}export{n as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{logger as e}from\"../views/3d/support/buffer/math/common.js\";function t(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[4],c=f[5],i=f[6],a=f[8],p=f[9],y=f[10],B=f[12],m=f[13],h=f[14],l=t.typedBuffer,S=t.typedBufferStride,b=r.typedBuffer,v=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*S,r=e*v,f=b[r],o=b[r+1],M=b[r+2];l[t]=n*f+s*o+a*M+B,l[t+1]=u*f+c*o+p*M+m,l[t+2]=d*f+i*o+y*M+h}}function r(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],B=t.typedBuffer,m=t.typedBufferStride,h=r.typedBuffer,l=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*m,r=e*l,f=h[r],o=h[r+1],S=h[r+2];B[t]=n*f+s*o+a*S,B[t+1]=u*f+c*o+p*S,B[t+2]=d*f+i*o+y*S}}function f(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=r*u[t],o[e+1]=r*u[t+1],o[e+2]=r*u[t+2]}}function o(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=u[t]>>r,o[e+1]=u[t+1]>>r,o[e+2]=u[t+2]>>r}}var n=Object.freeze({__proto__:null,transformMat4:t,transformMat3:r,scale:f,shiftRight:o});export{r as a,o as b,f as s,t,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/has.js\";import{glsl as c}from\"../../shaderModules/interfaces.js\";import{testWebGLDriver as i}from\"../../../lib/WebGLDriverTest.js\";function o({code:e},i){i.doublePrecisionRequiresObfuscation?e.add(c`\n      vec3 dpPlusFrc(vec3 a, vec3 b) {\n        return mix(a, a + b, vec3(notEqual(b, vec3(0))));\n      }\n\n      vec3 dpMinusFrc(vec3 a, vec3 b) {\n        return mix(vec3(0), a - b, vec3(notEqual(a, b)));\n      }\n\n      // based on https://www.thasler.com/blog/blog/glsl-part2-emu\n      vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\n        vec3 t1 = dpPlusFrc(hiA, hiB);\n        vec3 e = dpMinusFrc(t1, hiA);\n        vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\n        return t1 + t2;\n      }\n    `):e.add(c`\n      vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\n        vec3 t1 = hiA + hiB;\n        vec3 e = t1 - hiA;\n        vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\n        return t1 + t2;\n      }\n    `)}function r(c){return!!e(\"force-double-precision-obfuscation\")||i(c).doublePrecisionRequiresObfuscation}export{o as DoublePrecision,r as doublePrecisionRequiresObfuscation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";import{DecodeSymbolColor as e}from\"../../../collections/Component/Material/shader/DecodeSymbolColor.glsl.js\";function r(r,l){l.symbolColor?(r.include(e),r.attributes.add(\"symbolColor\",\"vec4\"),r.varyings.add(\"colorMixMode\",\"mediump float\")):r.fragment.uniforms.add(\"colorMixMode\",\"int\"),l.symbolColor?r.vertex.code.add(o`\n    int symbolColorMixMode;\n\n    vec4 getSymbolColor() {\n      return decodeSymbolColor(symbolColor, symbolColorMixMode) * 0.003921568627451;\n    }\n\n    void forwardColorMixMode() {\n      colorMixMode = float(symbolColorMixMode) + 0.5;\n    }\n  `):r.vertex.code.add(o`\n    vec4 getSymbolColor() { return vec4(1.0); }\n    void forwardColorMixMode() {}\n    `)}export{r as SymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o,t){const r=o.fragment;t.receiveAmbientOcclusion?(r.uniforms.add(\"ssaoTex\",\"sampler2D\"),r.uniforms.add(\"viewportPixelSz\",\"vec4\"),r.code.add(e`\n      float evaluateAmbientOcclusion() {\n        return 1.0 - texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\n      }\n\n      float evaluateAmbientOcclusionInverse() {\n        float ssao = texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\n        return viewportPixelSz.z < 0.0 ? 1.0 : ssao;\n      }\n    `)):r.code.add(e`\n      float evaluateAmbientOcclusion() { return 0.0; } // no occlusion\n      float evaluateAmbientOcclusionInverse() { return 1.0; }\n    `)}export{o as EvaluateAmbientOcclusion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{TextureCoordinateAttribute as t}from\"./TextureCoordinateAttribute.glsl.js\";import{TextureAtlasLookup as r}from\"../util/TextureAtlasLookup.glsl.js\";function u(u,a){u.include(t,a),u.fragment.code.add(e`\n  struct TextureLookupParameter {\n    vec2 uv;\n    ${a.supportsTextureAtlas?\"vec2 size;\":\"\"}\n  } vtc;\n  `),1===a.attributeTextureCoordinates&&u.fragment.code.add(e`\n      vec4 textureLookup(sampler2D tex, TextureLookupParameter params) {\n        return texture2D(tex, params.uv);\n      }\n    `),2===a.attributeTextureCoordinates&&(u.include(r),u.fragment.code.add(e`\n    vec4 textureLookup(sampler2D tex, TextureLookupParameter params) {\n        return textureAtlasLookup(tex, params.size, params.uv, vuvRegion);\n      }\n    `))}export{u as VertexTextureCoordinates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isUint16Array as e,isUint32Array as t}from\"../../core/typedArrayUtil.js\";import{checkWebGLError as i}from\"./checkWebGLError.js\";class s{constructor(e,t,s,n,r){this._context=e,this.bufferType=t,this.usage=s,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(1,this),this._glName=this._context.gl.createBuffer(),i(this._context.gl),n&&this.setData(n,r)}static createIndex(e,t,i,n){return new s(e,34963,t,i,n)}static createVertex(e,t,i){return new s(e,34962,t,i)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get byteSize(){return 34962===this.bufferType?this._size:5125===this._indexType?4*this._size:2*this._size}dispose(){if(this._context){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(1,this),this._context=null}}setData(i,s){if(!i)return;if(\"number\"==typeof i){if(i<0&&console.error(\"Buffer size cannot be negative!\"),34963===this.bufferType&&s)switch(this._indexType=s,this._size=i,s){case 5123:i*=2;break;case 5125:i*=4}}else{let s=i.byteLength;e(i)&&(s/=2,this._indexType=5123),t(i)&&(s/=4,this._indexType=5125),this._size=s}const n=this._context.getBoundVAO();this._context.bindVAO(null),this._context.bindBuffer(this);this._context.gl.bufferData(this.bufferType,i,this.usage),this._context.bindVAO(n)}setSubData(i,s=0,n=0,r=i.byteLength){if(!i)return;(s<0||s>=this._size)&&console.error(\"offset is out of range!\");let h=s,o=n,c=r,f=i.byteLength;e(i)&&(f/=2,h*=2,o*=2,c*=2),t(i)&&(f/=4,h*=4,o*=4,c*=4),void 0===r&&(r=f-1),n>=r&&console.error(\"end must be bigger than start!\"),s+n-r>this._size&&console.error(\"An attempt to write beyond the end of the buffer!\");const u=this._context.getBoundVAO();this._context.bindVAO(null),this._context.bindBuffer(this);const a=this._context.gl,_=ArrayBuffer.isView(i)?i.buffer:i,l=0===o&&c===i.byteLength?_:_.slice(o,c);a.bufferSubData(this.bufferType,h,l),this._context.bindVAO(u)}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const n=e.typedBuffer,o=e.typedBufferStride,c=t.typedBuffer,d=t.typedBufferStride,f=r?r.count:t.count;let s=(r&&r.dstIndex?r.dstIndex:0)*o,u=(r&&r.srcIndex?r.srcIndex:0)*d;for(let p=0;p<f;++p)n[s]=c[u],s+=o,u+=d}function t(e,t){const r=e.count;t||(t=new e.TypedArrayConstructor(r));for(let n=0;n<r;n++)t[n]=e.get(n);return t}var r=Object.freeze({__proto__:null,copy:e,makeDense:t});export{e as c,t as m,r as s};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";import{NormalAttribute as r}from\"./NormalAttribute.glsl.js\";import{VertexPosition as a}from\"./VertexPosition.glsl.js\";function l(l,e){0===e.normalType||1===e.normalType?(l.include(r,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.varyings.add(\"vNormalView\",\"vec3\"),l.vertex.uniforms.add(\"uTransformNormal_GlobalFromModel\",\"mat3\"),l.vertex.uniforms.add(\"uTransformNormal_ViewFromGlobal\",\"mat3\"),l.vertex.code.add(o`\n      void forwardNormal() {\n        vNormalWorld = uTransformNormal_GlobalFromModel * normalModel();\n        vNormalView = uTransformNormal_ViewFromGlobal * vNormalWorld;\n      }\n    `)):2===e.normalType?(l.include(a,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.vertex.code.add(o`\n    void forwardNormal() {\n      vNormalWorld = ${1===e.viewingMode?o`normalize(vPositionWorldCameraRelative);`:o`vec3(0.0, 0.0, 1.0);`}\n    }\n    `)):l.vertex.code.add(o`\n      void forwardNormal() {}\n    `)}!function(o){function r(o,r){o.setUniformMatrix4fv(\"viewNormal\",r)}o.bindUniforms=r}(l||(l={}));export{l as VertexNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";import{Transform as r}from\"../Transform.glsl.js\";import{Slice as e}from\"../Slice.glsl.js\";import{OutputHighlight as t}from\"../output/OutputHighlight.glsl.js\";import{VisualVariables as i}from\"../shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlpha as a}from\"../util/AlphaDiscard.glsl.js\";import{OutputDepth as l}from\"../output/OutputDepth.glsl.js\";import{TextureCoordinateAttribute as s}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{NormalAttribute as d}from\"../attributes/NormalAttribute.glsl.js\";import{VertexNormal as n}from\"../attributes/VertexNormal.glsl.js\";function u(u,c){const p=u.vertex.code,v=u.fragment.code;1!==c.output&&3!==c.output||(u.include(r,{linearDepth:!0}),u.include(s,c),u.include(i,c),u.include(l,c),u.include(e,c),u.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),u.varyings.add(\"depth\",\"float\"),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.add(o`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPositionWithDepth(proj, view, vpos, cameraNearFar, depth);\n        forwardTextureCoordinates();\n      }\n    `),u.include(a,c),v.add(o`\n      void main(void) {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?o`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputDepth(depth);\n      }\n    `)),2===c.output&&(u.include(r,{linearDepth:!1}),u.include(d,c),u.include(n,c),u.include(s,c),u.include(i,c),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),u.vertex.uniforms.add(\"viewNormal\",\"mat4\"),u.varyings.add(\"vPositionView\",\"vec3\"),p.add(o`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        ${0===c.normalType?o`\n        vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));`:\"\"}\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        forwardTextureCoordinates();\n      }\n    `),u.include(e,c),u.include(a,c),v.add(o`\n      void main() {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?o`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n\n        ${3===c.normalType?o`\n            vec3 normal = screenDerivativeNormal(vPositionView);`:o`\n            vec3 normal = normalize(vNormalWorld);\n            if (gl_FrontFacing == false) normal = -normal;`}\n        gl_FragColor = vec4(vec3(0.5) + 0.5 * normal, 1.0);\n      }\n    `)),4===c.output&&(u.include(r,{linearDepth:!1}),u.include(s,c),u.include(i,c),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.add(o`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        forwardTextureCoordinates();\n      }\n    `),u.include(e,c),u.include(a,c),u.include(t),v.add(o`\n      void main() {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?o`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputHighlight();\n      }\n    `))}export{u as DefaultMaterialAuxiliaryPasses};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as e}from\"../../core/maybe.js\";function r(e,r){return e.vertexBuffers[r].size/t(e.layout[r])}function t(e){return e[0].stride}function n(e){switch(e){case 5126:case 5124:case 5125:return 4;case 5122:case 5123:return 2;case 5120:case 5121:return 1;default:throw new Error(\"Unknown data type\")}}function i(e){switch(e){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array;default:throw new Error(\"Unknown data type\")}}function s(e,r,t,i,s,o){const a=n(i);if(e.length>0){const n=e[0].stride,c=n+a*t;e.forEach((e=>e.stride=c)),e.push({name:r,count:t,type:i,offset:n,stride:c,normalized:s,divisor:o})}else e.push({name:r,count:t,type:i,offset:0,stride:a*t,normalized:s,divisor:o})}function o(e,r){for(let t=0;t<e.length;t++)if(e[t].name===r)return!0;return!1}function a(e,r){for(let t=0;t<e.length;t++)if(e[t].name===r)return e[t];return null}function c(e,r,t,n,i=0){const s=e.getBoundFramebufferObject(),o=e.getBoundTexture(0);e.bindFramebuffer(r),e.bindTexture(t,0),e.gl.copyTexImage2D(e.gl.TEXTURE_2D,i,t.descriptor.pixelFormat,n[0],n[1],n[2],n[3],0),e.gl.flush(),e.bindFramebuffer(s),e.bindTexture(o,0)}function u(e,r){const t={};for(const n in e)t[n]=e[n].map((e=>e.divisor?{...e,baseInstance:r}:e));return t}function f(e,r,t,n,i){const s=e.gl,o=e.capabilities.instancing;e.bindBuffer(t);for(const a of n){const e=r[a.name],t=(i||(0+a.baseInstance?a.baseInstance:0))*a.stride;if(void 0===e&&console.error(`There is no location for vertex attribute '${a.name}' defined.`),a.baseInstance&&!a.divisor&&console.error(`Vertex attribute '${a.name}' uses baseInstanceOffset without divisor.`),a.count<=4)s.vertexAttribPointer(e,a.count,a.type,a.normalized,a.stride,a.offset+t),s.enableVertexAttribArray(e),a.divisor&&a.divisor>0&&o&&o.vertexAttribDivisor(e,a.divisor);else if(9===a.count)for(let r=0;r<3;r++)s.vertexAttribPointer(e+r,3,a.type,a.normalized,a.stride,a.offset+12*r+t),s.enableVertexAttribArray(e+r),a.divisor&&a.divisor>0&&o&&o.vertexAttribDivisor(e+r,a.divisor);else if(16===a.count)for(let r=0;r<4;r++)s.vertexAttribPointer(e+r,4,a.type,a.normalized,a.stride,a.offset+16*r+t),s.enableVertexAttribArray(e+r),a.divisor&&a.divisor>0&&o&&o.vertexAttribDivisor(e+r,a.divisor);else console.error(\"Unsupported vertex attribute element count: \"+a.count)}}function d(e,r,t,n){const i=e.gl,s=e.capabilities.instancing;e.bindBuffer(t);for(const o of n){const e=r[o.name];if(o.count<=4)i.disableVertexAttribArray(e),o.divisor&&o.divisor>0&&s&&s.vertexAttribDivisor(e,0);else if(9===o.count)for(let r=0;r<3;r++)i.disableVertexAttribArray(e+r),o.divisor&&o.divisor>0&&s&&s.vertexAttribDivisor(e+r,0);else if(16===o.count)for(let r=0;r<4;r++)i.disableVertexAttribArray(e+r),o.divisor&&o.divisor>0&&s&&s.vertexAttribDivisor(e+r,0);else console.error(\"Unsupported vertex attribute element count: \"+o.count)}e.unbindBuffer(34962)}function l(e){switch(e){case 6406:case 6409:case 36168:return 1;case 6410:case 32854:case 33325:case 32854:case 33189:return 2;case 6407:case 6402:return 3;case 6408:case 34041:case 33326:case 35898:case 33327:case 34041:return 4;case 33328:case 34842:return 8;case 34836:return 16;case 33776:case 33777:return.5;case 33778:case 33779:return 1;case 37488:case 37489:case 37492:case 37493:case 37494:case 37495:return.5;case 37490:case 37491:case 37496:case 37497:return 1}return 0}function b(r){if(e(r))return 0;if(\"colorAttachment\"in r)return r.glName?b(r.colorAttachment)+b(r.depthStencilAttachment):0;if(\"descriptor\"in r)return r.glName?b(r.descriptor):0;const t=r.internalFormat||\"pixelFormat\"in r&&r.pixelFormat;if(!t)return 0;const n=\"hasMipmap\"in r&&r.hasMipmap?1.3:1,i=r.width*r.height;return l(t)*i*n}export{s as addDescriptor,f as bindVertexBufferLayout,c as copyFramebufferToTexture,a as findAttribute,n as getBytesPerElement,l as getBytesPerElementFormat,b as getGpuMemoryUsage,t as getStride,i as getTypedArrayConstructor,o as hasAttribute,u as setBaseInstanceOffset,d as unbindVertexBufferLayout,r as vertexCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nvar e=[\"layout\",\"centroid\",\"smooth\",\"case\",\"mat2x2\",\"mat2x3\",\"mat2x4\",\"mat3x2\",\"mat3x3\",\"mat3x4\",\"mat4x2\",\"mat4x3\",\"mat4x4\",\"uint\",\"uvec2\",\"uvec3\",\"uvec4\",\"samplerCubeShadow\",\"sampler2DArray\",\"sampler2DArrayShadow\",\"isampler2D\",\"isampler3D\",\"isamplerCube\",\"isampler2DArray\",\"usampler2D\",\"usampler3D\",\"usamplerCube\",\"usampler2DArray\",\"coherent\",\"restrict\",\"readonly\",\"writeonly\",\"resource\",\"atomic_uint\",\"noperspective\",\"patch\",\"sample\",\"subroutine\",\"common\",\"partition\",\"active\",\"filter\",\"image1D\",\"image2D\",\"image3D\",\"imageCube\",\"iimage1D\",\"iimage2D\",\"iimage3D\",\"iimageCube\",\"uimage1D\",\"uimage2D\",\"uimage3D\",\"uimageCube\",\"image1DArray\",\"image2DArray\",\"iimage1DArray\",\"iimage2DArray\",\"uimage1DArray\",\"uimage2DArray\",\"image1DShadow\",\"image2DShadow\",\"image1DArrayShadow\",\"image2DArrayShadow\",\"imageBuffer\",\"iimageBuffer\",\"uimageBuffer\",\"sampler1DArray\",\"sampler1DArrayShadow\",\"isampler1D\",\"isampler1DArray\",\"usampler1D\",\"usampler1DArray\",\"isampler2DRect\",\"usampler2DRect\",\"samplerBuffer\",\"isamplerBuffer\",\"usamplerBuffer\",\"sampler2DMS\",\"isampler2DMS\",\"usampler2DMS\",\"sampler2DMSArray\",\"isampler2DMSArray\",\"usampler2DMSArray\",\"trunc\",\"round\",\"roundEven\",\"isnan\",\"isinf\",\"floatBitsToInt\",\"floatBitsToUint\",\"intBitsToFloat\",\"uintBitsToFloat\",\"packSnorm2x16\",\"unpackSnorm2x16\",\"packUnorm2x16\",\"unpackUnorm2x16\",\"packHalf2x16\",\"unpackHalf2x16\",\"outerProduct\",\"transpose\",\"determinant\",\"inverse\",\"texture\",\"textureSize\",\"textureProj\",\"textureLod\",\"textureOffset\",\"texelFetch\",\"texelFetchOffset\",\"textureProjOffset\",\"textureLodOffset\",\"textureProjLod\",\"textureProjLodOffset\",\"textureGrad\",\"textureGradOffset\",\"textureProjGrad\",\"textureProjGradOffset\"];export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"./reservedWordsGLSL3.js\";import{o as e,l as a,b as r}from\"../../chunks/builtins.js\";var n=999,o=9999,i=0,s=1,c=2,d=3,f=4,p=5,u=6,l=7,h=8,y=9,g=10,w=11,m=[\"block-comment\",\"line-comment\",\"preprocessor\",\"operator\",\"integer\",\"float\",\"ident\",\"builtin\",\"keyword\",\"whitespace\",\"eof\",\"integer\"];function k(){var t,k,b,v=0,_=0,x=n,j=[],E=[],O=1,L=0,D=0,G=!1,T=!1,X=\"\";return function(t){return E=[],null!==t?P(t.replace?t.replace(/\\r\\n/g,\"\\n\"):t):C()};function F(t){t.length&&E.push({type:m[x],data:t,position:D,line:O,column:L})}function P(e){var a;for(v=0,b=(X+=e).length;t=X[v],v<b;){switch(a=v,x){case i:v=$();break;case s:v=V();break;case c:v=M();break;case d:v=z();break;case f:v=Z();break;case w:v=W();break;case p:v=q();break;case o:v=B();break;case y:v=A();break;case n:v=S()}if(a!==v)switch(X[a]){case\"\\n\":L=0,++O;break;default:++L}}return _+=v,X=X.slice(v),E}function C(t){return j.length&&F(j.join(\"\")),x=g,F(\"(eof)\"),E}function S(){return j=j.length?[]:j,\"/\"===k&&\"*\"===t?(D=_+v-1,x=i,k=t,v+1):\"/\"===k&&\"/\"===t?(D=_+v-1,x=s,k=t,v+1):\"#\"===t?(x=c,D=_+v,v):/\\s/.test(t)?(x=y,D=_+v,v):(G=/\\d/.test(t),T=/[^\\w_]/.test(t),D=_+v,x=G?f:T?d:o,v)}function A(){return/[^\\s]/g.test(t)?(F(j.join(\"\")),x=n,v):(j.push(t),k=t,v+1)}function M(){return\"\\r\"!==t&&\"\\n\"!==t||\"\\\\\"===k?(j.push(t),k=t,v+1):(F(j.join(\"\")),x=n,v)}function V(){return M()}function $(){return\"/\"===t&&\"*\"===k?(j.push(t),F(j.join(\"\")),x=n,v+1):(j.push(t),k=t,v+1)}function z(){if(\".\"===k&&/\\d/.test(t))return x=p,v;if(\"/\"===k&&\"*\"===t)return x=i,v;if(\"/\"===k&&\"/\"===t)return x=s,v;if(\".\"===t&&j.length){for(;I(j););return x=p,v}if(\";\"===t||\")\"===t||\"(\"===t){if(j.length)for(;I(j););return F(t),x=n,v+1}var e=2===j.length&&\"=\"!==t;if(/[\\w_\\d\\s]/.test(t)||e){for(;I(j););return x=n,v}return j.push(t),k=t,v+1}function I(t){for(var a,r,n=0;;){if(a=e.indexOf(t.slice(0,t.length+n).join(\"\")),r=e[a],-1===a){if(n--+t.length>0)continue;r=t.slice(0,1).join(\"\")}return F(r),D+=r.length,(j=j.slice(r.length)).length}}function W(){return/[^a-fA-F0-9]/.test(t)?(F(j.join(\"\")),x=n,v):(j.push(t),k=t,v+1)}function Z(){return\".\"===t||/[eE]/.test(t)?(j.push(t),x=p,k=t,v+1):\"x\"===t&&1===j.length&&\"0\"===j[0]?(x=w,j.push(t),k=t,v+1):/[^\\d]/.test(t)?(F(j.join(\"\")),x=n,v):(j.push(t),k=t,v+1)}function q(){return\"f\"===t&&(j.push(t),k=t,v+=1),/[eE]/.test(t)||\"-\"===t&&/[eE]/.test(k)?(j.push(t),k=t,v+1):/[^\\d]/.test(t)?(F(j.join(\"\")),x=n,v):(j.push(t),k=t,v+1)}function B(){if(/[^\\d\\w_]/.test(t)){var e=j.join(\"\");return x=a.indexOf(e)>-1?h:r.indexOf(e)>-1?l:u,F(j.join(\"\")),x=n,v}return j.push(t),k=t,v+1}}function b(t){var e=k(),a=[];return a=(a=a.concat(e(t))).concat(e(null))}function v(t){return b(t)}function _(t){return t.map((t=>\"eof\"!==t.type?t.data:\"\")).join(\"\")}const x=[\"GL_OES_standard_derivatives\",\"GL_EXT_frag_depth\",\"GL_EXT_draw_buffers\",\"GL_EXT_shader_texture_lod\"];function j(t,e=\"100\",a=\"300 es\"){const r=/^\\s*\\#version\\s+([0-9]+(\\s+[a-zA-Z]+)?)\\s*/;for(const n of t)if(\"preprocessor\"===n.type){const t=r.exec(n.data);if(t){const r=t[1].replace(/\\s\\s+/g,\" \");if(r===a)return r;if(r===e)return n.data=\"#version \"+a,e;throw new Error(\"unknown glsl version: \"+r)}}return t.splice(0,0,{type:\"preprocessor\",data:\"#version \"+a},{type:\"whitespace\",data:\"\\n\"}),null}function E(t,e){for(let a=e-1;a>=0;a--){const e=t[a];if(\"whitespace\"!==e.type&&\"block-comment\"!==e.type){if(\"keyword\"!==e.type)break;if(\"attribute\"===e.data||\"in\"===e.data)return!0}}return!1}function O(t,e,a,r){r=r||a;for(const n of t)if(\"ident\"===n.type&&n.data===a){r in e?e[r]++:e[r]=0;return O(t,e,r+\"_\"+e[r],r)}return a}function L(t,e,a=\"afterVersion\"){function r(t,e){for(let a=e;a<t.length;a++){const e=t[a];if(\"operator\"===e.type&&\";\"===e.data)return a}return null}function n(t){let e=-1,n=0,o=-1;for(let i=0;i<t.length;i++){const s=t[i];if(\"preprocessor\"===s.type&&(s.data.match(/\\#(if|ifdef|ifndef)\\s+.+/)?++n:s.data.match(/\\#endif\\s*.*/)&&--n),\"afterVersion\"!==a&&\"afterPrecision\"!==a||\"preprocessor\"===s.type&&/^#version/.test(s.data)&&(o=Math.max(o,i)),\"afterPrecision\"===a&&\"keyword\"===s.type&&\"precision\"===s.data){const e=r(t,i);if(null===e)throw new Error(\"precision statement not followed by any semicolons!\");o=Math.max(o,e)}e<o&&0===n&&(e=i)}return e+1}const o={data:\"\\n\",type:\"whitespace\"},i=e=>e<t.length&&/[^\\r\\n]$/.test(t[e].data);let s=n(t);i(s-1)&&t.splice(s++,0,o);for(const c of e)t.splice(s++,0,c);i(s-1)&&i(s)&&t.splice(s,0,o)}function D(t,e,a,r=\"lowp\"){L(t,[{type:\"keyword\",data:\"out\"},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:r},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:a},{type:\"whitespace\",data:\" \"},{type:\"ident\",data:e},{type:\"operator\",data:\";\"}],\"afterPrecision\")}function G(t,e,a,r,n=\"lowp\"){L(t,[{type:\"keyword\",data:\"layout\"},{type:\"operator\",data:\"(\"},{type:\"keyword\",data:\"location\"},{type:\"whitespace\",data:\" \"},{type:\"operator\",data:\"=\"},{type:\"whitespace\",data:\" \"},{type:\"integer\",data:r.toString()},{type:\"operator\",data:\")\"},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:\"out\"},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:n},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:a},{type:\"whitespace\",data:\" \"},{type:\"ident\",data:e},{type:\"operator\",data:\";\"}],\"afterPrecision\")}function T(t,e){let a,r,n=-1;for(let o=e;o<t.length;o++){const e=t[o];if(\"operator\"===e.type&&(\"[\"===e.data&&(a=o),\"]\"===e.data)){r=o;break}\"integer\"===e.type&&(n=parseInt(e.data,10))}return a&&r&&t.splice(a,r-a+1),n}function X(e,a){const r=v(e);if(\"300 es\"===j(r,\"100\",\"300 es\"))throw new Error(\"shader is already glsl 300 es\");let n=null,o=null;const i={},s={};for(let c=0;c<r.length;++c){const e=r[c];switch(e.type){case\"keyword\":\"vertex\"===a&&\"attribute\"===e.data?e.data=\"in\":\"varying\"===e.data&&(e.data=\"vertex\"===a?\"out\":\"in\");break;case\"builtin\":if(/^texture(2D|Cube)(Proj)?(Lod|Grad)?(EXT)?$/.test(e.data.trim())&&(e.data=e.data.replace(/(2D|Cube|EXT)/g,\"\")),\"fragment\"===a&&\"gl_FragColor\"===e.data&&(n||(n=O(r,i,\"fragColor\"),D(r,n,\"vec4\")),e.data=n),\"fragment\"===a&&\"gl_FragData\"===e.data){const t=T(r,c+1),a=O(r,i,\"fragData\");G(r,a,\"vec4\",t,\"mediump\"),e.data=a}else\"fragment\"===a&&\"gl_FragDepthEXT\"===e.data&&(o||(o=O(r,i,\"gl_FragDepth\")),e.data=o);break;case\"ident\":if(t.indexOf(e.data)>=0){if(\"vertex\"===a&&E(r,c))throw new Error(\"attribute in vertex shader uses a name that is a reserved word in glsl 300 es\");e.data in s||(s[e.data]=O(r,i,e.data)),e.data=s[e.data]}}}for(let t=r.length-1;t>=0;--t){const e=r[t];if(\"preprocessor\"===e.type){const a=e.data.match(/\\#extension\\s+(.*)\\:/);if(a&&a[1]&&x.indexOf(a[1].trim())>=0){const e=r[t+1];r.splice(t,e&&\"whitespace\"===e.type?2:1)}const n=e.data.match(/\\#ifdef\\s+(.*)/);n&&n[1]&&x.indexOf(n[1].trim())>=0&&(e.data=\"#if 1\");const o=e.data.match(/\\#ifndef\\s+(.*)/);o&&o[1]&&x.indexOf(o[1].trim())>=0&&(e.data=\"#if 0\")}}return _(r)}export{X as transpileShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as t}from\"../../core/maybe.js\";import{transpileShader as i}from\"./ShaderTranspiler.js\";class o{constructor(t,i,o,n,r={}){if(this._context=null,this._glName=null,this._locations={},this._initialized=!1,this._vShader=null,this._fShader=null,this._defines={},this._nameToUniformLocation={},this._nameToAttribLocation={},this._nameToUniform1={},this._nameToUniform1v={},this._nameToUniform2={},this._nameToUniform3={},this._nameToUniform4={},this._nameToUniformMatrix3={},this._nameToUniformMatrix4={},t||console.error(\"RenderingContext isn't initialized!\"),0===i.length&&console.error(\"Shaders source should not be empty!\"),t.instanceCounter.increment(3,this),this._context=t,this._vertexShaderSource=i,this._fragmentShaderSource=o,Array.isArray(r))for(const e of r)this._defines[e]=\"1\";else this._defines=r;this._locations=n}get glName(){return this._glName}get locations(){return this._locations}getDefine(t){return this._defines[t]}dispose(){if(!this._context)return;const t=this._context.gl;if(this._vShader){const i=this._vShader;t.deleteShader(i),this._vShader=null}if(this._fShader){const i=this._fShader;t.deleteShader(i),this._fShader=null}this._glName&&(t.deleteProgram(this._glName),this._glName=null),this._context.instanceCounter.decrement(3,this),this._context=null}initialize(){if(this._initialized)return;this._vShader=this._loadShader(35633),this._fShader=this._loadShader(35632),this._vShader&&this._fShader||console.error(\"Error loading shaders!\");const t=this._context.gl,i=t.createProgram();t.attachShader(i,this._vShader),t.attachShader(i,this._fShader);for(const o in this._locations){const n=this._locations[o];t.bindAttribLocation(i,n,o)}t.linkProgram(i),this._glName=i,this._initialized=!0}getUniformLocation(t){return this.initialize(),void 0===this._nameToUniformLocation[t]&&(this._nameToUniformLocation[t]=this._context.gl.getUniformLocation(this._glName,t)),this._nameToUniformLocation[t]}hasUniform(t){return null!==this.getUniformLocation(t)}getAttribLocation(t){return this.initialize(),void 0===this._nameToAttribLocation[t]&&(this._nameToAttribLocation[t]=this._context.gl.getAttribLocation(this._glName,t)),this._nameToAttribLocation[t]}setUniform1i(t,i){const o=this._nameToUniform1[t];if(void 0===o||i!==o){this._context.bindProgram(this);this._context.gl.uniform1i(this.getUniformLocation(t),i),this._nameToUniform1[t]=i}}setUniform1iv(t,i){const r=this._nameToUniform1v[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform1iv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform1v[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform2iv(t,i){const r=this._nameToUniform2[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform2iv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform2[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform3iv(t,i){const r=this._nameToUniform3[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform3iv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform3[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform4iv(t,i){const r=this._nameToUniform4[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform4iv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform4[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform1f(t,i){const o=this._nameToUniform1[t];if(void 0===o||i!==o){this._context.bindProgram(this);this._context.gl.uniform1f(this.getUniformLocation(t),i),this._nameToUniform1[t]=i}}setUniform1fv(t,i){const r=this._nameToUniform1v[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform1fv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform1v[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform2f(t,i,o){const n=this._nameToUniform2[t];if(void 0===n||i!==n[0]||o!==n[1]){this._context.bindProgram(this);this._context.gl.uniform2f(this.getUniformLocation(t),i,o),void 0===n?this._nameToUniform2[t]=[i,o]:(n[0]=i,n[1]=o)}}setUniform2fv(t,i){const r=this._nameToUniform2[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform2fv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform2[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform3f(t,i,o,n){const r=this._nameToUniform3[t];if(void 0===r||i!==r[0]||o!==r[1]||n!==r[2]){this._context.bindProgram(this);this._context.gl.uniform3f(this.getUniformLocation(t),i,o,n),void 0===r?this._nameToUniform3[t]=[i,o,n]:(r[0]=i,r[1]=o,r[2]=n)}}setUniform3fv(t,i){const r=this._nameToUniform3[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform3fv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform3[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform4f(t,i,o,n,r){const e=this._nameToUniform4[t];if(void 0===e||i!==e[0]||o!==e[1]||n!==e[2]||r!==e[3]){this._context.bindProgram(this);this._context.gl.uniform4f(this.getUniformLocation(t),i,o,n,r),void 0===e?this._nameToUniform4[t]=[i,o,n,r]:(e[0]=i,e[1]=o,e[2]=n,e[3]=r)}}setUniform4fv(t,i){const r=this._nameToUniform4[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform4fv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform4[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniformMatrix3fv(t,i,n=!1){const e=this._nameToUniformMatrix3[t];if(r(e,i)){this._context.bindProgram(this);this._context.gl.uniformMatrix3fv(this.getUniformLocation(t),n,i),void 0===e?this._nameToUniformMatrix3[t]=o._arrayCopy(i):o._arrayAssign(i,e)}}setUniformMatrix4fv(t,i,n=!1){const r=this._nameToUniformMatrix4[t];if(e(r,i)){this._context.bindProgram(this);this._context.gl.uniformMatrix4fv(this.getUniformLocation(t),n,i),void 0===r?this._nameToUniformMatrix4[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}assertCompatibleVertexAttributeLocations(t){const i=t.locations===this.locations;return i||console.error(\"VertexAttributeLocations are incompatible\"),i}static _padToThree(t){let i=t.toString();return t<1e3&&(i=(\"  \"+t).slice(-3)),i}_addLineNumbers(t){let i=2;return t.replace(/\\n/g,(()=>\"\\n\"+o._padToThree(i++)+\":\"))}_loadShader(t){const o=35633===t;let n=o?this._vertexShaderSource:this._fragmentShaderSource,r=\"\";for(const i in this._defines)r+=`#define ${i} ${this._defines[i]}\\n`;n=r+n,\"webgl2\"===this._context.contextVersion&&(n=i(n,o?\"vertex\":\"fragment\"));const e=this._context.gl,s=e.createShader(t);return e.shaderSource(s,n),e.compileShader(s),s}static _arrayCopy(t){const i=[];for(let o=0;o<t.length;++o)i.push(t[o]);return i}static _arrayAssign(t,i){for(let o=0;o<t.length;++o)i[o]=t[o]}}function n(i,o){if(t(i)||i.length!==o.length)return!0;for(let t=0;t<i.length;++t)if(i[t]!==o[t])return!0;return!1}function r(i,o){return!!t(i)||(9!==i.length?n(i,o):9!==i.length||i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||i[3]!==o[3]||i[4]!==o[4]||i[5]!==o[5]||i[6]!==o[6]||i[7]!==o[7]||i[8]!==o[8])}function e(i,o){return!!t(i)||(16!==i.length?n(i,o):16!==i.length||i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||i[3]!==o[3]||i[4]!==o[4]||i[5]!==o[5]||i[6]!==o[6]||i[7]!==o[7]||i[8]!==o[8]||i[9]!==o[9]||i[10]!==o[10]||i[11]!==o[11]||i[12]!==o[12]||i[13]!==o[13]||i[14]!==o[14]||i[15]!==o[15])}export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isInteger as e,maximumValue as t,isSigned as r}from\"../views/3d/support/buffer/types.js\";function f(e,t,r){const f=e.typedBuffer,n=e.typedBufferStride,d=t.typedBuffer,o=t.typedBufferStride,s=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*n,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let c=0;c<s;++c)f[u]=d[p],f[u+1]=d[p+1],u+=n,p+=o}function n(n,d,o){const s=n.typedBuffer,u=n.typedBufferStride,p=d.typedBuffer,c=d.typedBufferStride,l=o?o.count:d.count;let y=(o&&o.dstIndex?o.dstIndex:0)*u,i=(o&&o.srcIndex?o.srcIndex:0)*c;if(e(d.elementType)){const e=t(d.elementType);if(r(d.elementType))for(let t=0;t<l;++t)s[y]=Math.max(p[i]/e,-1),s[y+1]=Math.max(p[i+1]/e,-1),y+=u,i+=c;else for(let t=0;t<l;++t)s[y]=p[i]/e,s[y+1]=p[i+1]/e,y+=u,i+=c}else f(n,d,o);return n}var d=Object.freeze({__proto__:null,copy:f,normalizeIntegerBuffer:n});export{f as c,n,d as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,d){const f=e.typedBuffer,n=e.typedBufferStride,r=t.typedBuffer,o=t.typedBufferStride,c=d?d.count:t.count;let u=(d&&d.dstIndex?d.dstIndex:0)*n,s=(d&&d.srcIndex?d.srcIndex:0)*o;for(let p=0;p<c;++p)f[u]=r[s],f[u+1]=r[s+1],f[u+2]=r[s+2],f[u+3]=r[s+3],u+=n,s+=o}function t(e,t,d,f,n,r){const o=e.typedBuffer,c=e.typedBufferStride,u=r?r.count:e.count;let s=(r&&r.dstIndex?r.dstIndex:0)*c;for(let p=0;p<u;++p)o[s]=t,o[s+1]=d,o[s+2]=f,o[s+3]=n,s+=c}var d=Object.freeze({__proto__:null,copy:e,fill:t});export{e as c,t as f,d as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let s=0;s<c;++s){for(let e=0;e<9;++e)d[u+e]=n[p+e];u+=f,p+=o}}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let s=0;s<c;++s){for(let e=0;e<16;++e)d[u+e]=n[p+e];u+=f,p+=o}}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{elementTypeSize as e}from\"./types.js\";export{m as mat3}from\"../../../../chunks/mat32.js\";export{m as mat4}from\"../../../../chunks/mat42.js\";export{s as scalar}from\"../../../../chunks/scalar.js\";export{v as vec2}from\"../../../../chunks/vec22.js\";export{v as vec3}from\"../../../../chunks/vec33.js\";export{v as vec4}from\"../../../../chunks/vec43.js\";function r(s,r){return new s(new ArrayBuffer(r*s.ElementCount*e(s.ElementType)))}export{r as createBuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isUint16Array as t,isUint8Array as e}from\"../../../../core/typedArrayUtil.js\";import{generateDefaultIndexArray as r}from\"../../webgl-engine/lib/geometryDataUtils.js\";function n(n){return\"number\"==typeof n?r(n):t(n)||e(n)?new Uint32Array(n):n}function o(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;e+=1)e%2==0?(n[t++]=e,n[t++]=e+1,n[t++]=e+2):(n[t++]=e+1,n[t++]=e,n[t++]=e+2)}else{let e=0;for(let o=0;o<r;o+=1)if(o%2==0){const r=t[o],i=t[o+1],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}else{const r=t[o+1],i=t[o],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}}return n}function i(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;++e)n[t++]=0,n[t++]=e+1,n[t++]=e+2;return n}{const e=t[0];let o=t[1],i=0;for(let f=0;f<r;++f){const r=t[f+2];n[i++]=e,n[i++]=o,n[i++]=r,o=r}return n}}export{i as triangleFanToTriangles,o as triangleStripToTriangles,n as trianglesToTriangles};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{logger as e}from\"../views/3d/support/buffer/math/common.js\";function t(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],B=f[9],m=f[10],h=f[11],l=f[12],S=f[13],b=f[14],v=f[15],M=t.typedBuffer,_=t.typedBufferStride,j=r.typedBuffer,g=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*_,r=e*g,f=j[r],o=j[r+1],w=j[r+2],x=j[r+3];M[t]=n*f+c*o+y*w+l*x,M[t+1]=u*f+i*o+B*w+S*x,M[t+2]=d*f+a*o+m*w+b*x,M[t+3]=s*f+p*o+h*w+v*x}}function r(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],B=t.typedBuffer,m=t.typedBufferStride,h=r.typedBuffer,l=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*m,r=e*l,f=h[r],o=h[r+1],S=h[r+2],b=h[r+3];B[t]=n*f+s*o+a*S,B[t+1]=u*f+c*o+p*S,B[t+2]=d*f+i*o+y*S,B[t+3]=b}}function f(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=r*u[t],o[e+1]=r*u[t+1],o[e+2]=r*u[t+2],o[e+3]=r*u[t+3]}}function o(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=u[t]>>r,o[e+1]=u[t+1]>>r,o[e+2]=u[t+2]>>r,o[e+3]=u[t+3]>>r}}var n=Object.freeze({__proto__:null,transformMat4:t,transformMat3:r,scale:f,shiftRight:o});export{o as a,t as b,f as s,r as t,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{get as e,isSome as t,isNone as r}from\"../../../../core/maybe.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{i as o,f as i,C as a,l as u,n,e as l}from\"../../../../chunks/vec3.js\";import{a as c}from\"../../../../chunks/mat4.js\";import{adjustStaticAGOUrl as m}from\"../../../../core/devEnvironmentUtils.js\";import{a as d}from\"../../../../chunks/mat3f64.js\";import{a as f}from\"../../../../chunks/mat4f64.js\";import{n as p}from\"../../../../chunks/mat3.js\";import{BufferViewVec3f as x,BufferViewVec4f as g,BufferViewVec2f as h,BufferViewVec4u8 as b,BufferViewVec4u16 as v,BufferViewVec3u8 as R,BufferViewVec3u16 as y}from\"../../support/buffer/BufferView.js\";import{t as B,a as M,s as w}from\"../../../../chunks/vec32.js\";import{empty as j,expandWithVec3 as C}from\"../../../../geometry/support/aaBoundingBox.js\";import{Geometry as E}from\"../../webgl-engine/lib/Geometry.js\";import{COLOR_GAMMA as T,DefaultMaterial as S}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{Texture as A}from\"../../webgl-engine/lib/Texture.js\";import{DefaultLoadingContext as F}from\"../../glTF/DefaultLoadingContext.js\";import{n as O}from\"../../../../chunks/vec22.js\";import{c as I}from\"../../../../chunks/vec33.js\";import{c as k,f as L}from\"../../../../chunks/vec43.js\";import{createBuffer as N}from\"../../support/buffer/utils.js\";import{load as P}from\"../../glTF/loader.js\";import{triangleFanToTriangles as z,triangleStripToTriangles as D,trianglesToTriangles as V}from\"../../glTF/internal/indexUtils.js\";import{load as _,processLoadResult as W}from\"./wosrLoader.js\";import{t as U,s as G}from\"../../../../chunks/vec42.js\";async function $(r,s){const o=q(m(r));if(\"wosr\"===o.fileType){const e=await(s.cache?s.cache.loadWOSR(o.url,s):_(o.url,s)),t=W(e,s);return{lods:[t],referenceBoundingBox:t.boundingBox,isEsriSymbolResource:!1,isWosr:!0,remove:e.remove}}const i=await(s.cache?s.cache.loadGLTF(o.url,s,s.usePBR):P(new F(s.streamDataRequester),o.url,s,s.usePBR)),a=e(i.model.meta,\"ESRI_proxyEllipsoid\");i.meta.isEsriSymbolResource&&t(a)&&-1!==i.meta.uri.indexOf(\"/RealisticTrees/\")&&J(i,a);const u=i.meta.isEsriSymbolResource?{usePBR:s.usePBR,isSchematic:!1,treeRendering:i.customMeta.esriTreeRendering,mrrFactors:[0,1,.2]}:{usePBR:s.usePBR,isSchematic:!1,mrrFactors:[0,1,.5]},n={...s.materialParamsMixin,treeRendering:i.customMeta.esriTreeRendering};if(null!=o.specifiedLodIndex){const e=K(i,u,n,o.specifiedLodIndex);let t=e[0].boundingBox;if(0!==o.specifiedLodIndex){t=K(i,u,n,0)[0].boundingBox}return{lods:e,referenceBoundingBox:t,isEsriSymbolResource:i.meta.isEsriSymbolResource,isWosr:!1,remove:i.remove}}const l=K(i,u,n);return{lods:l,referenceBoundingBox:l[0].boundingBox,isEsriSymbolResource:i.meta.isEsriSymbolResource,isWosr:!1,remove:i.remove}}function q(e){const t=e.match(/(.*\\.(gltf|glb))(\\?lod=([0-9]+))?$/);if(t)return{fileType:\"gltf\",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null};return e.match(/(.*\\.(json|json\\.gz))$/)?{fileType:\"wosr\",url:e,specifiedLodIndex:null}:{fileType:\"unknown\",url:e,specifiedLodIndex:null}}function K(e,r,s,o){const i=e.model,a=d(),u=new Array,n=new Map,l=new Map;return i.lods.forEach(((e,c)=>{if(void 0!==o&&c!==o)return;const m={name:e.name,stageResources:{textures:new Array,materials:new Array,geometries:new Array},lodThreshold:t(e.lodThreshold)?e.lodThreshold:null,pivotOffset:[0,0,0],numberOfVertices:0,boundingBox:j()};u.push(m),e.parts.forEach((e=>{const o=e.material+(e.attributes.normal?\"_normal\":\"\")+(e.attributes.color?\"_color\":\"\")+(e.attributes.texCoord0?\"_texCoord0\":\"\")+(e.attributes.tangent?\"_tangent\":\"\"),u=i.materials.get(e.material),c=t(e.attributes.texCoord0),d=t(e.attributes.normal);if(!n.has(o)){if(c){if(t(u.textureColor)&&!l.has(u.textureColor)){const e=i.textures.get(u.textureColor),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureColor,new A(e.data,t))}if(t(u.textureNormal)&&!l.has(u.textureNormal)){const e=i.textures.get(u.textureNormal),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureNormal,new A(e.data,t))}if(t(u.textureOcclusion)&&!l.has(u.textureOcclusion)){const e=i.textures.get(u.textureOcclusion),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureOcclusion,new A(e.data,t))}if(t(u.textureEmissive)&&!l.has(u.textureEmissive)){const e=i.textures.get(u.textureEmissive),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureEmissive,new A(e.data,t))}if(t(u.textureMetallicRoughness)&&!l.has(u.textureMetallicRoughness)){const e=i.textures.get(u.textureMetallicRoughness),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureMetallicRoughness,new A(e.data,t))}}const a=u.color[0]**(1/T),m=u.color[1]**(1/T),f=u.color[2]**(1/T),p=u.emissiveFactor[0]**(1/T),x=u.emissiveFactor[1]**(1/T),g=u.emissiveFactor[2]**(1/T);n.set(o,new S({...r,transparent:\"BLEND\"===u.alphaMode,textureAlphaMode:Q(u.alphaMode),textureAlphaCutoff:u.alphaCutoff,diffuse:[a,m,f],ambient:[a,m,f],opacity:u.opacity,doubleSided:u.doubleSided,doubleSidedType:\"winding-order\",cullFace:u.doubleSided?0:2,vertexColors:!!e.attributes.color,vertexTangents:!!e.attributes.tangent,normals:d?\"default\":\"screenDerivative\",castShadows:!0,receiveSSAO:!0,textureId:t(u.textureColor)&&c?l.get(u.textureColor).id:void 0,colorMixMode:u.colorMixMode,normalTextureId:t(u.textureNormal)&&c?l.get(u.textureNormal).id:void 0,textureAlphaPremultiplied:!0,occlusionTextureId:t(u.textureOcclusion)&&c?l.get(u.textureOcclusion).id:void 0,emissiveTextureId:t(u.textureEmissive)&&c?l.get(u.textureEmissive).id:void 0,metallicRoughnessTextureId:t(u.textureMetallicRoughness)&&c?l.get(u.textureMetallicRoughness).id:void 0,emissiveFactor:[p,x,g],mrrFactors:[u.metallicFactor,u.roughnessFactor,r.mrrFactors[2]],isSchematic:!1,...s}))}const f=H(e.indices||e.attributes.position.count,e.primitiveType),j=e.attributes.position.count,F=N(x,j);B(F,e.attributes.position,e.transform);const P=[[\"position\",{data:F.typedBuffer,size:F.elementCount,exclusive:!0}]],z=[[\"position\",f]];if(t(e.attributes.normal)){const t=N(x,j);p(a,e.transform),M(t,e.attributes.normal,a),P.push([\"normal\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"normal\",f])}if(t(e.attributes.tangent)){const t=N(g,j);p(a,e.transform),U(t,e.attributes.tangent,a),P.push([\"tangent\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"tangent\",f])}if(t(e.attributes.texCoord0)){const t=N(h,j);O(t,e.attributes.texCoord0),P.push([\"uv0\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"uv0\",f])}if(t(e.attributes.color)){const t=N(b,j);if(4===e.attributes.color.elementCount)e.attributes.color instanceof g?G(t,e.attributes.color,255):e.attributes.color instanceof b?k(t,e.attributes.color):e.attributes.color instanceof v&&G(t,e.attributes.color,1/256);else{L(t,255,255,255,255);const r=new R(t.buffer,0,4);e.attributes.color instanceof x?w(r,e.attributes.color,255):e.attributes.color instanceof R?I(r,e.attributes.color):e.attributes.color instanceof y&&w(r,e.attributes.color,1/256)}P.push([\"color\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"color\",f])}const D=new E(P,z);m.stageResources.geometries.push(D),m.stageResources.materials.push(n.get(o)),c&&(t(u.textureColor)&&m.stageResources.textures.push(l.get(u.textureColor)),t(u.textureNormal)&&m.stageResources.textures.push(l.get(u.textureNormal)),t(u.textureOcclusion)&&m.stageResources.textures.push(l.get(u.textureOcclusion)),t(u.textureEmissive)&&m.stageResources.textures.push(l.get(u.textureEmissive)),t(u.textureMetallicRoughness)&&m.stageResources.textures.push(l.get(u.textureMetallicRoughness))),m.numberOfVertices+=j;const V=D.boundingInfo;t(V)&&(C(m.boundingBox,V.getBBMin()),C(m.boundingBox,V.getBBMax()))}))})),u}function Q(e){switch(e){case\"BLEND\":return 0;case\"MASK\":return 2;case\"OPAQUE\":return 1;default:return 0}}function H(e,t){switch(t){case 4:return V(e);case 5:return D(e);case 6:return z(e)}}function J(e,t){for(let m=0;m<e.model.lods.length;++m){const d=e.model.lods[m];e.customMeta.esriTreeRendering=!0;for(const p of d.parts){const d=p.attributes.normal;if(r(d))return;const g=p.attributes.position,h=g.count,v=s(),R=s(),y=s(),B=N(b,h),M=N(x,h),w=c(f(),p.transform);for(let r=0;r<h;r++){g.getVec(r,R),d.getVec(r,v),o(R,R,p.transform),i(y,R,t.center),a(y,y,t.radius);const s=y[2],c=u(y),f=Math.min(.45+.55*c*c,1);a(y,y,t.radius),o(y,y,w),n(y,y),m+1!==e.model.lods.length&&e.model.lods.length>1&&l(y,y,v,s>-1?.2:Math.min(-4*s-3.8,1)),M.setVec(r,y),B.set(r,0,255*f),B.set(r,1,255*f),B.set(r,2,255*f),B.set(r,3,255)}p.attributes.normal=M,p.attributes.color=B}}}export{$ as fetch,K as gltfToEngineResources,q as parseUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isNone as e,isSome as n}from\"../../../../core/maybe.js\";import\"../../../../core/mathUtils.js\";import{f as t}from\"../../../../chunks/vec3f64.js\";import o from\"../../../webgl/Program.js\";import{unpackFloatRGBA as i}from\"./Util.js\";import r from\"../../../webgl/BufferObject.js\";import s from\"../../../webgl/VertexArrayObject.js\";import{encodeDoubleArray as a}from\"./doublePrecisionUtils.js\";import c from\"../../../webgl/FramebufferObject.js\";import{testSVGPremultipliedAlpha as l}from\"../../../webgl/testSVGPremultipliedAlpha.js\";class u{constructor(e){this.context=e,this.svgAlwaysPremultipliesAlpha=!1,this._doublePrecisionRequiresObfuscation=null,l(e).then((e=>{this.svgAlwaysPremultipliesAlpha=!e}))}get doublePrecisionRequiresObfuscation(){if(e(this._doublePrecisionRequiresObfuscation)){const e=v(this.context,!1),n=v(this.context,!0);this._doublePrecisionRequiresObfuscation=0!==e&&(0===n||e/n>5)}return this._doublePrecisionRequiresObfuscation}}let f=null;function p(n){return(e(f)||f.context!==n)&&(f=new u(n)),f}function h(e){n(f)&&f.context===e&&(f=null)}function v(e,n){const l=new c(e,{colorTarget:0,depthStencilTarget:0},{target:3553,wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1});function u(t,i){const r=new o(e,`\\n\\n  precision highp float;\\n\\n  attribute vec2 a_pos;\\n\\n  uniform vec3 u_highA;\\n  uniform vec3 u_lowA;\\n  uniform vec3 u_highB;\\n  uniform vec3 u_lowB;\\n\\n  varying vec4 v_color;\\n\\n  ${n?\"#define DOUBLE_PRECISION_REQUIRES_OBFUSCATION\":\"\"}\\n\\n  #ifdef DOUBLE_PRECISION_REQUIRES_OBFUSCATION\\n\\n  vec3 dpPlusFrc(vec3 a, vec3 b) {\\n    return mix(a, a + b, vec3(notEqual(b, vec3(0))));\\n  }\\n\\n  vec3 dpMinusFrc(vec3 a, vec3 b) {\\n    return mix(vec3(0), a - b, vec3(notEqual(a, b)));\\n  }\\n\\n  vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\\n    vec3 t1 = dpPlusFrc(hiA, hiB);\\n    vec3 e = dpMinusFrc(t1, hiA);\\n    vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\\n    return t1 + t2;\\n  }\\n\\n  #else\\n\\n  vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\\n    vec3 t1 = hiA + hiB;\\n    vec3 e = t1 - hiA;\\n    vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\\n    return t1 + t2;\\n  }\\n\\n  #endif\\n\\n  const float MAX_RGBA_FLOAT =\\n    255.0 / 256.0 +\\n    255.0 / 256.0 / 256.0 +\\n    255.0 / 256.0 / 256.0 / 256.0 +\\n    255.0 / 256.0 / 256.0 / 256.0 / 256.0;\\n\\n  const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);\\n\\n  vec4 float2rgba(const float value) {\\n    // Make sure value is in the domain we can represent\\n    float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);\\n\\n    // Decompose value in 32bit fixed point parts represented as\\n    // uint8 rgba components. Decomposition uses the fractional part after multiplying\\n    // by a power of 256 (this removes the bits that are represented in the previous\\n    // component) and then converts the fractional part to 8bits.\\n    vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);\\n\\n    // Convert uint8 values (from 0 to 255) to floating point representation for\\n    // the shader\\n    const float toU8AsFloat = 1.0 / 255.0;\\n\\n    return fixedPointU8 * toU8AsFloat;\\n  }\\n\\n  void main() {\\n    vec3 val = dpAdd(u_highA, u_lowA, -u_highB, -u_lowB);\\n\\n    v_color = float2rgba(val.z / 25.0);\\n\\n    gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n  }\\n  `,\"\\n  precision highp float;\\n\\n  varying vec4 v_color;\\n\\n  void main() {\\n    gl_FragColor = v_color;\\n  }\\n  \",{a_pos:0}),s=new Float32Array(6);a(t,s,3);const c=new Float32Array(6);return a(i,c,3),e.bindProgram(r),r.setUniform3f(\"u_highA\",s[0],s[2],s[4]),r.setUniform3f(\"u_lowA\",s[1],s[3],s[5]),r.setUniform3f(\"u_highB\",c[0],c[2],c[4]),r.setUniform3f(\"u_lowB\",c[1],c[3],c[5]),r}const f=r.createVertex(e,35044,new Uint16Array([0,0,1,0,0,1,1,1])),p=new s(e,{a_pos:0},{geometry:[{name:\"a_pos\",count:2,type:5123,offset:0,stride:4,normalized:!1}]},{geometry:f}),h=t(5633261.287538229,2626832.878767164,1434988.0495278358),v=t(5633271.46742708,2626873.6381334523,1434963.231608387),m=u(h,v),d=e.getBoundFramebufferObject(),{x:A,y:b,width:_,height:g}=e.getViewport();e.bindFramebuffer(l),e.setViewport(0,0,1,1),e.bindVAO(p),e.drawArrays(5,0,4);const w=new Uint8Array(4);l.readPixels(0,0,1,1,6408,5121,w),m.dispose(),p.dispose(!1),f.dispose(),l.dispose(),e.setViewport(A,b,_,g),e.bindFramebuffer(d);const F=(h[2]-v[2])/25,B=i(w);return Math.abs(F-B)}export{h as clearTestWebGLDriver,p as testWebGLDriver};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{f as s}from\"../../../../../../chunks/vec3f32.js\";import{VertexTextureCoordinates as o}from\"../attributes/VertexTextureCoordinates.glsl.js\";const t=s(0,.6,.2);function r(s,t){const r=s.fragment,a=t.hasMetalnessAndRoughnessTexture||t.hasEmissionTexture||t.hasOcclusionTexture;1===t.pbrMode&&a&&s.include(o,t),2!==t.pbrMode?(0===t.pbrMode&&r.code.add(e`\n      float getBakedOcclusion() { return 1.0; }\n  `),1===t.pbrMode&&(r.uniforms.add(\"emissionFactor\",\"vec3\"),r.uniforms.add(\"mrrFactors\",\"vec3\"),r.code.add(e`\n      vec3 mrr;\n      vec3 emission;\n      float occlusion;\n    `),t.hasMetalnessAndRoughnessTexture&&(r.uniforms.add(\"texMetallicRoughness\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texMetallicRoughnessSize\",\"vec2\"),r.code.add(e`\n      void applyMetallnessAndRoughness(TextureLookupParameter params) {\n        vec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\n\n        mrr[0] *= metallicRoughness.b;\n        mrr[1] *= metallicRoughness.g;\n      }`)),t.hasEmissionTexture&&(r.uniforms.add(\"texEmission\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texEmissionSize\",\"vec2\"),r.code.add(e`\n      void applyEmission(TextureLookupParameter params) {\n        emission *= textureLookup(texEmission, params).rgb;\n      }`)),t.hasOcclusionTexture?(r.uniforms.add(\"texOcclusion\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texOcclusionSize\",\"vec2\"),r.code.add(e`\n      void applyOcclusion(TextureLookupParameter params) {\n        occlusion *= textureLookup(texOcclusion, params).r;\n      }\n\n      float getBakedOcclusion() {\n        return occlusion;\n      }\n      `)):r.code.add(e`\n      float getBakedOcclusion() { return 1.0; }\n      `),r.code.add(e`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${a?\"vtc.uv = vuv0;\":\"\"}\n      ${t.hasMetalnessAndRoughnessTexture?t.supportsTextureAtlas?\"vtc.size = texMetallicRoughnessSize; applyMetallnessAndRoughness(vtc);\":\"applyMetallnessAndRoughness(vtc);\":\"\"}\n      ${t.hasEmissionTexture?t.supportsTextureAtlas?\"vtc.size = texEmissionSize; applyEmission(vtc);\":\"applyEmission(vtc);\":\"\"}\n      ${t.hasOcclusionTexture?t.supportsTextureAtlas?\"vtc.size = texOcclusionSize; applyOcclusion(vtc);\":\"applyOcclusion(vtc);\":\"\"}\n    }\n  `))):r.code.add(e`\n      const vec3 mrr = vec3(0.0, 0.6, 0.2);\n      const vec3 emission = vec3(0.0);\n      float occlusion = 1.0;\n\n      void applyPBRFactors() {}\n\n      float getBakedOcclusion() { return 1.0; }\n    `)}!function(e){function s(e,s,o=!1){o||(e.setUniform3fv(\"mrrFactors\",s.mrrFactors),e.setUniform3fv(\"emissionFactor\",s.emissiveFactor))}e.bindUniforms=s}(r||(r={}));export{t as PBRSchematicMRRValues,r as PhysicallyBasedRenderingParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as s,unwrap as r}from\"../../../../core/maybe.js\";import{c as e,b as i}from\"../../../../chunks/vec3f64.js\";import{e as a,a as n,l as h,b as o,g as c,n as l,q as f,f as m}from\"../../../../chunks/vec3.js\";import{a as u,b as p,c as d,m as b}from\"../../../../chunks/mat4.js\";import{a as g}from\"../../../../chunks/mat3f64.js\";import{a as y}from\"../../../../chunks/mat4f64.js\";import{a as v}from\"../../../../chunks/quatf64.js\";import{a as S}from\"../../../../chunks/vec4f64.js\";import{b as T}from\"../../../../chunks/mat3.js\";import{t as z}from\"../../../../chunks/vec4.js\";import{c as O}from\"../../../../chunks/quat.js\";import{c as _}from\"../../../../chunks/vec3f32.js\";import{c as L}from\"../../../../chunks/sphere.js\";import{e as x}from\"../../../../chunks/boundedPlane.js\";import{ray as M}from\"../../support/geometryUtils.js\";import{Object3D as q}from\"./Object3D.js\";function I(t){return(s,r,e)=>(a(X,s,r,e),!x(t,X))}class V{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=2}}class j{constructor(){this._transform=y(),this._transformInverse=new w({value:this._transform},u,y),this._transformInverseTranspose=new w(this._transformInverse,p,y),this._transformTranspose=new w({value:this._transform},p,y),this._transformInverseRotation=new w({value:this._transform},T,g)}invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){d(this._transform,t)}multiplyTransform(t){b(this._transform,this._transform,t)}set(t){d(this._transform,t),this.invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this.invalidateLazyTransforms()}}class w{constructor(t,s,r){this.original=t,this.update=s,this.dirty=!0,this.transform=r()}invalidate(){this.dirty=!0}get value(){return this.dirty&&(this.update(this.transform,this.original.value),this.dirty=!1),this.transform}}class k{constructor(){this.min=new G,this.max=new G,this.hud=new G,this.ground=new G}init(t){this.min.init(t),this.max.init(t),this.hud.init(t),this.ground.init(t),this.all=[]}}class G{constructor(t){this.normal=e(),this.transformation=y(),this._ray=M.create(),this.init(t)}get ray(){return this._ray}get hasIntersectionPoint(){return null!=this.dist}get distanceInRenderSpace(){if(null!=this.dist)return n(Y,this.ray.direction,this.dist),h(Y)}getIntersectionPoint(t){return!!this.hasIntersectionPoint&&(n(Y,this.ray.direction,this.dist),o(t,this.ray.origin,Y),!0)}getTransformedNormal(t){return c(Z,this.normal),Z[3]=0,z(Z,Z,this.transformation),c(t,Z),l(t,t),t}init(t){this.dist=void 0,this.target=void 0,this.name=void 0,this.drapedLayerOrder=void 0,this.drapedLayerGraphicOrder=void 0,this.center=null,this.geometryId=null,this.triangleNr=null,this.intersector=\"Stage\",t?M.copy(t,this._ray):this._ray=M.create()}set(t,s,r,e,a,n,h,o,l,f){t instanceof q&&(t={type:\"stage\",obj:t}),this.dist=r,c(this.normal,e),d(this.transformation,a),this.target=t,this.name=s,this.drapedLayerOrder=n,this.center=h?i(h):null,this.geometryId=o,this.triangleNr=l,this.drapedLayerGraphicOrder=f}copyFrom(t){M.copy(t._ray,this._ray),this.dist=t.dist,this.target=t.target,this.name=t.name,this.drapedLayerOrder=t.drapedLayerOrder,this.center=t.center?i(t.center):null,this.geometryId=t.geometryId,this.triangleNr=t.triangleNr,this.intersector=t.intersector,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,c(this.normal,t.normal),d(this.transformation,t.transformation)}toOwner(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return U(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return P(this.target,t);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return U(this.target.metadata,t);case\"TerrainRenderer\":return t.map&&t.map.ground}}return null}toGraphic(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return R(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return N(this.target);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return R(this.target.metadata,t)}}return null}}function U(r,e){return t(r)||null==r.layerUid?null:s(e.graphicsView)&&r.layerUid===e.graphicsView.graphics3d.layer.id?e.graphics:e.map.findLayerByUid(r.layerUid)}function R(e,i){if(t(e))return null;const a=U(e,i);if(t(a))return null;if(a===i.graphics)return s(i.graphicsView)?r(i.graphicsView.getGraphicFromGraphicUid(e.graphicUid)):null;const n=i.allLayerViews.find((t=>t.layer===a));return n?F(n,e):null}function F(t,s){return!t||t.suspended?null:\"getGraphicFromIntersectorMetadata\"in t&&s?t.getGraphicFromIntersectorMetadata(s):\"getGraphicFromGraphicUid\"in t&&null!=s.graphicUid?t.getGraphicFromGraphicUid(s.graphicUid):null}function P(t,s){const r=t.metadata.layerUid;return null!=r?s.map.findLayerByUid(r):null}function N(t){return t.metadata.createGraphic()}class A{constructor(t=0){this.offset=t,this.tmpVertex=e()}applyToVertex(t,s,r){const e=t+this.localOrigin[0],i=s+this.localOrigin[1],a=r+this.localOrigin[2],n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0]+this.localOrigin[0],r=t[1]+this.localOrigin[1],e=t[2]+this.localOrigin[2],i=t[3]+this.localOrigin[0],a=t[4]+this.localOrigin[1],n=t[5]+this.localOrigin[2],h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}}class B{constructor(t=0){this.offset=t,this.componentLocalOriginLength=0,this.tmpVertex=e(),this.mbs=S(),this.obb={center:e(),halfSize:_(),quaternion:null}}set localOrigin(t){this.componentLocalOriginLength=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}applyToVertex(t,s,r){const e=t,i=s,a=r+this.componentLocalOriginLength,n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0],r=t[1],e=t[2]+this.componentLocalOriginLength,i=t[3],a=t[4],n=t[5]+this.componentLocalOriginLength,h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}applyToMbs(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.mbs[0]=t[0]+t[0]*r,this.mbs[1]=t[1]+t[1]*r,this.mbs[2]=t[2]+t[2]*r,this.mbs[3]=t[3]+t[3]*this.offset/s,this.mbs}applyToObb(t){const s=t.center,r=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);this.obb.center[0]=s[0]+s[0]*r,this.obb.center[1]=s[1]+s[1]*r,this.obb.center[2]=s[2]+s[2]*r,f(this.obb.halfSize,t.halfSize,t.quaternion),o(this.obb.halfSize,this.obb.halfSize,t.center);const e=this.offset/Math.sqrt(this.obb.halfSize[0]*this.obb.halfSize[0]+this.obb.halfSize[1]*this.obb.halfSize[1]+this.obb.halfSize[2]*this.obb.halfSize[2]);return this.obb.halfSize[0]+=this.obb.halfSize[0]*e,this.obb.halfSize[1]+=this.obb.halfSize[1]*e,this.obb.halfSize[2]+=this.obb.halfSize[2]*e,m(this.obb.halfSize,this.obb.halfSize,t.center),O($,t.quaternion),f(this.obb.halfSize,this.obb.halfSize,$),this.obb.halfSize[0]*=this.obb.halfSize[0]<0?-1:1,this.obb.halfSize[1]*=this.obb.halfSize[1]<0?-1:1,this.obb.halfSize[2]*=this.obb.halfSize[2]<0?-1:1,this.obb.quaternion=t.quaternion,this.obb}}class D{constructor(t=0){this.offset=t,this.sphere=L(),this.tmpVertex=e()}applyToVertex(t,s,r){const e=this.objectTransform.transform;let i=e[0]*t+e[4]*s+e[8]*r+e[12],a=e[1]*t+e[5]*s+e[9]*r+e[13],n=e[2]*t+e[6]*s+e[10]*r+e[14];const h=this.offset/Math.sqrt(i*i+a*a+n*n);i+=i*h,a+=a*h,n+=n*h;const o=this.objectTransform.inverse;return this.tmpVertex[0]=o[0]*i+o[4]*a+o[8]*n+o[12],this.tmpVertex[1]=o[1]*i+o[5]*a+o[9]*n+o[13],this.tmpVertex[2]=o[2]*i+o[6]*a+o[10]*n+o[14],this.tmpVertex}applyToMinMax(t,s){const r=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*r,t[1]+=t[1]*r,t[2]+=t[2]*r;const e=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]+=s[0]*e,s[1]+=s[1]*e,s[2]+=s[2]*e}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.sphere[0]=t[0]+t[0]*r,this.sphere[1]=t[1]+t[1]*r,this.sphere[2]=t[2]+t[2]*r,this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}}const C=new D;function E(t){return s(t)?(C.offset=t,C):null}const H=new B;function J(t){return s(t)?(H.offset=t,H):null}const K=new A;function Q(t){return s(t)?(K.offset=t,K):null}const W=\"terrain\",X=e(),Y=e(),Z=S(),$=v();export{B as I3SVerticalOffsetGlobalViewingMode,V as IntersectorOptions,G as IntersectorResult,k as IntersectorResults,j as IntersectorTransform,D as Object3DVerticalOffsetGlobalViewingMode,W as TERRAIN_ID,A as TerrainVerticalOffsetGlobalViewingMode,J as getVerticalOffsetI3S,E as getVerticalOffsetObject3D,Q as getVerticalOffsetTerrain,I as sliceFilterPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as a}from\"../../shaderModules/interfaces.js\";function r(r,e){const m=r.fragment;m.code.add(a`\n    struct ShadingNormalParameters {\n      vec3 normalView;\n      vec3 viewDirection;\n    } shadingParams;\n    `),1===e.doubleSidedMode?m.code.add(a`\n      vec3 shadingNormal(ShadingNormalParameters params) {\n        return dot(params.normalView, params.viewDirection) > 0.0 ? normalize(-params.normalView) : normalize(params.normalView);\n      }\n    `):2===e.doubleSidedMode?m.code.add(a`\n      vec3 shadingNormal(ShadingNormalParameters params) {\n        return gl_FrontFacing ? normalize(params.normalView) : normalize(-params.normalView);\n      }\n    `):m.code.add(a`\n      vec3 shadingNormal(ShadingNormalParameters params) {\n        return normalize(params.normalView);\n      }\n    `)}export{r as Normals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){o.attributes.add(\"position\",\"vec3\"),o.vertex.code.add(e`\n    vec3 positionModel() { return position; }\n  `)}export{o as PositionAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{VisualVariables as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as t,DiscardOrAdjustAlpha as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{VerticalOffset as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{multipassTerrainTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as c}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ForwardLinearDepth as g}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{PhysicallyBasedRendering as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{InstancedDoublePrecision as m}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{TextureCoordinateAttribute as p}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{PhysicallyBasedRenderingParameters as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Offset as b}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{NormalAttribute as f}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as h}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as w}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{VertexColor as x}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{DefaultMaterialAuxiliaryPasses as y}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{EvaluateAmbientOcclusion as C}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{MixExternalColor as M}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";function j(j){const E=new r,O=E.vertex.code,_=E.fragment.code;return E.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\"),E.include(h),E.varyings.add(\"vpos\",\"vec3\"),E.include(l,j),E.include(m,j),E.include(n,j),0!==j.output&&7!==j.output||(E.include(f,j),E.include(o,{linearDepth:!1}),j.offsetBackfaces&&E.include(b),j.instancedColor&&E.attributes.add(\"instanceColor\",\"vec4\"),E.varyings.add(\"vNormalWorld\",\"vec3\"),E.varyings.add(\"localvpos\",\"vec3\"),j.multipassTerrainEnabled&&E.varyings.add(\"depth\",\"float\"),E.include(p,j),E.include(g,j),E.include(w,j),E.include(x,j),E.vertex.uniforms.add(\"externalColor\",\"vec4\"),E.varyings.add(\"vcolorExt\",\"vec4\"),O.add(e`\n        void main(void) {\n          forwardNormalizedVertexColor();\n          vcolorExt = externalColor;\n          ${j.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n          vcolorExt *= vvColor();\n          vcolorExt *= getSymbolColor();\n          forwardColorMixMode();\n\n          if (vcolorExt.a < ${e.float(t)}) {\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          }\n          else {\n            vpos = calculateVPos();\n            localvpos = vpos - view[3].xyz;\n            vpos = subtractOrigin(vpos);\n            vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\n            vpos = addVerticalOffset(vpos, localOrigin);\n            gl_Position = transformPosition(proj, view, vpos);\n            ${j.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, camPos);\":\"\"}\n          }\n          ${j.multipassTerrainEnabled?e`depth = (view * vec4(vpos, 1.0)).z;`:\"\"}\n          forwardLinearDepth();\n          forwardTextureCoordinates();\n        }\n      `)),7===j.output&&(E.include(a,j),E.include(d,j),j.multipassTerrainEnabled&&(E.fragment.include(i),E.include(s,j)),E.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),E.fragment.uniforms.add(\"view\",\"mat4\"),j.hasColorTexture&&E.fragment.uniforms.add(\"tex\",\"sampler2D\"),E.fragment.include(M),_.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${j.multipassTerrainEnabled?e`terrainDepthTest(gl_FragCoord, depth);`:\"\"}\n        ${j.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${j.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        ${j.attributeColor?e`\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),0===j.output&&(E.include(a,j),E.include(L,j),E.include(C,j),E.include(d,j),j.receiveShadows&&E.include(c,j),j.multipassTerrainEnabled&&(E.fragment.include(i),E.include(s,j)),E.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"ambient\",\"vec3\").add(\"diffuse\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),E.fragment.uniforms.add(\"view\",\"mat4\"),j.hasColorTexture&&E.fragment.uniforms.add(\"tex\",\"sampler2D\"),E.include(u,j),E.include(v,j),E.fragment.include(M),_.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${j.multipassTerrainEnabled?e`terrainDepthTest(gl_FragCoord, depth);`:\"\"}\n        ${j.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${j.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        vec3 viewDirection = normalize(vpos - camPos);\n        ${1===j.pbrMode?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        float additionalAmbientScale = _oldHeuristicLighting(vpos + localOrigin);\n        vec3 additionalLight = ssao * lightingMainIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n        ${j.receiveShadows?\"float shadow = readShadowMap(vpos, linearDepth);\":1===j.viewingMode?\"float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);\":\"float shadow = 0.0;\"}\n        vec3 matColor = max(ambient, diffuse);\n        ${j.attributeColor?e`\n        vec3 albedo_ = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        vec3 albedo_ = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        ${e`\n        vec3 shadedNormal = normalize(vNormalWorld);\n        albedo_ *= 1.2;\n        vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\n        float alignmentLightView = clamp(dot(-viewForward, lightingMainDirection), 0.0, 1.0);\n        float transmittance = 1.0 - clamp(dot(-viewForward, shadedNormal), 0.0, 1.0);\n        float treeRadialFalloff = vColor.r;\n        float backLightFactor = 0.5 * treeRadialFalloff * alignmentLightView * transmittance * (1.0 - shadow);\n        additionalLight += backLightFactor * lightingMainIntensity;`}\n        ${1===j.pbrMode||2===j.pbrMode?1===j.viewingMode?e`vec3 normalGround = normalize(vpos + localOrigin);`:e`vec3 normalGround = vec3(0.0, 0.0, 1.0);`:e``}\n        ${1===j.pbrMode||2===j.pbrMode?e`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * lightingMainIntensity[2];\n            vec3 shadedColor = evaluateSceneLightingPBR(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight, viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:\"vec3 shadedColor = evaluateSceneLighting(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight);\"}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${j.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),E.include(y,j),E}var E=Object.freeze({__proto__:null,build:j});export{E as R,j as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as o}from\"../../../../../../chunks/vec3f64.js\";import{a as r}from\"../../../../../../chunks/mat3f64.js\";import{a as e}from\"../../../../../../chunks/mat4f64.js\";import{glsl as i}from\"../../shaderModules/interfaces.js\";import{DoublePrecision as a}from\"../util/DoublePrecision.glsl.js\";import{PositionAttribute as m}from\"./PositionAttribute.glsl.js\";function t(o,r){o.include(m),o.vertex.include(a,r),o.varyings.add(\"vPositionWorldCameraRelative\",\"vec3\"),o.varyings.add(\"vPosition_view\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_RS\",\"mat3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_TH\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_TL\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromView_TH\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromView_TL\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_ViewFromCameraRelative_RS\",\"mat3\"),o.vertex.uniforms.add(\"uTransform_ProjFromView\",\"mat4\"),o.vertex.code.add(i`\n    // compute position in world space orientation, but relative to the camera position\n    vec3 positionWorldCameraRelative() {\n      vec3 rotatedModelPosition = uTransform_WorldFromModel_RS * positionModel();\n\n      vec3 transform_CameraRelativeFromModel = dpAdd(\n        uTransform_WorldFromModel_TL,\n        uTransform_WorldFromModel_TH,\n        -uTransform_WorldFromView_TL,\n        -uTransform_WorldFromView_TH\n      );\n\n      return transform_CameraRelativeFromModel + rotatedModelPosition;\n    }\n\n    // position in view space, that is relative to the camera position and orientation\n    vec3 position_view() {\n      return uTransform_ViewFromCameraRelative_RS * positionWorldCameraRelative();\n    }\n\n    // compute gl_Position and forward related varyings to fragment shader\n    void forwardPosition() {\n      vPositionWorldCameraRelative = positionWorldCameraRelative();\n      vPosition_view = position_view();\n      gl_Position = uTransform_ProjFromView * vec4(vPosition_view, 1.0);\n    }\n\n    vec3 positionWorld() {\n      return uTransform_WorldFromView_TL + vPositionWorldCameraRelative;\n    }\n  `),o.fragment.uniforms.add(\"uTransform_WorldFromView_TL\",\"vec3\"),o.fragment.code.add(i`\n    vec3 positionWorld() {\n      return uTransform_WorldFromView_TL + vPositionWorldCameraRelative;\n    }\n  `)}!function(i){class a{constructor(){this.worldFromModel_RS=r(),this.worldFromModel_TH=o(),this.worldFromModel_TL=o()}}i.ModelTransform=a;class m{constructor(){this.worldFromView_TH=o(),this.worldFromView_TL=o(),this.viewFromCameraRelative_RS=r(),this.projFromView=e()}}function t(o,r){o.setUniformMatrix3fv(\"uTransform_WorldFromModel_RS\",r.worldFromModel_RS),o.setUniform3fv(\"uTransform_WorldFromModel_TH\",r.worldFromModel_TH),o.setUniform3fv(\"uTransform_WorldFromModel_TL\",r.worldFromModel_TL)}function n(o,r){o.setUniform3fv(\"uTransform_WorldFromView_TH\",r.worldFromView_TH),o.setUniform3fv(\"uTransform_WorldFromView_TL\",r.worldFromView_TL),o.setUniformMatrix4fv(\"uTransform_ProjFromView\",r.projFromView),o.setUniformMatrix3fv(\"uTransform_ViewFromCameraRelative_RS\",r.viewFromCameraRelative_RS)}i.ViewProjectionTransform=m,i.bindModelTransform=t,i.bindViewProjTransform=n}(t||(t={}));export{t as VertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`\n      void forwardLinearDepth() { linearDepth = gl_Position.w; }\n    `)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),a.vertex.code.add(e`\n      void forwardLinearDepth() {\n        linearDepth = (-position_view().z - cameraNearFar[0]) / (cameraNearFar[1] - cameraNearFar[0]);\n      }\n    `)):a.vertex.code.add(e`\n      void forwardLinearDepth() {}\n    `)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){const d=e`\n    vec3 decodeNormal(vec2 f) {\n      float z = 1.0 - abs(f.x) - abs(f.y);\n      return vec3(f + sign(f) * min(z, 0.0), z);\n    }\n  `;o.fragment.code.add(d),o.vertex.code.add(d)}export{o as DecodeNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{DecodeNormal as r}from\"../util/DecodeNormal.glsl.js\";function o(o,d){0===d.normalType&&(o.attributes.add(\"normal\",\"vec3\"),o.vertex.code.add(e`\n      vec3 normalModel() {\n        return normal;\n      }\n    `)),1===d.normalType&&(o.include(r),o.attributes.add(\"normalCompressed\",\"vec2\"),o.vertex.code.add(e`\n      vec3 normalModel() {\n        return decodeNormal(normalCompressed);\n      }\n    `)),3===d.normalType&&(o.extensions.add(\"GL_OES_standard_derivatives\"),o.fragment.code.add(e`\n      vec3 screenDerivativeNormal(vec3 positionView) {\n        return normalize(cross(dFdx(positionView), dFdy(positionView)));\n      }\n    `))}export{o as NormalAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";function t(t){t.fragment.include(a),t.fragment.uniforms.add(\"uShadowMapTex\",\"sampler2D\"),t.fragment.uniforms.add(\"uShadowMapNum\",\"int\"),t.fragment.uniforms.add(\"uShadowMapDistance\",\"vec4\"),t.fragment.uniforms.add(\"uShadowMapMatrix\",\"mat4\",4),t.fragment.uniforms.add(\"uDepthHalfPixelSz\",\"float\"),t.fragment.code.add(e`\n    int chooseCascade(float _linearDepth, out mat4 mat) {\n      vec4 distance = uShadowMapDistance;\n      float depth = _linearDepth;\n\n      //choose correct cascade\n      int i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\n\n      mat = i == 0 ? uShadowMapMatrix[0] : i == 1 ? uShadowMapMatrix[1] : i == 2 ? uShadowMapMatrix[2] : uShadowMapMatrix[3];\n\n      return i;\n    }\n\n    vec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\n      vec4 lv = mat * vec4(_vpos, 1.0);\n      lv.xy /= lv.w;\n      return 0.5 * lv.xyz + vec3(0.5);\n    }\n\n    vec2 cascadeCoordinates(int i, vec3 lvpos) {\n      return vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n    }\n\n    float readShadowMapDepth(vec2 uv, sampler2D _depthTex) {\n      return rgba2float(texture2D(_depthTex, uv));\n    }\n\n    float posIsInShadow(vec2 uv, vec3 lvpos, sampler2D _depthTex) {\n      return readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n    }\n\n    float filterShadow(vec2 uv, vec3 lvpos, float halfPixelSize, sampler2D _depthTex) {\n      float texSize = 0.5 / halfPixelSize;\n\n      // filter, offset by half pixels\n      vec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\n\n      float s00 = posIsInShadow(uv + vec2(-halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s10 = posIsInShadow(uv + vec2(halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s11 = posIsInShadow(uv + vec2(halfPixelSize, halfPixelSize), lvpos, _depthTex);\n      float s01 = posIsInShadow(uv + vec2(-halfPixelSize, halfPixelSize), lvpos, _depthTex);\n\n      return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n    }\n\n    float readShadowMap(const in vec3 _vpos, float _linearDepth) {\n      mat4 mat;\n      int i = chooseCascade(_linearDepth, mat);\n\n      if (i >= uShadowMapNum) { return 0.0; }\n\n      vec3 lvpos = lightSpacePosition(_vpos, mat);\n\n      // vertex completely outside? -> no shadow\n      if (lvpos.z >= 1.0) { return 0.0; }\n      if (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\n\n      // calc coord in cascade texture\n      vec2 uv = cascadeCoordinates(i, lvpos);\n\n      return filterShadow(uv, lvpos, uDepthHalfPixelSz, uShadowMapTex);\n    }\n  `)}!function(e){function a(e,a,t){a.shadowMappingEnabled&&(a.shadowMap.bind(e,t),a.shadowMap.bindView(e,a.origin))}function t(e,a,t){a.shadowMappingEnabled&&a.shadowMap.bindView(e,t)}function o(e,a){a.shadowMappingEnabled&&a.shadowMap.bindView(e,a.origin)}e.bindUniforms=a,e.bindViewCustomOrigin=t,e.bindView=o}(t||(t={}));export{t as ReadShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../../../chunks/vec3f64.js\";import{glsl as i}from\"../../shaderModules/interfaces.js\";import{encodeDoubleArraySplit as r}from\"../../../lib/doublePrecisionUtils.js\";import{DoublePrecision as o}from\"../util/DoublePrecision.glsl.js\";function n(e,r){r.instanced&&r.instancedDoublePrecision&&(e.attributes.add(\"modelOriginHi\",\"vec3\"),e.attributes.add(\"modelOriginLo\",\"vec3\"),e.attributes.add(\"model\",\"mat3\"),e.attributes.add(\"modelNormal\",\"mat3\")),r.instancedDoublePrecision&&(e.vertex.include(o,r),e.vertex.uniforms.add(\"viewOriginHi\",\"vec3\"),e.vertex.uniforms.add(\"viewOriginLo\",\"vec3\"));const n=[i`\n    vec3 calculateVPos() {\n      ${r.instancedDoublePrecision?\"return model * localPosition().xyz;\":\"return localPosition().xyz;\"}\n    }\n    `,i`\n    vec3 subtractOrigin(vec3 _pos) {\n      ${r.instancedDoublePrecision?i`\n          vec3 originDelta = dpAdd(viewOriginHi, viewOriginLo, -modelOriginHi, -modelOriginLo);\n          return _pos - originDelta;`:\"return vpos;\"}\n    }\n    `,i`\n    vec3 dpNormal(vec4 _normal) {\n      ${r.instancedDoublePrecision?\"return normalize(modelNormal * _normal.xyz);\":\"return normalize(_normal.xyz);\"}\n    }\n    `,i`\n    vec3 dpNormalView(vec4 _normal) {\n      ${r.instancedDoublePrecision?\"return normalize((viewNormal * vec4(modelNormal * _normal.xyz, 1.0)).xyz);\":\"return normalize((viewNormal * _normal).xyz);\"}\n    }\n    `,r.vertexTangets?i`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${r.instancedDoublePrecision?\"return vec4(modelNormal * _tangent.xyz, _tangent.w);\":\"return _tangent;\"}\n\n    }\n    `:i``];e.vertex.code.add(n[0]),e.vertex.code.add(n[1]),e.vertex.code.add(n[2]),2===r.output&&e.vertex.code.add(n[3]),e.vertex.code.add(n[4])}!function(e){class i{}function o(e,i){r(i,t,a,3),e.setUniform3fv(\"viewOriginHi\",t),e.setUniform3fv(\"viewOriginLo\",a)}e.Uniforms=i,e.bindCustomOrigin=o}(n||(n={}));const t=e(),a=e();export{n as InstancedDoublePrecision};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../../../core/has.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function u(u,e){t`\n  /*\n  *  ${e.name}\n  *  ${0===e.output?\"RenderOutput: Color\":1===e.output?\"RenderOutput: Depth\":3===e.output?\"RenderOutput: Shadow\":2===e.output?\"RenderOutput: Normal\":4===e.output?\"RenderOutput: Highlight\":\"\"}\n  */\n  `}export{u as HeaderComment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../../../../core/Logger.js\";const e=r.getLogger(\"esri.views.3d.support.buffer.math\");export{e as logger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{f as t}from\"../../../../chunks/vec3f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as l,defaultDepthWriteParams as c,defaultColorWriteParams as p}from\"../../../webgl/renderState.js\";import{View as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{colorMixModes as h,bindScreenSizePerspective as d}from\"../materials/internal/MaterialUtil.js\";import{Slice as m}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as v}from\"../core/shaderLibrary/shading/VisualVariables.glsl.js\";import{VerticalOffset as g}from\"../core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{blendingDefault as b,OITBlending as y,OITDepthTest as x,getOITPolygonOffset as T}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as P}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{stencilWriteMaskOn as M,stencilToolMaskBaseParams as S,stencilBaseAllZerosParams as O}from\"../lib/StencilUtils.js\";import{ReadShadowMap as C}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{doublePrecisionRequiresObfuscation as D}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{InstancedDoublePrecision as w}from\"../core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{PhysicallyBasedRenderingParameters as j}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{D as A}from\"../../../../chunks/DefaultMaterial.glsl.js\";class E extends r{initializeProgram(e){const t=E.shader.get(),i=this.configuration,r=t.build({OITEnabled:0===i.transparencyPassType,output:i.output,viewingMode:e.viewingMode,receiveShadows:i.receiveShadows,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:i.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:i.symbolColors,vvSize:i.vvSize,vvColor:i.vvColor,vvInstancingEnabled:!0,instanced:i.instanced,instancedColor:i.instancedColor,instancedDoublePrecision:i.instancedDoublePrecision,useOldSceneLightInterface:!1,pbrMode:i.usePBR?i.isSchematic?2:1:0,hasMetalnessAndRoughnessTexture:i.hasMetalnessAndRoughnessTexture,hasEmissionTexture:i.hasEmissionTexture,hasOcclusionTexture:i.hasOcclusionTexture,hasNormalTexture:i.hasNormalTexture,hasColorTexture:i.hasColorTexture,receiveAmbientOcclusion:i.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:i.normalsTypeDerivate?3:0,doubleSidedMode:i.doubleSidedMode,vertexTangets:i.vertexTangents,attributeTextureCoordinates:i.hasMetalnessAndRoughnessTexture||i.hasEmissionTexture||i.hasOcclusionTexture||i.hasNormalTexture||i.hasColorTexture?1:0,textureAlphaPremultiplied:i.textureAlphaPremultiplied,attributeColor:i.vertexColors,screenSizePerspectiveEnabled:i.screenSizePerspective,verticalOffsetEnabled:i.verticalOffset,offsetBackfaces:i.offsetBackfaces,doublePrecisionRequiresObfuscation:D(e.rctx),alphaDiscardMode:i.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new n(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),a)}bindPass(e,t,i){u.bindProjectionMatrix(this.program,i.camera.projectionMatrix);const r=this.configuration.output;(1===this.configuration.output||i.multipassTerrainEnabled||3===r)&&this.program.setUniform2fv(\"cameraNearFar\",i.camera.nearFar),i.multipassTerrainEnabled&&(this.program.setUniform2fv(\"inverseViewport\",i.inverseViewport),P(this.program,e,i)),7===r&&(this.program.setUniform1f(\"opacity\",t.opacity),this.program.setUniform1f(\"layerOpacity\",t.layerOpacity),this.program.setUniform4fv(\"externalColor\",t.externalColor),this.program.setUniform1i(\"colorMixMode\",h[t.colorMixMode])),0===r?(i.lighting.setUniforms(this.program,!1),this.program.setUniform3fv(\"ambient\",t.ambient),this.program.setUniform3fv(\"diffuse\",t.diffuse),this.program.setUniform4fv(\"externalColor\",t.externalColor),this.program.setUniform1i(\"colorMixMode\",h[t.colorMixMode]),this.program.setUniform1f(\"opacity\",t.opacity),this.program.setUniform1f(\"layerOpacity\",t.layerOpacity),this.configuration.usePBR&&j.bindUniforms(this.program,t,this.configuration.isSchematic)):4===r&&f.bindOutputHighlight(e,this.program,i),v.bindUniformsForSymbols(this.program,t),g.bindUniforms(this.program,t,i),d(t.screenSizePerspective,this.program,\"screenSizePerspectiveAlignment\"),2!==t.textureAlphaMode&&3!==t.textureAlphaMode||this.program.setUniform1f(\"textureAlphaCutoff\",t.textureAlphaCutoff)}bindDraw(e){const i=this.configuration.instancedDoublePrecision?t(e.camera.viewInverseTransposeMatrix[3],e.camera.viewInverseTransposeMatrix[7],e.camera.viewInverseTransposeMatrix[11]):e.origin;u.bindViewCustomOrigin(this.program,i,e.camera.viewMatrix),(0===this.configuration.output||7===this.configuration.output||1===this.configuration.output&&this.configuration.screenSizePerspective||2===this.configuration.output&&this.configuration.screenSizePerspective||4===this.configuration.output&&this.configuration.screenSizePerspective)&&u.bindCamPosition(this.program,i,e.camera.viewInverseTransposeMatrix),2===this.configuration.output&&this.program.setUniformMatrix4fv(\"viewNormal\",e.camera.viewInverseTransposeMatrix),this.configuration.instancedDoublePrecision&&w.bindCustomOrigin(this.program,i),m.bindUniforms(this.program,this.configuration,e.slicePlane,i),0===this.configuration.output&&C.bindViewCustomOrigin(this.program,e,i)}setPipeline(e,t){const i=this.configuration,r=3===e,o=2===e;return l({blending:0!==i.output&&7!==i.output||!i.transparent?null:r?b:y(e),culling:z(i),depthTest:{func:x(e)},depthWrite:r||o?i.writeDepth&&c:null,colorWrite:p,stencilWrite:i.sceneHasOcludees?M:null,stencilTest:i.sceneHasOcludees?t?S:O:null,polygonOffset:r||o?null:T(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipeline(this.configuration.transparencyPassType,!0),this.setPipeline(this.configuration.transparencyPassType,!1)}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}function U(e){return e.cullFace?0!==e.cullFace:!e.slicePlaneEnabled&&(!e.transparent&&!e.doubleSidedMode)}E.shader=new i(A,(()=>import(\"./DefaultMaterial.glsl.js\")));const z=e=>U(e)&&{face:1===e.cullFace?1028:1029,mode:2305};class R extends o{constructor(){super(...arguments),this.output=0,this.alphaDiscardMode=1,this.doubleSidedMode=0,this.isSchematic=!1,this.vertexColors=!1,this.offsetBackfaces=!1,this.symbolColors=!1,this.vvSize=!1,this.vvColor=!1,this.verticalOffset=!1,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.receiveAmbientOcclusion=!1,this.screenSizePerspective=!1,this.textureAlphaPremultiplied=!1,this.hasColorTexture=!1,this.usePBR=!1,this.hasMetalnessAndRoughnessTexture=!1,this.hasEmissionTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.instanced=!1,this.instancedColor=!1,this.instancedDoublePrecision=!1,this.vertexTangents=!1,this.normalsTypeDerivate=!1,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparent=!1,this.enableOffset=!0,this.cullFace=0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([s({count:8})],R.prototype,\"output\",void 0),e([s({count:4})],R.prototype,\"alphaDiscardMode\",void 0),e([s({count:3})],R.prototype,\"doubleSidedMode\",void 0),e([s()],R.prototype,\"isSchematic\",void 0),e([s()],R.prototype,\"vertexColors\",void 0),e([s()],R.prototype,\"offsetBackfaces\",void 0),e([s()],R.prototype,\"symbolColors\",void 0),e([s()],R.prototype,\"vvSize\",void 0),e([s()],R.prototype,\"vvColor\",void 0),e([s()],R.prototype,\"verticalOffset\",void 0),e([s()],R.prototype,\"receiveShadows\",void 0),e([s()],R.prototype,\"slicePlaneEnabled\",void 0),e([s()],R.prototype,\"sliceHighlightDisabled\",void 0),e([s()],R.prototype,\"receiveAmbientOcclusion\",void 0),e([s()],R.prototype,\"screenSizePerspective\",void 0),e([s()],R.prototype,\"textureAlphaPremultiplied\",void 0),e([s()],R.prototype,\"hasColorTexture\",void 0),e([s()],R.prototype,\"usePBR\",void 0),e([s()],R.prototype,\"hasMetalnessAndRoughnessTexture\",void 0),e([s()],R.prototype,\"hasEmissionTexture\",void 0),e([s()],R.prototype,\"hasOcclusionTexture\",void 0),e([s()],R.prototype,\"hasNormalTexture\",void 0),e([s()],R.prototype,\"instanced\",void 0),e([s()],R.prototype,\"instancedColor\",void 0),e([s()],R.prototype,\"instancedDoublePrecision\",void 0),e([s()],R.prototype,\"vertexTangents\",void 0),e([s()],R.prototype,\"normalsTypeDerivate\",void 0),e([s()],R.prototype,\"writeDepth\",void 0),e([s()],R.prototype,\"sceneHasOcludees\",void 0),e([s()],R.prototype,\"transparent\",void 0),e([s()],R.prototype,\"enableOffset\",void 0),e([s({count:3})],R.prototype,\"cullFace\",void 0),e([s({count:4})],R.prototype,\"transparencyPassType\",void 0),e([s()],R.prototype,\"multipassTerrainEnabled\",void 0),e([s()],R.prototype,\"cullAboveGround\",void 0);export{E as DefaultMaterialTechnique,R as DefaultMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{Default3D as r}from\"../lib/DefaultVertexAttributeLocations.js\";import s from\"../../../webgl/Program.js\";import{doublePrecisionRequiresObfuscation as i}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{DefaultMaterialTechnique as t}from\"./DefaultMaterialTechnique.js\";import{R as o}from\"../../../../chunks/RealisticTree.glsl.js\";class a extends t{initializeProgram(e){const t=a.shader.get(),o=this.configuration,l=t.build({OITEnabled:0===o.transparencyPassType,output:o.output,viewingMode:e.viewingMode,receiveShadows:o.receiveShadows,slicePlaneEnabled:o.slicePlaneEnabled,sliceHighlightDisabled:o.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:o.symbolColors,vvSize:o.vvSize,vvColor:o.vvColor,vvInstancingEnabled:!0,instanced:o.instanced,instancedColor:o.instancedColor,instancedDoublePrecision:o.instancedDoublePrecision,useOldSceneLightInterface:!1,pbrMode:o.usePBR?1:0,hasMetalnessAndRoughnessTexture:!1,hasEmissionTexture:!1,hasOcclusionTexture:!1,hasNormalTexture:!1,hasColorTexture:o.hasColorTexture,receiveAmbientOcclusion:o.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:0,doubleSidedMode:2,vertexTangets:!1,attributeTextureCoordinates:o.hasColorTexture?1:0,textureAlphaPremultiplied:o.textureAlphaPremultiplied,attributeColor:o.vertexColors,screenSizePerspectiveEnabled:o.screenSizePerspective,verticalOffsetEnabled:o.verticalOffset,offsetBackfaces:o.offsetBackfaces,doublePrecisionRequiresObfuscation:i(e.rctx),alphaDiscardMode:o.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:o.multipassTerrainEnabled,cullAboveGround:o.cullAboveGround});return new s(e.rctx,l.generateSource(\"vertex\"),l.generateSource(\"fragment\"),r)}}a.shader=new e(o,(()=>import(\"../core/shaderLibrary/default/RealisticTree.glsl.js\")));export{a as RealisticTreeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e,f as t}from\"../../../../chunks/vec3f64.js\";import{s as i,g as s,n as a,f as r,l as n,a as o,d as l,t as u}from\"../../../../chunks/vec3.js\";import{a as c}from\"../../../../chunks/mat3f64.js\";import{newLayout as h}from\"../../support/buffer/InterleavedLayout.js\";import{getVerticalOffsetObject3D as d}from\"../lib/intersectorUtils.js\";import p from\"../lib/GLMaterialTexture.js\";import{verticalOffsetAtDistance as m,intersectTriangleGeometry as f}from\"./internal/MaterialUtil.js\";import{Material as v,materialParametersDefaults as g}from\"../lib/Material.js\";import{writeDefaultAttributes as C}from\"./internal/bufferWriterUtils.js\";import{defaultMaskAlphaCutoff as b}from\"../core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{OITPolygonOffsetLimit as x}from\"../lib/OrderIndependentTransparency.js\";import{DefaultMaterialTechniqueConfiguration as q,DefaultMaterialTechnique as S}from\"../shaders/DefaultMaterialTechnique.js\";import{RealisticTreeTechnique as T}from\"../shaders/RealisticTreeTechnique.js\";class y extends v{constructor(e){super(e,M),this.supportsEdges=!0,this.techniqueConfig=new q,this.vertexBufferLayout=y.getVertexBufferLayout(this.params),this.instanceBufferLayout=e.instanced?y.getInstanceBufferLayout(this.params):null}isVisibleInPass(e){return 4!==e&&6!==e&&7!==e||this.params.castShadows}isVisible(){const e=this.params;if(!super.isVisible()||0===e.layerOpacity)return!1;const t=e.instanced,i=e.vertexColors,s=e.symbolColors,a=!!t&&t.indexOf(\"color\")>-1,r=e.vvColorEnabled,n=\"replace\"===e.colorMixMode,o=e.opacity>0,l=e.externalColor&&e.externalColor[3]>0;return i&&(a||r||s)?!!n||o:i?n?l:o:a||r||s?!!n||o:n?l:o}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.hasNormalTexture=!!this.params.normalTextureId,this.techniqueConfig.hasColorTexture=!!this.params.textureId,this.techniqueConfig.vertexTangents=this.params.vertexTangents,this.techniqueConfig.instanced=!!this.params.instanced,this.techniqueConfig.instancedDoublePrecision=this.params.instancedDoublePrecision,this.techniqueConfig.vvSize=this.params.vvSizeEnabled,this.techniqueConfig.verticalOffset=null!==this.params.verticalOffset,this.techniqueConfig.screenSizePerspective=null!==this.params.screenSizePerspective,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.sliceHighlightDisabled=this.params.sliceHighlightDisabled,this.techniqueConfig.alphaDiscardMode=this.params.textureAlphaMode,this.techniqueConfig.normalsTypeDerivate=\"screenDerivative\"===this.params.normals,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.cullFace=null!=this.params.cullFace?this.params.cullFace:0,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!t||t.cullAboveGround,0!==e&&7!==e||(this.techniqueConfig.vertexColors=this.params.vertexColors,this.techniqueConfig.symbolColors=this.params.symbolColors,this.params.treeRendering?this.techniqueConfig.doubleSidedMode=2:this.techniqueConfig.doubleSidedMode=this.params.doubleSided&&\"normal\"===this.params.doubleSidedType?1:this.params.doubleSided&&\"winding-order\"===this.params.doubleSidedType?2:0,this.techniqueConfig.instancedColor=!!this.params.instanced&&this.params.instanced.indexOf(\"color\")>-1,this.techniqueConfig.receiveShadows=this.params.receiveShadows&&this.params.shadowMappingEnabled,this.techniqueConfig.receiveAmbientOcclusion=!(!t||!t.ssaoEnabled)&&this.params.receiveSSAO,this.techniqueConfig.vvColor=this.params.vvColorEnabled,this.techniqueConfig.textureAlphaPremultiplied=!!this.params.textureAlphaPremultiplied,this.techniqueConfig.usePBR=this.params.usePBR,this.techniqueConfig.hasMetalnessAndRoughnessTexture=!!this.params.metallicRoughnessTextureId,this.techniqueConfig.hasEmissionTexture=!!this.params.emissiveTextureId,this.techniqueConfig.hasOcclusionTexture=!!this.params.occlusionTextureId,this.techniqueConfig.offsetBackfaces=!(!this.params.transparent||!this.params.offsetTransparentBackfaces),this.techniqueConfig.isSchematic=this.params.usePBR&&this.params.isSchematic,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.enableOffset=!t||t.camera.relativeElevation<x),this.techniqueConfig}intersect(e,t,c,h,p,v,g){if(null!==this.params.verticalOffset){const e=h.camera;i(R,c[12],c[13],c[14]);let t=null;switch(h.viewingMode){case 1:t=a(A,R);break;case 2:t=s(A,I)}let d=0;if(null!==this.params.verticalOffset){const i=r(D,R,e.eye),s=n(i),a=o(i,i,1/s);let u=null;this.params.screenSizePerspective&&(u=l(t,a)),d+=m(e,s,this.params.verticalOffset,u,this.params.screenSizePerspective)}o(t,t,d),u(L,t,h.transform.inverseRotation),p=r(E,p,L),v=r(B,v,L)}f(e,t,h,p,v,d(h.verticalOffset),g)}getGLMaterial(e){if(0===e.output||7===e.output||1===e.output||2===e.output||3===e.output||4===e.output)return new P(e)}createBufferWriter(){return new w(this.vertexBufferLayout,this.instanceBufferLayout)}static getVertexBufferLayout(e){const t=e.textureId||e.normalTextureId||e.metallicRoughnessTextureId||e.emissiveTextureId||e.occlusionTextureId,i=h().vec3f(\"position\").vec3f(\"normal\");return e.vertexTangents&&i.vec4f(\"tangent\"),t&&i.vec2f(\"uv0\"),e.vertexColors&&i.vec4u8(\"color\"),e.symbolColors&&i.vec4u8(\"symbolColor\"),i}static getInstanceBufferLayout(e){let t=h();return t=e.instancedDoublePrecision?t.vec3f(\"modelOriginHi\").vec3f(\"modelOriginLo\").mat3f(\"model\").mat3f(\"modelNormal\"):t.mat4f(\"model\").mat4f(\"modelNormal\"),e.instanced&&e.instanced.indexOf(\"color\")>-1&&(t=t.vec4f(\"instanceColor\")),e.instanced&&e.instanced.indexOf(\"featureAttribute\")>-1&&(t=t.vec4f(\"instanceFeatureAttribute\")),t}}class P extends p{constructor(e){const t=e.material;super({...e,...t.params}),this.updateParameters()}updateParameters(e){const t=this.material.params;this.updateTexture(t.textureId),this.technique=t.treeRendering?this.techniqueRep.acquireAndReleaseExisting(T,this.material.getTechniqueConfig(this.output,e),this.technique):this.techniqueRep.acquireAndReleaseExisting(S,this.material.getTechniqueConfig(this.output,e),this.technique)}selectPipelines(){}_updateShadowState(e){e.shadowMappingEnabled!==this.material.params.shadowMappingEnabled&&this.material.setParameterValues({shadowMappingEnabled:e.shadowMappingEnabled})}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&this.material.setParameterValues({sceneHasOcludees:e.hasOccludees})}ensureParameters(e){0!==this.output&&7!==this.output||(this._updateShadowState(e),this._updateOccludeeState(e)),this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.params,t),this.bindTexture(e,this.technique.program)}beginSlot(e){return e===(this.material.params.transparent?this.material.params.writeDepth?5:8:3)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}const O=2.1,M={textureId:void 0,initTextureTransparent:!1,isSchematic:!1,usePBR:!1,normalTextureId:void 0,vertexTangents:!1,occlusionTextureId:void 0,emissiveTextureId:void 0,metallicRoughnessTextureId:void 0,emissiveFactor:[0,0,0],mrrFactors:[0,1,.5],ambient:[.2,.2,.2],diffuse:[.8,.8,.8],externalColor:[1,1,1,1],colorMixMode:\"multiply\",opacity:1,layerOpacity:1,vertexColors:!1,symbolColors:!1,doubleSided:!1,doubleSidedType:\"normal\",cullFace:void 0,instanced:void 0,instancedDoublePrecision:!1,normals:\"default\",receiveSSAO:!0,receiveShadows:!0,castShadows:!0,shadowMappingEnabled:!1,verticalOffset:null,screenSizePerspective:null,slicePlaneEnabled:!1,sliceHighlightDisabled:!1,offsetTransparentBackfaces:!1,vvSizeEnabled:!1,vvSizeMinSize:[1,1,1],vvSizeMaxSize:[100,100,100],vvSizeOffset:[0,0,0],vvSizeFactor:[1,1,1],vvSizeValue:[1,1,1],vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],vvSymbolAnchor:[0,0,0],vvSymbolRotationMatrix:c(),transparent:!1,writeDepth:!0,textureAlphaMode:0,textureAlphaCutoff:b,textureAlphaPremultiplied:!1,sceneHasOcludees:!1,...g};class w{constructor(e,t){this.vertexBufferLayout=e,this.instanceBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,i,s){C(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,i,s)}}const E=e(),B=e(),I=t(0,0,1),A=e(),L=e(),R=e(),D=e();export{O as COLOR_GAMMA,y as DefaultMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as i}from\"../../shaderModules/interfaces.js\";function t(t){const n=t.fragment;n.uniforms.add(\"lightingMainDirection\",\"vec3\"),n.uniforms.add(\"lightingMainIntensity\",\"vec3\"),n.uniforms.add(\"lightingFixedFactor\",\"float\"),n.code.add(i`\n    vec3 evaluateMainLighting(vec3 normal_global, float shadowing) {\n      float dotVal = clamp(-dot(normal_global, lightingMainDirection), 0.0, 1.0);\n\n      // move lighting towards (1.0, 1.0, 1.0) if requested\n      dotVal = mix(dotVal, 1.0, lightingFixedFactor);\n\n      return lightingMainIntensity * ((1.0 - shadowing) * dotVal);\n    }\n  `)}export{t as EvaluateMainLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t,d){1===d.attributeTextureCoordinates&&(t.attributes.add(\"uv0\",\"vec2\"),t.varyings.add(\"vuv0\",\"vec2\"),t.vertex.code.add(e`\n      void forwardTextureCoordinates() {\n        vuv0 = uv0;\n      }\n    `)),2===d.attributeTextureCoordinates&&(t.attributes.add(\"uv0\",\"vec2\"),t.varyings.add(\"vuv0\",\"vec2\"),t.attributes.add(\"uvRegion\",\"vec4\"),t.varyings.add(\"vuvRegion\",\"vec4\"),t.vertex.code.add(e`\n      void forwardTextureCoordinates() {\n        vuv0 = uv0;\n        vuvRegion = uvRegion;\n      }\n    `)),0===d.attributeTextureCoordinates&&t.vertex.code.add(e`\n      void forwardTextureCoordinates() {}\n    `)}export{t as TextureCoordinateAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as i}from\"../../shaderModules/interfaces.js\";function n(n,t){const e=n.fragment,a=void 0!==t.lightingSphericalHarmonicsOrder?t.lightingSphericalHarmonicsOrder:2;0===a?(e.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),e.code.add(i`\n      vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\n        vec3 ambientLight = 0.282095 * lightingAmbientSH0;\n        return ambientLight * (1.0 - ambientOcclusion);\n      }\n    `)):1===a?(e.uniforms.add(\"lightingAmbientSH_R\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B\",\"vec4\"),e.code.add(i`\n      vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\n        vec4 sh0 = vec4(\n          0.282095,\n          0.488603 * normal.x,\n          0.488603 * normal.z,\n          0.488603 * normal.y\n        );\n        vec3 ambientLight = vec3(\n          dot(lightingAmbientSH_R, sh0),\n          dot(lightingAmbientSH_G, sh0),\n          dot(lightingAmbientSH_B, sh0)\n        );\n        return ambientLight * (1.0 - ambientOcclusion);\n      }\n    `)):2===a&&(e.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),e.uniforms.add(\"lightingAmbientSH_R1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_R2\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G2\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B2\",\"vec4\"),e.code.add(i`\n      vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\n        vec3 ambientLight = 0.282095 * lightingAmbientSH0;\n\n        vec4 sh1 = vec4(\n          0.488603 * normal.x,\n          0.488603 * normal.z,\n          0.488603 * normal.y,\n          1.092548 * normal.x * normal.y\n        );\n        vec4 sh2 = vec4(\n          1.092548 * normal.y * normal.z,\n          0.315392 * (3.0 * normal.z * normal.z - 1.0),\n          1.092548 * normal.x * normal.z,\n          0.546274 * (normal.x * normal.x - normal.y * normal.y)\n        );\n        ambientLight += vec3(\n          dot(lightingAmbientSH_R1, sh1),\n          dot(lightingAmbientSH_G1, sh1),\n          dot(lightingAmbientSH_B1, sh1)\n        );\n        ambientLight += vec3(\n          dot(lightingAmbientSH_R2, sh2),\n          dot(lightingAmbientSH_G2, sh2),\n          dot(lightingAmbientSH_B2, sh2)\n        );\n        return ambientLight * (1.0 - ambientOcclusion);\n      }\n    `),1!==t.pbrMode&&2!==t.pbrMode||e.code.add(i`\n        const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\n\n        vec3 calculateAmbientRadiance(float ambientOcclusion)\n        {\n          vec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\n          return ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n        }\n      `))}export{n as EvaluateAmbientLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as i}from\"./PiUtils.glsl.js\";import{ReadShadowMap as t}from\"./ReadShadowMap.glsl.js\";import{PhysicallyBasedRendering as o}from\"./PhysicallyBasedRendering.glsl.js\";import{EvaluateAmbientOcclusion as a}from\"./EvaluateAmbientOcclusion.glsl.js\";import{EvaluateAmbientLighting as n}from\"./EvaluateAmbientLighting.glsl.js\";import{EvaluateMainLighting as l}from\"./EvaluateMainLighting.glsl.js\";function r(r,c){const d=r.fragment;r.include(l),r.include(a,c),0!==c.pbrMode&&r.include(o,c),r.include(n,c),c.receiveShadows&&r.include(t,c),d.uniforms.add(\"lightingGlobalFactor\",\"float\"),d.uniforms.add(\"ambientBoostFactor\",\"float\"),r.include(i),d.code.add(e`\n    const float GAMMA_SRGB = 2.1;\n    const float INV_GAMMA_SRGB = 0.4761904;\n    ${0===c.pbrMode?\"\":\"const vec3 GROUND_REFLECTANCE = vec3(0.2);\"}\n  `),c.useOldSceneLightInterface?d.code.add(e`\n    vec3 evaluateSceneLightingExt(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight) {\n      // evaluate the main light\n      #if defined(TREE_RENDERING)\n        // Special case for tree rendering:\n        // We shift the Lambert lobe to the back, allowing it to reach part of the hemisphere\n        // facing away from the light. The idea is to get an effect where light is transmitted\n        // through the tree.\n        float minDot = -0.5;\n        float dotRange = 1.0 - minDot;\n        float dotNormalization = 0.66; // guessed & hand tweaked value, for an exact value we could precompute an integral over the sphere\n\n        float dotVal = dotNormalization * (clamp(-dot(normal, lightingMainDirection), 1.0 - dotRange, 1.0) - minDot) * (1.0 / dotRange);\n      #else\n        float dotVal = clamp(-dot(normal, lightingMainDirection), 0.0, 1.0);\n      #endif\n\n      // move lighting towards (1.0, 1.0, 1.0) if requested\n      dotVal = mix(dotVal, 1.0, lightingFixedFactor);\n\n      vec3 mainLight = (1.0 - shadow) * lightingMainIntensity * dotVal;\n      vec3 ambientLight = calculateAmbientIrradiance(normal, ssao);\n\n      // inverse gamma correction on the albedo color\n      vec3 albedoGammaC = pow(albedo, vec3(GAMMA_SRGB));\n\n      // physically correct BRDF normalizes by PI\n      vec3 totalLight = mainLight + ambientLight + additionalLight;\n      totalLight = min(totalLight, vec3(PI));\n      vec3 outColor = vec3((albedoGammaC / PI) * (totalLight));\n\n      // apply gamma correction to the computed color\n      outColor = pow(outColor, vec3(INV_GAMMA_SRGB));\n\n      return outColor;\n    }\n  `):(1===c.viewingMode?d.code.add(e`\n      float _oldHeuristicLighting(vec3 vPosWorld) {\n        vec3 shadingNormalWorld = normalize(vPosWorld);\n        float vndl = -dot(shadingNormalWorld, lightingMainDirection);\n\n        return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n      }\n    `):d.code.add(e`\n      float _oldHeuristicLighting(vec3 vPosWorld) {\n        float vndl = -dot(vec3(0.0, 0.0, 1.0), lightingMainDirection);\n        return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n      }\n    `),d.code.add(e`\n      vec3 evaluateAdditionalLighting(float ambientOcclusion, vec3 vPosWorld) {\n        float additionalAmbientScale = _oldHeuristicLighting(vPosWorld);\n        return (1.0 - ambientOcclusion) * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor * lightingMainIntensity;\n      }\n    `),0===c.pbrMode||4===c.pbrMode?d.code.add(e`\n      vec3 evaluateSceneLighting(vec3 normalWorld, vec3 baseColor, float mainLightShadow, float ambientOcclusion, vec3 additionalLight)\n      {\n        vec3 mainLighting = evaluateMainLighting(normalWorld, mainLightShadow);\n        vec3 ambientLighting = calculateAmbientIrradiance(normalWorld, ambientOcclusion);\n        // inverse gamma correction on the base color\n        vec3 baseColorLinear = pow(baseColor, vec3(GAMMA_SRGB));\n\n        // physically correct BRDF normalizes by PI\n        vec3 totalLight = mainLighting + ambientLighting + additionalLight;\n        totalLight = min(totalLight, vec3(PI));\n        vec3 outColor = vec3((baseColorLinear / PI) * totalLight);\n\n        // apply gamma correction to the computed color\n        outColor = pow(outColor, vec3(INV_GAMMA_SRGB));\n\n        return outColor;\n      }\n      `):1!==c.pbrMode&&2!==c.pbrMode||(d.code.add(e`\n      const float fillLightIntensity = 0.25;\n      const float horizonLightDiffusion = 0.4;\n      const float additionalAmbientIrradianceFactor = 0.02;\n\n      vec3 evaluateSceneLightingPBR(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight, vec3 viewDir, vec3 normalGround, vec3 mrr, vec3 _emission, float additionalAmbientIrradiance)\n      {\n        // Calculate half vector between view and light direction\n        vec3 viewDirection = -viewDir;\n        vec3 mainLightDirection = -lightingMainDirection;\n        vec3 h = normalize(viewDirection + mainLightDirection);\n\n        PBRShadingInfo inputs;\n        inputs.NdotL = clamp(dot(normal, mainLightDirection), 0.001, 1.0);\n        inputs.NdotV = clamp(abs(dot(normal, viewDirection)), 0.001, 1.0);\n        inputs.NdotH = clamp(dot(normal, h), 0.0, 1.0);\n        inputs.VdotH = clamp(dot(viewDirection, h), 0.0, 1.0);\n        inputs.NdotNG = clamp(dot(normal, normalGround), -1.0, 1.0);\n        vec3 reflectedView = normalize(reflect(viewDirection, normal));\n        inputs.RdotNG = clamp(dot(reflectedView, normalGround), -1.0, 1.0);\n\n        inputs.albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\n        inputs.ssao = ssao;\n\n        inputs.metalness = mrr[0];\n        inputs.roughness = clamp(mrr[1] * mrr[1], 0.001, 0.99);\n      `),d.code.add(e`\n        inputs.f0 = (0.16 * mrr[2] * mrr[2]) * (1.0 - inputs.metalness) + inputs.albedoLinear * inputs.metalness;\n        inputs.f90 = vec3(clamp(dot(inputs.f0, vec3(50.0 * 0.33)), 0.0, 1.0)); // more accurate then using  f90 = 1.0\n        inputs.diffuseColor = inputs.albedoLinear * (vec3(1.0) - inputs.f0) * (1.0 - inputs.metalness);\n      `),d.code.add(e`\n        vec3 ambientDir = vec3(5.0 * normalGround[1] - normalGround[0] * normalGround[2], - 5.0 * normalGround[0] - normalGround[2] * normalGround[1], normalGround[1] * normalGround[1] + normalGround[0] * normalGround[0]);\n        ambientDir = ambientDir != vec3(0.0)? normalize(ambientDir) : normalize(vec3(5.0, -1.0, 0.0));\n\n        inputs.NdotAmbDir = abs(dot(normal, ambientDir));\n\n        // Calculate the irradiance components: sun, fill lights and the sky.\n        vec3 mainLightIrradianceComponent  = inputs.NdotL * (1.0 - shadow) * lightingMainIntensity;\n        vec3 fillLightsIrradianceComponent = inputs.NdotAmbDir * lightingMainIntensity * fillLightIntensity;\n        // calculateAmbientIrradiance for localView and additionalLight for gloabalView\n        vec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(normal, ssao) + additionalLight;\n\n        // Assemble the overall irradiance of the sky that illuminates the surface\n        inputs.skyIrradianceToSurface    = ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\n        // Assemble the overall irradiance of the ground that illuminates the surface. for this we use the simple model that changes only the sky irradiance by the groundReflectance\n        inputs.groundIrradianceToSurface = GROUND_REFLECTANCE * ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\n      `),d.code.add(e`\n        vec3 horizonRingDir = inputs.RdotNG * normalGround - reflectedView;\n        vec3 horizonRingH = normalize(viewDirection + horizonRingDir);\n        inputs.NdotH_Horizon = dot(normal, horizonRingH);\n\n        vec3 mainLightRadianceComponent  = normalDistribution(inputs.NdotH, inputs.roughness) * lightingMainIntensity * (1.0 - shadow);\n        vec3 horizonLightRadianceComponent = normalDistribution(inputs.NdotH_Horizon, min(inputs.roughness + horizonLightDiffusion, 1.0)) * lightingMainIntensity * fillLightIntensity;\n        vec3 ambientLightRadianceComponent = calculateAmbientRadiance(ssao) + additionalLight; // calculateAmbientRadiance for localView and additionalLight for gloabalView\n\n        // Assemble the overall radiance of the sky that illuminates the surface\n        inputs.skyRadianceToSurface    =  ambientLightRadianceComponent + mainLightRadianceComponent + horizonLightRadianceComponent;\n        // Assemble the overall radiance of the ground that illuminates the surface. for this we use the simple model that changes only the sky radince by the groundReflectance\n        inputs.groundRadianceToSurface = GROUND_REFLECTANCE * (ambientLightRadianceComponent + horizonLightRadianceComponent) + mainLightRadianceComponent;\n\n        // Calculate average ambient radiance - this is used int the gamut mapping part to deduce the black level that is soft compressed\n        inputs.averageAmbientRadiance = ambientLightIrradianceComponent[1] * (1.0 + GROUND_REFLECTANCE[1]);\n        `),d.code.add(e`\n        vec3 reflectedColorComponent = evaluateEnvironmentIllumination(inputs);\n        vec3 additionalMaterialReflectanceComponent = inputs.albedoLinear * additionalAmbientIrradiance;\n        vec3 emissionComponent = pow(_emission, vec3(GAMMA_SRGB));\n        vec3 outColorLinear = reflectedColorComponent + additionalMaterialReflectanceComponent + emissionComponent;\n        ${2===c.pbrMode?e`vec3 outColor = pow(max(vec3(0.0), outColorLinear - 0.005 * inputs.averageAmbientRadiance), vec3(INV_GAMMA_SRGB));`:e`vec3 outColor = pow(blackLevelSoftCompression(outColorLinear, inputs), vec3(INV_GAMMA_SRGB));`}\n        return outColor;\n      }\n    `)))}export{r as EvaluateSceneLighting};\n"],"sourceRoot":""}
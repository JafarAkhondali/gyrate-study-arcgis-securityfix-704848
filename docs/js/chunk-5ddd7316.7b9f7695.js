(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ddd7316","chunk-2d0d3e74","chunk-2d0d3e74"],{"008c":function(t,e,n){"use strict";n.d(e,"a",(function(){return F})),n.d(e,"b",(function(){return M})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return T}));var i=n("a9ab");const r=(t,e,n)=>[e,n],s=(t,e,n)=>[e,n,t[2]],a=(t,e,n)=>[e,n,t[2],t[3]];function o(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:t.extent?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function u({scale:t,translate:e},n){return Math.round((n-e[0])/t[0])}function c({scale:t,translate:e},n){return Math.round((e[1]-n)/t[1])}function l(t,e,n){const i=[];let r,s,a,o;for(let l=0;l<n.length;l++){const d=n[l];l>0?(a=u(t,d[0]),o=c(t,d[1]),a===r&&o===s||(i.push(e(d,a-r,o-s)),r=a,s=o)):(r=u(t,d[0]),s=c(t,d[1]),i.push(e(d,r,s)))}return i.length>0?i:null}function d(t,e,n,i){return l(t,n?i?a:s:i?s:r,e)}function h(t,e,n,i){const o=[],u=n?i?a:s:i?s:r;for(let r=0;r<e.length;r++){const n=l(t,u,e[r]);n&&n.length>=3&&o.push(n)}return o.length?o:null}function f(t,e,n,i){const o=[],u=n?i?a:s:i?s:r;for(let r=0;r<e.length;r++){const n=l(t,u,e[r]);n&&n.length>=2&&o.push(n)}return o.length?o:null}function m({scale:t,translate:e},n){return n*t[0]+e[0]}function p({scale:t,translate:e},n){return e[1]-n*t[1]}function y(t,e,n){const i=new Array(n.length);if(!n.length)return i;const[r,s]=t.scale;let a=m(t,n[0][0]),o=p(t,n[0][1]);i[0]=e(n[0],a,o);for(let u=1;u<n.length;u++){const t=n[u];a+=t[0]*r,o-=t[1]*s,i[u]=e(t,a,o)}return i}function g(t,e,n){const i=new Array(n.length);for(let r=0;r<n.length;r++)i[r]=y(t,e,n[r]);return i}function b(t,e,n,i){return y(t,n?i?a:s:i?s:r,e)}function x(t,e,n,i){return g(t,n?i?a:s:i?s:r,e)}function _(t,e,n,i){return g(t,n?i?a:s:i?s:r,e)}function I(t,e,n,i,r){return e.xmin=u(t,n.xmin),e.ymin=c(t,n.ymin),e.xmax=u(t,n.xmax),e.ymax=c(t,n.ymax),e!==n&&(i&&(e.zmin=n.zmin,e.zmax=n.zmax),r&&(e.mmin=n.mmin,e.mmax=n.mmax)),e}function j(t,e,n,i,r){return e.points=d(t,n.points,i,r),e}function M(t,e,n,i,r){return e.x=u(t,n.x),e.y=c(t,n.y),e!==n&&(i&&(e.z=n.z),r&&(e.m=n.m)),e}function O(t,e,n,i,r){const s=h(t,n.rings,i,r);return s?(e.rings=s,e):null}function B(t,e,n,i,r){const s=f(t,n.paths,i,r);return s?(e.paths=s,e):null}function F(t,e){return t&&e?Object(i["f"])(e)?M(t,{},e,!1,!1):Object(i["h"])(e)?B(t,{},e,!1,!1):Object(i["g"])(e)?O(t,{},e,!1,!1):Object(i["e"])(e)?j(t,{},e,!1,!1):Object(i["d"])(e)?I(t,{},e,!1,!1):null:null}function w(t,e,n,i,r){return e.points=b(t,n.points,i,r),e}function v(t,e,n,i,r){return e.x=m(t,n.x),e.y=p(t,n.y),e!==n&&(i&&(e.z=n.z),r&&(e.m=n.m)),e}function E(t,e,n,i,r){return e.rings=_(t,n.rings,i,r),e}function T(t,e,n,i,r){return e.paths=x(t,n.paths,i,r),e}},"04c4":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("c120"),r=n("ce76");const s=5e4,a={minX:0,minY:0,maxX:0,maxY:0};function o(t,e,n){a.minX=e[0],a.minY=e[1],a.maxX=e[2],a.maxY=e[3],t.search(a,n)}class u{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new r["a"](9,Object(i["a"])("csp-restrictions")?t=>({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const t=new Array(this._idByBounds.size);let e=0;this._idByBounds.forEach((n,i)=>{t[e++]=i}),this._indexInvalid=!1,this._index.clear(),this._index.load(t)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter(t=>this._idByBounds.has(t))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(t){const e=this._boundsById.get(t);this._boundsById.delete(t),e&&(this._idByBounds.delete(e),this._indexInvalid||this._index.remove(e))}forEachInBounds(t,e){this._loadIndex(),o(this._index,t,t=>e(this._idByBounds.get(t)))}get(t){return this._boundsById.get(t)}has(t){return this._boundsById.has(t)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(t,e){if(!this._indexInvalid){const e=this._boundsById.get(t);e&&(this._index.remove(e),this._idByBounds.delete(e))}this._boundsById.set(t,e),e&&(this._idByBounds.set(e,t),this._indexInvalid||(this._boundsToLoad.push(e),this._boundsToLoad.length>s&&this._loadIndex()))}}},"1a59":function(t,e,n){"use strict";n.r(e);var i=n("ce50"),r=n("7f83"),s=n("a9ab"),a=n("c1da"),o=n("6781"),u=n("6655"),c=n("80b7"),l=n("a745"),d=n("88d1"),h=n("1ec3"),f=n("6517"),m=n("6411"),p=n("21ca");const y=r["a"],g={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:r["a"]},b={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};function x(t){return Object(s["f"])(t)?null!=t.z:!!t.hasZ}function _(t){return Object(s["f"])(t)?null!=t.m:!!t.hasM}class I{constructor(){this._queryEngine=null,this._nextObjectId=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null}async load(t){const e=[],{features:n}=t,r=this._inferLayerProperties(n,t.fields),s=t.fields||[],u=null!=t.hasM?t.hasM:r.hasM,p=null!=t.hasZ?t.hasZ:r.hasZ,x=!t.spatialReference&&!r.spatialReference,_=x?y:t.spatialReference||r.spatialReference,I=x?g:null,j=t.geometryType||r.geometryType,M=!j;let O=t.objectIdField||r.objectIdField,B=t.timeInfo;if(!M&&(x&&e.push({name:"feature-layer:spatial-reference-not-found",message:"Spatial reference not provided or found in features. Defaults to WGS84"}),!j))throw new i["a"]("feature-layer:missing-property","geometryType not set and couldn't be inferred from the provided features");if(!O)throw new i["a"]("feature-layer:missing-property","objectIdField not set and couldn't be found in the provided fields");if(r.objectIdField&&O!==r.objectIdField&&(e.push({name:"feature-layer:duplicated-oid-field",message:`Provided objectIdField "${O}" doesn't match the field name "${r.objectIdField}", found in the provided fields`}),O=r.objectIdField),O&&!r.objectIdField){let t=null;s.some(e=>e.name===O&&(t=e,!0))?(t.type="esriFieldTypeOID",t.editable=!1,t.nullable=!1):s.unshift({alias:O,name:O,type:"esriFieldTypeOID",editable:!1,nullable:!1})}for(const a of s){if(null==a.name&&(a.name=a.alias),null==a.alias&&(a.alias=a.name),!a.name)throw new i["a"]("feature-layer:invalid-field-name","field name is missing",{field:a});if(a.name===O&&(a.type="esriFieldTypeOID"),-1===o["a"].jsonValues.indexOf(a.type))throw new i["a"]("feature-layer:invalid-field-type",`invalid type for field "${a.name}"`,{field:a})}const F={};this._requiredFields=[];for(const i of s)if("esriFieldTypeOID"!==i.type&&"esriFieldTypeGlobalID"!==i.type){i.editable=null==i.editable||!!i.editable,i.nullable=null==i.nullable||!!i.nullable;const t=Object(a["o"])(i);i.nullable||void 0!==t?F[i.name]=t:this._requiredFields.push(i)}if(this._fieldsIndex=new c["a"](s),this._createDefaultAttributes=Object(d["a"])(F,O),B){if(B.startTimeField){const t=this._fieldsIndex.get(B.startTimeField);t?(B.startTimeField=t.name,t.type="esriFieldTypeDate"):B.startTimeField=null}if(B.endTimeField){const t=this._fieldsIndex.get(B.endTimeField);t?(B.endTimeField=t.name,t.type="esriFieldTypeDate"):B.endTimeField=null}if(B.trackIdField){const t=this._fieldsIndex.get(B.trackIdField);t?B.trackIdField=t.name:(B.trackIdField=null,e.push({name:"feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:B}}))}B.startTimeField||B.endTimeField||(e.push({name:"feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing or invalid",details:{timeInfo:B}}),B=null)}const w={warnings:e,featureErrors:[],layerDefinition:{...b,drawingInfo:Object(d["c"])(j),templates:Object(d["b"])(F),extent:I,geometryType:j,objectIdField:O,fields:s,hasZ:!!p,hasM:!!u,timeInfo:B},assignedObjectIds:{}};if(this._queryEngine=new m["a"]({fields:s,geometryType:j,hasM:u,hasZ:p,objectIdField:O,spatialReference:_,featureStore:new f["a"]({geometryType:j,hasM:u,hasZ:p}),timeInfo:B,cacheSpatialQueries:!0}),!n||!n.length)return this._nextObjectId=l["b"],w;const v=Object(l["a"])(O,n);return this._nextObjectId=v+1,await Object(h["a"])(n,_),this._loadInitialFeatures(w,n)}async applyEdits(t){const{spatialReference:e,geometryType:n}=this._queryEngine;return await Promise.all([Object(p["c"])(e,n),Object(h["a"])(t.adds,e),Object(h["a"])(t.updates,e)]),this._applyEdits(t)}queryFeatures(t,e={}){return this._queryEngine.executeQuery(t,e.signal)}queryFeatureCount(t,e={}){return this._queryEngine.executeQueryForCount(t,e.signal)}queryObjectIds(t,e={}){return this._queryEngine.executeQueryForIds(t,e.signal)}queryExtent(t,e={}){return this._queryEngine.executeQueryForExtent(t,e.signal)}querySnapping(t,e={}){return this._queryEngine.executeQueryForSnapping(t,e.signal)}_inferLayerProperties(t,e){let n,i,r=null,a=null,o=null;for(const u of t){const t=u.geometry;if(t&&(r||(r=Object(s["c"])(t)),a||(a=t.spatialReference),null==n&&(n=x(t)),null==i&&(i=_(t)),r&&a&&null!=n&&null!=i))break}if(e&&e.length){let t=null;e.some(e=>{const n="esriFieldTypeOID"===e.type,i=!e.type&&e.name&&"objectid"===e.name.toLowerCase();return t=e,n||i})&&(o=t.name)}return{geometryType:r,spatialReference:a,objectIdField:o,hasM:i,hasZ:n}}_loadInitialFeatures(t,e){const{geometryType:n,hasM:i,hasZ:r,objectIdField:a,spatialReference:o,featureStore:c}=this._queryEngine,l=[];for(const u of e){if(null!=u.uid&&(t.assignedObjectIds[u.uid]=-1),u.geometry&&n!==Object(s["c"])(u.geometry)){t.featureErrors.push(Object(p["a"])("Incorrect geometry type."));continue}const e=this._createDefaultAttributes(),i=Object(p["d"])(this._fieldsIndex,this._requiredFields,e,u.attributes,!0,t.warnings);i?t.featureErrors.push(i):(this._assignObjectId(e,u.attributes,!0),u.attributes=e,null!=u.uid&&(t.assignedObjectIds[u.uid]=u.attributes[a]),u.geometry&&(u.geometry=Object(h["b"])(u.geometry,u.geometry.spatialReference,o)),l.push(u))}if(c.addMany(Object(u["c"])([],l,n,r,i,a)),t.layerDefinition.extent=this._queryEngine.fullExtent,t.layerDefinition.timeInfo){const{start:e,end:n}=this._queryEngine.timeExtent;t.layerDefinition.timeInfo.timeExtent=[e,n]}return t}_applyEdits(t){const{adds:e,updates:n,deletes:i}=t,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(e&&e.length&&this._applyAddEdits(r,e),n&&n.length&&this._applyUpdateEdits(r,n),i&&i.length){for(const t of i)r.deleteResults.push(Object(p["b"])(t));this._queryEngine.featureStore.removeManyById(i)}return{fullExtent:this._queryEngine.fullExtent,featureEditResults:r}}_applyAddEdits(t,e){const{addResults:n}=t,{geometryType:i,hasM:r,hasZ:a,objectIdField:o,spatialReference:c,featureStore:l}=this._queryEngine,d=[];for(const u of e){if(u.geometry&&i!==Object(s["c"])(u.geometry)){n.push(Object(p["a"])("Incorrect geometry type."));continue}const e=this._createDefaultAttributes(),r=Object(p["d"])(this._fieldsIndex,this._requiredFields,e,u.attributes);if(r)n.push(r);else{if(this._assignObjectId(e,u.attributes),u.attributes=e,null!=u.uid){const e=u.attributes[o];t.uidToObjectId[u.uid]=e}u.geometry&&(u.geometry=Object(h["b"])(Object(p["e"])(u.geometry,c),u.geometry.spatialReference,c)),d.push(u),n.push(Object(p["b"])(u.attributes[o]))}}l.addMany(Object(u["c"])([],d,i,a,r,o))}_applyUpdateEdits({updateResults:t},e){const{geometryType:n,hasM:i,hasZ:r,objectIdField:a,spatialReference:o,featureStore:c}=this._queryEngine;for(const l of e){const{attributes:e,geometry:d}=l,f=e&&e[a];if(null==f){t.push(Object(p["a"])(`Identifier field ${a} missing`));continue}if(!c.has(f)){t.push(Object(p["a"])(`Feature with object id ${f} missing`));continue}const m=Object(u["i"])(c.getFeature(f),n,r,i);if(d){if(n!==Object(s["c"])(d)){t.push(Object(p["a"])("Incorrect geometry type."));continue}m.geometry=Object(h["b"])(Object(p["e"])(d,o),d.spatialReference,o)}if(e){const n=Object(p["d"])(this._fieldsIndex,this._requiredFields,m.attributes,e);if(n){t.push(n);continue}}c.add(Object(u["a"])(m,n,r,i,a)),t.push(Object(p["b"])(f))}}_assignObjectId(t,e,n=!1){const i=this._queryEngine.objectIdField;n&&e&&isFinite(e[i])?t[i]=e[i]:t[i]=this._nextObjectId++}}e["default"]=I},"21ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return m}));var i=n("7f83"),r=n("c1da");class s{constructor(){this.code=null,this.description=null}}class a{constructor(t){this.error=new s,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function o(t){return new a(t)}class u{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new u(t)}const l=new Set;function d(t,e,n,i,s=!1,a){l.clear();for(const u in i){const e=t.get(u);if(!e)continue;const c=i[u],d=h(e,c);if(d!==c&&a&&a.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:e,originalValue:c,sanitizedValue:d}}),l.add(e.name),e&&(s||e.editable)){const t=Object(r["w"])(e,d);if(t)return o(Object(r["x"])(t,e,d));n[e.name]=d}}for(const r of e)if(!l.has(r.name))return o(`missing required field "${r.name}"`);return null}function h(t,e){let n=e;return"string"==typeof e&&Object(r["r"])(t)?n=parseFloat(e):null!=e&&Object(r["s"])(t)&&"string"!=typeof e&&(n=String(e)),Object(r["u"])(n)}let f;function m(t,e){if(!t||!Object(i["j"])(e))return t;if("rings"in t||"paths"in t){if(!f)throw new TypeError("geometry engine not loaded");return f.simplify(e,t)}return t}async function p(){return f||(f=await Promise.all([n.e("chunk-2d22cf8c"),n.e("chunk-180660b2")]).then(n.bind(null,"00ac")),f)}async function y(t,e){!Object(i["j"])(t)||"esriGeometryPolygon"!==e&&"esriGeometryPolyline"!==e||await p()}},4261:function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return P})),n.d(e,"c",(function(){return z})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return x})),n.d(e,"f",(function(){return M})),n.d(e,"g",(function(){return j})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return b})),n.d(e,"k",(function(){return X})),n.d(e,"l",(function(){return k})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return h})),n.d(e,"q",(function(){return c})),n.d(e,"r",(function(){return l})),n.d(e,"s",(function(){return q})),n.d(e,"t",(function(){return o})),n.d(e,"u",(function(){return v})),n.d(e,"v",(function(){return g})),n.d(e,"w",(function(){return O})),n.d(e,"x",(function(){return B})),n.d(e,"y",(function(){return D})),n.d(e,"z",(function(){return I})),n.d(e,"A",(function(){return F})),n.d(e,"B",(function(){return w})),n.d(e,"C",(function(){return Y})),n.d(e,"D",(function(){return T})),n.d(e,"E",(function(){return E})),n.d(e,"F",(function(){return _})),n.d(e,"G",(function(){return S})),n.d(e,"H",(function(){return p})),n.d(e,"I",(function(){return A}));var i=n("b2b2"),r=(n("3af1"),n("9180"));function s(t){return t}function a(t=z){return s([t[0],t[1],t[2],t[3],t[4],t[5]])}function o(t,e,n,i,r,s,o=a()){return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o[4]=r,o[5]=s,o}function u(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function c(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function l(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function d(t,e,n=0,i=e.length/3){let r=t[0],s=t[1],a=t[2],o=t[3],u=t[4],c=t[5];for(let l=0;l<i;l++)r=Math.min(r,e[n+3*l]),s=Math.min(s,e[n+3*l+1]),a=Math.min(a,e[n+3*l+2]),o=Math.max(o,e[n+3*l]),u=Math.max(u,e[n+3*l+1]),c=Math.max(c,e[n+3*l+2]);t[0]=r,t[1]=s,t[2]=a,t[3]=o,t[4]=u,t[5]=c}function h(t,e,n,i){t[0]=Math.min(t[0],t[0]+e),t[3]=Math.max(t[3],t[3]+e),t[1]=Math.min(t[1],t[1]+n),t[4]=Math.max(t[4],t[4]+n),t[2]=Math.min(t[2],t[2]+i),t[5]=Math.max(t[5],t[5]+i)}function f(t,e,n){const i=e.length;let r=t[0],s=t[1],a=t[2],o=t[3],u=t[4],c=t[5];if(n)for(let l=0;l<i;l++){const t=e[l];r=Math.min(r,t[0]),s=Math.min(s,t[1]),a=Math.min(a,t[2]),o=Math.max(o,t[0]),u=Math.max(u,t[1]),c=Math.max(c,t[2])}else for(let l=0;l<i;l++){const t=e[l];r=Math.min(r,t[0]),s=Math.min(s,t[1]),o=Math.max(o,t[0]),u=Math.max(u,t[1])}t[0]=r,t[1]=s,t[2]=a,t[3]=o,t[4]=u,t[5]=c}function m(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function p(t){return t[0]>=t[3]?0:t[3]-t[0]}function y(t){return t[1]>=t[4]?0:t[4]-t[1]}function g(t){return t[2]>=t[5]?0:t[5]-t[2]}function b(t){const e=p(t),n=g(t),i=y(t);return Math.sqrt(e*e+n*n+i*i)}function x(t,e=[0,0,0]){return e[0]=t[0]+p(t)/2,e[1]=t[1]+y(t)/2,e[2]=t[2]+g(t)/2,e}function _(t,e=[0,0,0]){return e[0]=p(t),e[1]=y(t),e[2]=g(t),e}function I(t){return Math.max(p(t),g(t),y(t))}function j(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function M(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[3]<=t[3]&&e[4]<=t[4]&&e[5]<=t[5]}function O(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function B(t,e){return!!Object(i["j"])(e)||O(t,e)}function F(t,e,n,i,r=t){return r[0]=t[0]+e,r[1]=t[1]+n,r[2]=t[2]+i,r[3]=t[3]+e,r[4]=t[4]+n,r[5]=t[5]+i,r}function w(t,e,n=t){const i=t[0]+p(t)/2,r=t[1]+y(t)/2,s=t[2]+g(t)/2;return n[0]=i+(t[0]-i)*e,n[1]=r+(t[1]-r)*e,n[2]=s+(t[2]-s)*e,n[3]=i+(t[3]-i)*e,n[4]=r+(t[4]-r)*e,n[5]=s+(t[5]-s)*e,n}function v(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function E(t,e,n=t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n!==t&&(n[3]=t[3],n[4]=t[4],n[5]=t[5]),n}function T(t,e,n=t){return n[3]=e[0],n[4]=e[1],n[5]=e[2],n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),t}function Y(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function X(t){return t?Y(t,C):a(C)}function S(t,e){return e||(e=Object(r["l"])()),e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function q(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function R(t){return 6===t.length}function D(t){return 0===p(t)&&0===y(t)&&0===g(t)}function k(t,e,n){if(Object(i["j"])(t)||Object(i["j"])(e))return t===e;if(!R(t)||!R(e))return!1;if(n){for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1}else for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}function A(t,e,n,i,r,s){return o(t,e,n,i,r,s,Z)}const P=s([-1/0,-1/0,-1/0,1/0,1/0,1/0]),C=s([1/0,1/0,1/0,-1/0,-1/0,-1/0]),z=s([0,0,0,0,0,0]),Z=a()},"461f":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("9392"),r=n("8152"),s=n("d97e");const a={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,e)=>new i["a"](e,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(t,e)=>(t.centroid||(t.centroid=Object(s["a"])(new r["a"],t.geometry,e.hasZ,e.hasM)),t.centroid)}},"5f6c":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i}));"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return s(t,null==e?n.path:e)}},n.exports),n.exports}function s(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}}).call(this,n("c8ba"))},6517:function(t,e,n){"use strict";var i=n("b2b2"),r=n("e92d"),s=n("ce50"),a=n("ce6d"),o=n("9180"),u=n("6655"),c=n("4261"),l=n("04c4"),d=n("461f");class h{constructor(t){this.geometryInfo=t,this._boundsStore=new l["a"],this._featuresById=new Map,this._markedIds=new Set,this.events=new a["a"],this.featureAdapter=d["a"]}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const t=Object(o["l"])(o["a"]);return this._featuresById.forEach(e=>{const n=this._boundsStore.get(e.objectId);n&&(t[0]=Math.min(n[0],t[0]),t[1]=Math.min(n[1],t[1]),t[2]=Math.max(n[2],t[2]),t[3]=Math.max(n[3],t[3]))}),t}get storeStatistics(){let t=0;return this._featuresById.forEach(e=>{e.geometry&&e.geometry.coords&&(t+=e.geometry.coords.length)}),{featureCount:this._featuresById.size,vertexCount:t/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(t){this._add(t),this._emitChanged()}addMany(t){for(const e of t)this._add(e);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(t){const e=this._featuresById.get(t);return e?(this._remove(e),this._emitChanged(),e):null}removeManyById(t){this._boundsStore.invalidateIndex();for(const e of t){const t=this._featuresById.get(e);t&&this._remove(t)}this._emitChanged()}forEachBounds(t,e,n){for(const i of t){const t=this._boundsStore.get(i.objectId);t&&e(Object(c["s"])(n,t))}}getFeature(t){return this._featuresById.get(t)}has(t){return this._featuresById.has(t)}forEach(t){this._featuresById.forEach(e=>t(e))}forEachInBounds(t,e){this._boundsStore.forEachInBounds(t,t=>{e(this._featuresById.get(t))})}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let t=!1;this._featuresById.forEach((e,n)=>{this._markedIds.has(n)||(t=!0,this._remove(e))}),this._markedIds.clear(),t&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(t){if(!t)return;const e=t.objectId;if(null==e)return void r["a"].getLogger("esri.layers.graphics.data.FeatureStore").error(new s["a"]("featurestore:invalid-feature","feature id is missing",{feature:t}));const n=this._featuresById.get(e);let a;if(this._markedIds.add(e),n?(t.displayId=n.displayId,a=this._boundsStore.get(e),this._boundsStore.delete(e)):Object(i["k"])(this.onFeatureAdd)&&this.onFeatureAdd(t),!t.geometry||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(e,null),void this._featuresById.set(e,t);a=Object(u["r"])(a||Object(o["l"])(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(e,a),this._featuresById.set(e,t)}_remove(t){return Object(i["k"])(this.onFeatureRemove)&&this.onFeatureRemove(t),this._markedIds.delete(t.objectId),this._boundsStore.delete(t.objectId),this._featuresById.delete(t.objectId),t}}e["a"]=h},"88d1":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return a}));var i=n("c120"),r=n("7ffa"),s=n("8246");function a(t){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?s["c"]:"esriGeometryPolyline"===t?s["e"]:s["d"]}}}function o(t,e){if(Object(i["a"])("csp-restrictions"))return()=>({[e]:null,...t});try{let n=`this.${e} = null;`;for(const e in t)n+=`this${e.indexOf(".")?`["${e}"]`:"."+e} = ${JSON.stringify(t[e])};`;const i=new Function(n);return()=>new i}catch(n){return()=>({[e]:null,...t})}}function u(t={}){return[{name:"New Feature",description:"",prototype:{attributes:Object(r["a"])(t)}}]}},a745:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));const i=1;function r(t,e){let n=0;for(const r of e){var i;const e=null==(i=r.attributes)?void 0:i[t];"number"==typeof e&&isFinite(e)&&(n=Math.max(n,e))}return n}},ce76:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("b2b2"),r=n("b50f"),s=n("8a44"),a=n("4637");class o{constructor(t=9,e){this.compareMinX=d,this.compareMinY=h,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this.toBBox=e:this._initFormat(e)),this.clear()}destroy(){this.clear(),_.prune(),I.prune(),j.prune(),M.prune()}all(t){this._all(this.data,t)}search(t,e){let n=this.data;const i=this.toBBox;if(b(t,n))for(_.clear();n;){for(let r=0,s=n.children.length;r<s;r++){const s=n.children[r],a=n.leaf?i(s):s;b(t,a)&&(n.leaf?e(s):g(t,a)?this._all(s,e):_.push(s))}n=_.pop()}}collides(t){let e=this.data;const n=this.toBBox;if(!b(t,e))return!1;for(_.clear();e;){for(let i=0,r=e.children.length;i<r;i++){const r=e.children[i],s=e.leaf?n(r):r;if(b(t,s)){if(e.leaf||g(t,s))return!0;_.push(r)}}e=_.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}let e=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new F([]),this}remove(t){if(!t)return this;let e,n=this.data,s=null,a=0,o=!1;const u=this.toBBox(t);for(j.clear(),M.clear();n||j.length>0;){var c;if(n||(n=Object(i["d"])(j.pop()),s=j.data[j.length-1],a=null!=(c=M.pop())?c:0,o=!0),n.leaf&&(e=Object(r["g"])(n.children,t,n.children.length,n.indexHint),-1!==e))return n.children.splice(e,1),j.push(n),this._condense(j),this;o||n.leaf||!g(n,u)?s?(a++,n=s.children[a],o=!1):n=null:(j.push(n),M.push(a),a=0,s=n,n=n.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){let n=t;for(I.clear();n;){var i;if(!0===n.leaf)for(const t of n.children)e(t);else I.pushArray(n.children);n=null!=(i=I.pop())?i:null}}_build(t,e,n,i){const r=n-e+1;let s=this._maxEntries;if(r<=s){const i=new F(t.slice(e,n+1));return u(i,this.toBBox),i}i||(i=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/s**(i-1)));const a=new w([]);a.height=i;const o=Math.ceil(r/s),c=o*Math.ceil(Math.sqrt(s));x(t,e,n,c,this.compareMinX);for(let u=e;u<=n;u+=c){const e=Math.min(u+c-1,n);x(t,u,e,o,this.compareMinY);for(let n=u;n<=e;n+=o){const r=Math.min(n+o-1,e);a.children.push(this._build(t,n,r,i-1))}}return u(a,this.toBBox),a}_chooseSubtree(t,e,n,i){for(;i.push(e),!0!==e.leaf&&i.length-1!==n;){let n,i=1/0,r=1/0;for(let s=0,a=e.children.length;s<a;s++){const a=e.children[s],o=f(a),u=p(t,a)-o;u<r?(r=u,i=o<i?o:i,n=a):u===r&&o<i&&(i=o,n=a)}e=n||e.children[0]}return e}_insert(t,e,n){const i=this.toBBox,r=n?t:i(t);j.clear();const s=this._chooseSubtree(r,this.data,e,j);for(s.children.push(t),l(s,r);e>=0&&j.data[e].children.length>this._maxEntries;)this._split(j,e),e--;this._adjustParentBBoxes(r,j,e)}_split(t,e){const n=t.data[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);const s=this._chooseSplitIndex(n,r,i);if(!s)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const a=n.children.splice(s,n.children.length-s),o=n.leaf?new F(a):new w(a);o.height=n.height,u(n,this.toBBox),u(o,this.toBBox),e?t.data[e-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,e){this.data=new w([t,e]),this.data.height=t.height+1,u(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let i,r,s;i=r=1/0;for(let a=e;a<=n-e;a++){const e=c(t,0,a,this.toBBox),o=c(t,a,n,this.toBBox),u=y(e,o),l=f(e)+f(o);u<i?(i=u,s=a,r=l<r?l:r):u===i&&l<r&&(r=l,s=a)}return s}_chooseSplitAxis(t,e,n){const i=t.leaf?this.compareMinX:d,r=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)}_allDistMargin(t,e,n,i){t.children.sort(i);const r=this.toBBox,s=c(t,0,e,r),a=c(t,n-e,n,r);let o=m(s)+m(a);for(let u=e;u<n-e;u++){const e=t.children[u];l(s,t.leaf?r(e):e),o+=m(s)}for(let u=n-e-1;u>=e;u--){const e=t.children[u];l(a,t.leaf?r(e):e),o+=m(a)}return o}_adjustParentBBoxes(t,e,n){for(let i=n;i>=0;i--)l(e.data[i],t)}_condense(t){for(let e=t.length-1;e>=0;e--){const n=t.data[e];if(0===n.children.length)if(e>0){const i=t.data[e-1],s=i.children;s.splice(Object(r["g"])(s,n,s.length,i.indexHint),1)}else this.clear();else u(n,this.toBBox)}}_initFormat(t){const e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function u(t,e){c(t,0,t.children.length,e,t)}function c(t,e,n,i,r){r||(r=new F([])),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s,a=e;a<n;a++)s=t.children[a],l(r,t.leaf?i(s):s);return r}function l(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function d(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function m(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function y(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function b(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function x(t,e,n,r,s){const o=[e,n];for(;o.length;){const e=Object(i["d"])(o.pop()),n=Object(i["d"])(o.pop());if(e-n<=r)continue;const u=n+Math.ceil((e-n)/r/2)*r;Object(a["a"])(t,u,n,e,s),o.push(n,u,u,e)}}const _=new s["a"],I=new s["a"],j=new s["a"],M=new s["a"]({deallocator:void 0});class O{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class B extends O{constructor(){super(...arguments),this.height=1,this.indexHint=new r["a"]}}class F extends B{constructor(t){super(),this.children=t,this.leaf=!0}}class w extends B{constructor(t){super(),this.children=t,this.leaf=!1}}}}]);
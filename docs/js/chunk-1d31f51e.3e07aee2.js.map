{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/layers/GraphicsView.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicLikeLayerView.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/GraphicsView3D.js","webpack:///./node_modules/@arcgis/core/chunks/quickselect.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js","webpack:///./node_modules/@arcgis/core/layers/graphics/centroid.js"],"names":["t","p","super","arguments","this","graphics","renderer","view","prototype","items","e","push","type","objectStateId","object","s","renderGeometry","owner","remove","length","_removeObjectStateItem","splice","forEach","channel","removeHighlight","removeOcclude","removeRenderGeometryObjectState","i","stateType","objectIdField","objectStateSet","ids","Set","paused","graphic","attributes","has","uid","_graphicsCore","_stateSets","Array","removeAll","a","h","releaseSet","set","handle","indexOf","addObjectStateSet","removeObjectState","add","graphics3DGraphics","get","_addObjectStateSet","setUid","initializeSet","hasGraphic","_removeObjectStateSet","states","v","graphicsCore","elevationAlignment","watchUpdatingTracking","handles","suspendResumeExtent","scaleVisibilityEnabled","layer","preferredUpdatePolicy","graphicSymbolSupported","scaleVisibility","layerMinMaxScaleChangeHandler","addPromise","elevationInfoChange","spatialIndex","queryGraphicUIDsInExtent","setup","elevationProvider","basemapTerrain","_set","objectStates","destroyed","watch","updateClippingExtent","setupSuspendResumeExtent","startCreateGraphics","destroy","suspended","updating","loadedGraphics","find","whenGraphicBounds","Promise","reject","computeAttachmentOrigin","getSymbolLayerSize","acquireSet","x","highlight","toArray","isArray","map","setUids","setObjectIds","clippingArea","setClippingExtent","spatialReference","recreateAllGraphics","computedExtent","extentPadding","setExtent","updateSuspendResumeExtent","constructOnly","readOnly","aliasOf","E","o","r","graphics3d","slicePlaneEnabled","drapeSourceType","Date","now","toString","id","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","graphics3DGraphicsByObjectID","symbolUpdateType","getGraphicFromGraphicUid","graphicUpdateHandler","resolve","clientGraphics","maskOccludee","Boolean","c","f","n","Math","log","u","exp","sqrt","max","floor","min","M","m","exports","extents","allocator","tempExtent","dirty","clear","contains","removeContained","pushNew","mergeTight","pop","hasProgressed","sort","done","getItemAt","delete","d","g","madeProgress","some","filterInPlace","containsPoint","dirtyExtents","globalDirty","dirtyGraphicsSet","updateElevation","layerView","events","needsUpdate","resourceController","scheduler","on","_elevationChanged","suspendedChange","registerTask","ELEVATION_ALIGNMENT","update","notifyChange","size","empty","markAllGraphicsElevationDirty","run","merge","_updateDirtyGraphics","_updateDirtyExtents","deconflictor","setDirty","renderCoordsHelper","asyncUpdates","keys","getGraphics3DGraphicById","alignWithElevation","emit","extent","needsElevationUpdates","context","elevationInfo","mode","xmin","xmax","ymin","ymax","I","l","lengths","N","originPosition","coords","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","T","b"],"mappings":"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","file":"js/chunk-1d31f51e.3e07aee2.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{IdentifiableMixin as s}from\"../../core/Identifiable.js\";const t=t=>{let p=class extends(s(t)){constructor(){super(...arguments),this.graphics=null,this.renderer=null,this.view=null}};return r([o()],p.prototype,\"graphics\",void 0),r([o()],p.prototype,\"renderer\",void 0),r([o()],p.prototype,\"updating\",void 0),r([o()],p.prototype,\"view\",void 0),p=r([e(\"esri.views.layers.GraphicsView\")],p),p};export{t as GraphicsView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.items=[]}addObject(e,t){this.items.push({type:0,objectStateId:t,object:e})}addRenderGeometry(e,t,s){this.items.push({type:1,objectStateId:t,renderGeometry:e,owner:s})}addExternal(e,t){this.items.push({type:2,objectStateId:t,remove:e})}remove(e){for(let t=this.items.length-1;t>=0;--t){const s=this.items[t];s.objectStateId===e&&(this._removeObjectStateItem(s),this.items.splice(t,1))}}removeObject(e){for(let t=this.items.length-1;t>=0;--t){const s=this.items[t];0===s.type&&s.object===e&&(this._removeObjectStateItem(s),this.items.splice(t,1))}}removeRenderGeometry(e){for(let t=this.items.length-1;t>=0;--t){const s=this.items[t];1===s.type&&s.renderGeometry===e&&(this._removeObjectStateItem(s),this.items.splice(t,1))}}removeAll(){this.items.forEach((e=>{this._removeObjectStateItem(e)})),this.items=[]}_removeObjectStateItem(e){switch(e.type){case 0:0===e.objectStateId.channel?e.object.removeHighlight(e.objectStateId):1===e.objectStateId.channel&&e.object.removeOcclude(e.objectStateId);break;case 1:e.owner.removeRenderGeometryObjectState(e.renderGeometry,e.objectStateId);break;case 2:e.remove(e.objectStateId)}}}export{e as Object3DStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{Object3DStateSet as t}from\"../../webgl-engine/lib/Object3DStateSet.js\";class e{constructor(e,i){this.stateType=e,this.objectIdField=i,this.objectStateSet=new t,this.ids=new Set,this.paused=!1}hasGraphic(t){if(this.objectIdField){const e=t.graphic.attributes[this.objectIdField];return this.ids.has(e)}return this.ids.has(t.graphic.uid)}}export{e as Graphics3DObjectStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import{Graphics3DObjectStateSet as e}from\"./Graphics3DObjectStateSet.js\";class s{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets=null}acquireSet(s,a){const i=new e(s,a);this._stateSets.push(i);const h=t((()=>this.releaseSet(i)));return{set:i,handle:h}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}_addObjectStateSet(t,e){t.addObjectStateSet(e.stateType,e.objectStateSet)}_removeObjectStateSet(t,e){t.removeObjectState(e.objectStateSet)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&this._addObjectStateSet(s,t)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this.initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&this._addObjectStateSet(t,e)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&this._removeObjectStateSet(t,e)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&this._addObjectStateSet(e,t)})):t.ids.forEach((s=>{const a=e.get(s);a&&this._addObjectStateSet(a,t)}))}get test(){return{states:this._stateSets}}}export{s as Graphics3DObjectStates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as e,destroyMaybe as i,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{isAbortError as o}from\"../../../../core/promiseUtils.js\";import n from\"../../../../core/Accessor.js\";import c from\"../../../../core/Collection.js\";import p from\"../../../../Graphic.js\";import h from\"../../../../core/Handles.js\";import l from\"../../../../layers/Layer.js\";import{init as d}from\"../../../../core/watchUtils.js\";import{diff as u}from\"../../../../core/accessorSupport/diffUtils.js\";import m from\"../../../../tasks/support/Query.js\";import{WatchUpdatingTracking as g}from\"../../../support/WatchUpdatingTracking.js\";import{hydrateGraphic as y}from\"../../../../layers/graphics/hydratedFeatures.js\";import{enlargeExtent as f}from\"./graphicUtils.js\";import{SUSPEND_RESUME_EXTENT_OPTIMISM as b}from\"./constants.js\";import{Graphics3DCore as j}from\"./Graphics3DCore.js\";import w from\"./Graphics3DScaleVisibility.js\";import C from\"./Graphics3DElevationAlignment.js\";import{Graphics3DObjectStates as S}from\"./Graphics3DObjectStates.js\";let v=class extends n{constructor(t){super(t),this.graphicsCore=null,this.elevationAlignment=new C,this.watchUpdatingTracking=new g,this.handles=new h,this.suspendResumeExtent=null}normalizeCtorArgs(t){let e=null;t.scaleVisibilityEnabled&&(delete(t={...t}).scaleVisibilityEnabled,e=new w);const i=new j({owner:t.owner,layer:t.layer,preferredUpdatePolicy:0,graphicSymbolSupported:!0});return{...t,graphicsCore:i,scaleVisibility:e}}initialize(){const t=this.scaleVisibility;e(t)&&\"minScale\"in this.layer&&this.watchUpdatingTracking.add(this.layer,\"scaleRangeId\",(()=>t.layerMinMaxScaleChangeHandler())),\"elevationInfo\"in this.layer&&this.watchUpdatingTracking.add(this.layer,\"elevationInfo\",((t,e)=>{u(t,e)&&this.watchUpdatingTracking.addPromise(this.graphicsCore.elevationInfoChange())}))}async setup(){const t=(t,e,i)=>this.graphicsCore.spatialIndex.queryGraphicUIDsInExtent(t,e,i);if(this.elevationAlignment.setup(this.owner,t,this.graphicsCore,this.view.elevationProvider),e(this.scaleVisibility)&&\"minScale\"in this.layer){const e=this.owner.view.basemapTerrain;this.scaleVisibility.setup(this.owner,this.layer,t,this.graphicsCore,e)}this._set(\"objectStates\",new S(this.graphicsCore));try{await this.graphicsCore.setup({elevationAlignment:this.elevationAlignment,scaleVisibility:this.scaleVisibility,objectStates:this.objectStates})}catch(i){if(o(i))return;throw i}this.destroyed||(this.handles.add(this.view.watch(\"clippingArea\",(()=>this.updateClippingExtent()),!0)),this.updateClippingExtent(),this.setupSuspendResumeExtent(),this.graphicsCore.startCreateGraphics())}destroy(){this.handles=i(this.handles),this.watchUpdatingTracking.destroy(),this._set(\"elevationAlignment\",i(this.elevationAlignment)),this._set(\"scaleVisibility\",i(this.scaleVisibility)),this._set(\"objectStates\",i(this.objectStates)),this._set(\"graphicsCore\",i(this.graphicsCore))}get suspended(){return!(!e(this.scaleVisibility)||!this.scaleVisibility.suspended)}get updating(){var t,i;return!!(null!=(t=this.graphicsCore)&&t.updating||e(this.scaleVisibility)&&this.scaleVisibility.updating||null!=(i=this.watchUpdatingTracking)&&i.updating)}getGraphicFromGraphicUid(t){if(this.owner.loadedGraphics){const e=this.owner.loadedGraphics.find((e=>e.uid===t));if(e){const t=this.layer instanceof l?this.layer:null;return y(e,t)}}}whenGraphicBounds(t,e){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(t,e):Promise.reject()}computeAttachmentOrigin(t,e){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(t,e):null}getSymbolLayerSize(t,e){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(t,e):null}maskOccludee(t){const{set:e,handle:i}=this.objectStates.acquireSet(1,null);return this.objectStates.setUid(e,t.uid),i}highlight(t){if(t instanceof m)return x;if(\"number\"==typeof t)return this.highlight([t]);if(t instanceof p)return this.highlight([t]);if(t instanceof c&&(t=t.toArray()),Array.isArray(t)&&t.length>0){if(t[0]instanceof p){const e=t.map((t=>t.uid)),{set:i,handle:s}=this.objectStates.acquireSet(0,null);return this.objectStates.setUids(i,e),s}if(\"number\"==typeof t[0]){const e=t,{set:i,handle:s}=this.objectStates.acquireSet(0,null);return this.objectStates.setObjectIds(i,e),s}}return x}updateClippingExtent(){const t=this.view.clippingArea;this.graphicsCore.setClippingExtent(t,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}updateSuspendResumeExtent(){s(this.scaleVisibility)||(this.suspendResumeExtent=f(this.graphicsCore.computedExtent,this.suspendResumeExtent,b,this.graphicsCore.extentPadding),this.scaleVisibility.setExtent(this.suspendResumeExtent))}setupSuspendResumeExtent(){s(this.scaleVisibility)||(d(this.graphicsCore,\"computedExtent\",(t=>this.updateSuspendResumeExtent()),!0),this.graphicsCore.watch(\"extentPadding\",(t=>this.updateSuspendResumeExtent())))}};t([r({constructOnly:!0})],v.prototype,\"owner\",void 0),t([r({constructOnly:!0})],v.prototype,\"layer\",void 0),t([r({readOnly:!0,aliasOf:\"owner.view\"})],v.prototype,\"view\",void 0),t([r({constructOnly:!0})],v.prototype,\"graphicsCore\",void 0),t([r({constructOnly:!0})],v.prototype,\"scaleVisibility\",void 0),t([r({readOnly:!0})],v.prototype,\"elevationAlignment\",void 0),t([r({readOnly:!0})],v.prototype,\"objectStates\",void 0),t([r({readOnly:!0})],v.prototype,\"watchUpdatingTracking\",void 0),t([r({readOnly:!0})],v.prototype,\"suspended\",null),t([r({readOnly:!0})],v.prototype,\"updating\",null),v=t([a(\"esri.views.3d.layers.graphics.Graphics3DGraphicLikeLayerView\")],v);const x={remove(){},pause(){},resume(){}};var E=v;export default E;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as i}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../core/Accessor.js\";import{GraphicsView as p}from\"../../layers/GraphicsView.js\";import a from\"./graphics/Graphics3DGraphicLikeLayerView.js\";let o=class extends(p(t)){constructor(r){super(r),this.graphics3d=null,this.slicePlaneEnabled=!1,this.drapeSourceType=1}initialize(){const r=\"__sceneView.graphics-\"+Date.now().toString(16),i={id:r,uid:r};this._set(\"graphics3d\",new a({owner:this,layer:i})),this.graphics3d.setup()}destroy(){this.graphics3d&&(this.graphics3d.destroy(),this._set(\"graphics3d\",null))}get updating(){var r;return!(null==(r=this.graphics3d)||!r.updating)}notifyGraphicGeometryChanged(r){this.graphics3d.graphicsCore.notifyGraphicGeometryChanged(r)}notifyGraphicVisibilityChanged(r){this.graphics3d.graphicsCore.notifyGraphicVisibilityChanged(r)}get graphics3DGraphics(){return this.graphics3d.graphicsCore.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphics3d.graphicsCore.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphics3d.graphicsCore.symbolUpdateType}getGraphicFromGraphicUid(r){return this.graphics3d.getGraphicFromGraphicUid(r)}whenGraphicBounds(r,i){return this.graphics3d.whenGraphicBounds(r,i)}graphicChanged(r){this.graphics3d.graphicsCore.graphicUpdateHandler(r)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}async fetchPopupFeatures(r,s){return i(s)?s.clientGraphics:null}highlight(r){return this.graphics3d.highlight(r)}maskOccludee(r){return this.graphics3d.maskOccludee(r)}};r([s({readOnly:!0,aliasOf:\"view.graphics\"})],o.prototype,\"graphics\",void 0),r([s({aliasOf:\"graphics\"})],o.prototype,\"loadedGraphics\",void 0),r([s({readOnly:!0})],o.prototype,\"updating\",null),r([s({constructOnly:!0})],o.prototype,\"view\",void 0),r([s()],o.prototype,\"graphics3d\",void 0),r([s({type:Boolean})],o.prototype,\"slicePlaneEnabled\",void 0),o=r([e(\"esri.views.3d.layers.GraphicsView3D\")],o);var c=o;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as o}from\"./_commonjsHelpers.js\";var r=o((function(o){var r;void 0!==(r=function(){function o(o,t,a,f,i){r(o,t,a||0,f||o.length-1,i||n)}function r(o,n,a,f,i){for(;f>a;){if(f-a>600){var c=f-a+1,e=n-a+1,h=Math.log(c),u=.5*Math.exp(2*h/3),s=.5*Math.sqrt(h*u*(c-u)/c)*(e-c/2<0?-1:1);r(o,n,Math.max(a,Math.floor(n-e*u/c+s)),Math.min(f,Math.floor(n+(c-e)*u/c+s)),i)}var M=o[n],m=a,v=f;for(t(o,a,n),i(o[f],M)>0&&t(o,a,f);m<v;){for(t(o,m,v),m++,v--;i(o[m],M)<0;)m++;for(;i(o[v],M)>0;)v--}0===i(o[a],M)?t(o,a,v):t(o,++v,f),v<=n&&(a=v+1),n<=v&&(f=v-1)}}function t(o,r,t){var n=o[r];o[r]=o[t],o[t]=n}function n(o,r){return o<r?-1:o>r?1:0}return o}())&&(o.exports=r)}));export{r as q};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/PooledArray.js\";import{create as e,set as r,area as s,expand as n,contains as o,containsPoint as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as h}from\"../../../support/Scheduler.js\";const a=.05;class c{constructor(){this.extents=new t({allocator:t=>t||e()}),this.tempExtent=e(),this.dirty=!1}get empty(){return 0===this.extents.length}clear(){this.extents.clear()}add(t){this.contains(t)||(this.removeContained(t),r(this.extents.pushNew(),t),this.dirty=!0)}pop(){return this.dirty&&this.mergeTight(),this.extents.pop()}merge(t){return this.mergeTight(t),t.hasProgressed}mergeTight(t=h){const e=this.extents,o=new Set;let i=0;for(;i!==e.length;){e.sort(((t,e)=>t[0]-e[0])),i=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const h=e.getItemAt(i);for(let t=i+1;t<e.length;++t){const r=e.getItemAt(t);if(r[0]>=h[2])break;o.add(r)}o.forEach((i=>{if(h===i)return;if(i[2]<=h[0])return void o.delete(i);const c=s(h),m=s(i),d=this.tempExtent;n(h,i,d);const g=c+m;(s(d)-g)/g<a&&(r(h,d),o.delete(i),e.remove(i),t.madeProgress())})),o.add(h)}}this.dirty=!1}contains(t){return this.extents.some((e=>o(e,t)))}removeContained(t){this.extents.filterInPlace((e=>!o(t,e)))}get test(){const t=this;return{containsPoint:e=>t.extents.some((t=>i(t,e)))}}}export{c as ExtentSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import r from\"../../../../core/Accessor.js\";import a from\"../../../../core/Evented.js\";import n from\"../../../../core/Handles.js\";import{Task as o}from\"../../../support/Scheduler.js\";import{ExtentSet as h}from\"./ExtentSet.js\";let p=class extends r{constructor(){super(...arguments),this.dirtyExtents=new h,this.globalDirty=!1,this.dirtyGraphicsSet=new Set,this.handles=new n,this.updateElevation=!1,this.layerView=null,this.graphicsCore=null,this.events=new a}get updating(){return this.needsUpdate()}setup(e,t,i,s){this.layerView=e,this.queryGraphicUIDsInExtent=t,this.graphicsCore=i,this.elevationProvider=s;const r=this.layerView.view.resourceController.scheduler;this.handles.add([s.on(\"elevation-change\",(e=>this._elevationChanged(e))),this.layerView.watch(\"suspended\",(()=>this.suspendedChange())),r.registerTask(o.ELEVATION_ALIGNMENT,(e=>this.update(e)),(()=>this.needsUpdate()))])}destroy(){this.dirtyGraphicsSet.clear(),this.handles.destroy(),this.handles=null,this.layerView=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null}clear(){this.dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}suspendedChange(){!0===this.layerView.suspended?this.updateElevation=!1:!1===this.layerView.suspended&&this.updateElevation&&(this.globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this.globalDirty=!0,this.notifyChange(\"updating\")}needsUpdate(){return this.dirtyGraphicsSet.size>0||this.dirtyExtents&&!this.dirtyExtents.empty||this.globalDirty}update(e){for(this.globalDirty&&(this.markAllGraphicsElevationDirty(),this.globalDirty=!1,e.madeProgress()),e.run((()=>this.dirtyExtents.merge(e)));this.needsUpdate()&&!e.done;)this._updateDirtyGraphics(e),this._updateDirtyExtents(e);this.layerView.view.deconflictor.setDirty(),this.notifyChange(\"updating\")}_updateDirtyGraphics(e){const i=this.layerView.view.renderCoordsHelper,s=this.graphicsCore.asyncUpdates;for(const r of this.dirtyGraphicsSet.keys()){const a=this.graphicsCore.getGraphics3DGraphicById(r);if(this.dirtyGraphicsSet.delete(r),t(a)&&(a.alignWithElevation(this.elevationProvider,i,s),e.madeProgress()),e.done)return}}_updateDirtyExtents(e){for(;!this.dirtyExtents.empty&&!e.done;){const i=this.dirtyExtents.pop(),s=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:i,spatialReference:s}),this.queryGraphicUIDsInExtent(i,s,(e=>{const i=this.graphicsCore.getGraphics3DGraphicById(e);t(i)&&i.needsElevationUpdates()&&this.dirtyGraphicsSet.add(e)})),e.madeProgress()}}markAllGraphicsElevationDirty(){this.dirtyExtents.clear(),this.dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((e,t)=>this.dirtyGraphicsSet.add(t)))}_elevationChanged(e){if(\"scene\"===e.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:t,spatialReference:i}=e;if(this.layerView.suspended){if(!this.updateElevation){const e=this.graphicsCore.computedExtent;e&&t[2]>e.xmin&&t[0]<e.xmax&&t[3]>e.ymin&&t[1]<e.ymax&&(this.updateElevation=!0)}this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i})}else t[0]===-1/0?this.globalDirty=!0:this.dirtyExtents.add(t),this.notifyChange(\"updating\")}};e([i({readOnly:!0})],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],p);var d=p;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(n,t){return n?t?4:3:t?3:2}function t(t,I,o,u,l){if(!I||!I.lengths.length)return null;const N=\"upperLeft\"===(null==l?void 0:l.originPosition)?-1:1;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const s=t.coords,c=[],f=o?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:i,coords:T}=I,h=n(o,u);let g=0;for(const n of i){const t=e(f,T,g,n,o,u,N);t&&c.push(t),g+=n*h}if(c.sort(((n,t)=>{let e=N*n[2]-N*t[2];return 0===e&&o&&(e=n[4]-t[4]),e})),c.length){let n=6*c[0][2];s[0]=c[0][0]/n,s[1]=c[0][1]/n,o&&(n=6*c[0][4],s[2]=0!==n?c[0][3]/n:0),(s[0]<f[0]||s[0]>f[1]||s[1]<f[2]||s[1]>f[3]||o&&(s[2]<f[4]||s[2]>f[5]))&&(s.length=0)}if(!s.length){const n=I.lengths[0]?r(T,0,i[0],o,u):null;if(!n)return null;s[0]=n[0],s[1]=n[1],o&&n.length>2&&(s[2]=n[2])}return t}function e(t,e,r,I,o,u,l=1){const N=n(o,u);let s=r,c=r+N,f=0,i=0,T=0,h=0,g=0;for(let n=0,b=I-1;n<b;n++,s+=N,c+=N){const n=e[s],r=e[s+1],I=e[s+2],u=e[c],l=e[c+1],N=e[c+2];let E=n*l-u*r;h+=E,f+=(n+u)*E,i+=(r+l)*E,o&&(E=n*N-u*I,T+=(I+N)*E,g+=E),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),r<t[2]&&(t[2]=r),r>t[3]&&(t[3]=r),o&&(I<t[4]&&(t[4]=I),I>t[5]&&(t[5]=I))}if(h*l>0&&(h*=-1),g*l>0&&(g*=-1),!h)return null;const E=[f,i,.5*h];return o&&(E[3]=T,E[4]=.5*g),E}function r(t,e,r,N,s){const c=n(N,s);let f=e,i=e+c,T=0,h=0,g=0,E=0;for(let n=0,b=r-1;n<b;n++,f+=c,i+=c){const n=t[f],e=t[f+1],r=t[f+2],s=t[i],c=t[i+1],b=t[i+2],m=N?o(n,e,r,s,c,b):I(n,e,s,c);if(m)if(T+=m,N){const t=l(n,e,r,s,c,b);h+=m*t[0],g+=m*t[1],E+=m*t[2]}else{const t=u(n,e,s,c);h+=m*t[0],g+=m*t[1]}}return T>0?N?[h/T,g/T,E/T]:[h/T,g/T]:r>0?N?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function I(n,t,e,r){const I=e-n,o=r-t;return Math.sqrt(I*I+o*o)}function o(n,t,e,r,I,o){const u=r-n,l=I-t,N=o-e;return Math.sqrt(u*u+l*l+N*N)}function u(n,t,e,r){return[n+.5*(e-n),t+.5*(r-t)]}function l(n,t,e,r,I,o){return[n+.5*(r-n),t+.5*(I-t),e+.5*(o-e)]}export{t as getCentroidOptimizedGeometry,r as lineCentroid};\n"],"sourceRoot":""}
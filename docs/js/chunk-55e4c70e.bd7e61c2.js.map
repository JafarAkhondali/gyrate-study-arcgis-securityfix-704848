{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/support/sublayerUtils.js","webpack:///./node_modules/@arcgis/core/renderers/support/rendererConversion.js","webpack:///./node_modules/@arcgis/core/layers/support/ExportImageParameters.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js","webpack:///./node_modules/@arcgis/core/renderers/support/numberUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/utils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/colorRampUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/heatmapRampUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/relationshipRampUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/styles/Card.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/styles/Classic.js","webpack:///./node_modules/@arcgis/core/widgets/Legend.js"],"names":["e","n","i","flatten","sublayers","length","some","originIdOf","r","source","type","mapLayerId","id","gdbVersion","slice","reverse","toArray","map","o","t","minScale","layerDefinition","s","declaredClass","renderer","u","l","Array","isArray","details","symbol","filter","sort","forEach","push","join","symbolErrors","error","uniqueValueInfos","defaultSymbol","unshift","classBreakInfos","visible","definitionExpression","labelingInfo","labelsVisible","opacity","maxScale","super","this","scale","layer","hasDynamicLayers","visibleSublayers","toExportImageJSON","JSON","stringify","serviceSublayers","_get","_set","handles","remove","add","allSublayers","on","notifyChange","propertyName","reduce","commitProperty","a","dpi","format","imageFormat","transparent","imageTransparency","dynamicLayers","layers","layerDefs","readOnly","prototype","Number","featuresTilingScheme","getClosestInfoForScale","level","levels","visualVariables","find","field","minSize","size","minDataValue","value","maxSize","maxDataValue","toFixed","previous","next","String","match","integer","split","fractional","toLowerCase","indexOf","Math","abs","floor","tolerance","strictBounds","indexes","c","f","m","g","maximumFractionDigits","U","async","stops","label","Promise","all","color","getColor","getOpacity","startIndex","endIndex","weight","blendColors","colorRamps","max","toColor","min","fromColor","colorStops","ratio","HH","HL","LL","LH","2","3","4","symbolLayers","getItemAt","style","top","bottom","left","right","focus","infos","numClasses","fill","L","colors","labels","rotation","legendOptions","customValues","p","y","b","d","h","v","target","S","k","j","authoringInfo","O","D","univariateTheme","E","T","q","outlineSize","clone","material","resource","href","outline","width","getSizeRangeAtScale","ceil","w","z","x","V","getSize","view","shape","height","font","getLogger","G","J","X","K","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","Q","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","MAX_VALUE","Y","Z","ee","te","le","se","ne","re","ie","ae","oe","de","ce","ye","ue","he","me","pe","fe","ge","be","Se","_e","ve","we","Le","Ee","Ie","Ce","Re","path","Fe","Te","_handles","_hasColorRamp","_hasOpacityRamp","_hasSizeRamp","_webStyleSymbolCache","Map","_dotDensityUrlCache","_scaleDrivenSizeVariable","_hasClusterSizeVariable","children","layerView","legendElements","parent","keepCacheOnDestroy","respectLayerVisibility","sublayerIds","title","added","removed","uid","destroy","_getParentLayerOpacity","_isGroupActive","featureReduction","get","test","_isScaleDrivenSizeVariable","_isLayerScaleDriven","_getRendererLegendElements","featureSet","features","drawingInfo","read","geometryType","name","warn","then","_constructLegendElementsForWMTSlayer","_constructLegendElementsForWMSSublayers","_constructLegendElementsForBuildingSceneLayer","_constructLegendElementsForSublayers","_getLegendLayers","watch","default","buildLegendElementsForRenderer","buildLegendElementsForTools","_generateSymbolTableElementForLegendLayer","catch","ready","expression","valueExpression","loaded","sourceJSON","activeLayer","styleId","styles","legendUrl","src","customParameters","customLayerParameters","_generateLegendElementsForWMSSublayers","legendEnabled","_generateSymbolTableElementForWMSSublayer","_generateSymbolTableElementForLegendUrl","responseType","data","preview","resolve","_legendRequest","exportImageServiceParameters","renderingRule","toJSON","bandIds","raster","viewId","url","replace","version","substring","encodeURI","query","_generateLegendElementsForBuildingSublayers","sublayer","_generateLegendElementsForSublayers","findSublayerById","Boolean","_isSublayerInScale","load","_generateSymbolTableElementForSublayer","set","layerId","legend","_isLegendLayerInScale","layerName","_getRendererTitle","legendType","_sanitizeLegendForSublayer","legendGroups","heading","_generateSymbolTableElementInfosForLegendLayer","groupId","imageData","tileInfo","lods","values","splice","_constructPointCloudRendererLegendElements","_constructDotDensityRendererLegendElements","_constructRendererLegendElements","_getPointCloudRendererTitle","colorClassBreakInfos","minValue","maxValue","_getAppliedCloneSymbol","colorUniqueValueInfos","concat","_getSymbolPreview","symbolConfig","applyColorModulation","colorModulation","backgroundColor","dotSize","has","calculateDotValue","unit","round","attributes","_getElementInfoForDotDensity","valueExpressionTitle","_loadRenderer","_getVisualVariableLegendElements","Set","findIndex","field1","field2","normalizationField","_getFieldAlias","normField","angle","_getDomainName","defaultLabel","_isUnclassedRenderer","_updateInfosforClassedSizeRenderer","tileType","_getServerSideLegend","_constructTileImageryStretchRendererElements","statistics","outputMin","outputMax","generateRasterInfo","serviceRasterInfo","keyProperties","BandProperties","bandCount","_getStretchLegendElements","BandName","_createSymbolTableElementMultiBand","colormapInfos","pointSymbol","lineSymbol","polygonSymbol","outputUnit","attributeField","getClassBreakInfos","getDefaultSymbol","_isTallSymbol","_","_getAllInfos","applyScaleDrivenSize","isTall","isSquareFill","setTimeout","rasterInfo","pixelType","from","keys","colorRamp","colorName","bandName","axis","_effectiveRenderer","clusterMinSize","clusterMaxSize","showLegend","_getMedianColor","_fetchSymbol","apply","_applySymbolToRenderer","reject","portal","user","username","styleName","styleUrl","fetchCIMSymbol","fetchSymbol","toRgba","_applyColorTo3dSymbol","_getRampTitle","getField","_getClusterTitle","getFieldDomain","getName","popupTemplate","fieldInfos","fieldName","showCount","ratioPercent","ratioPercentTotal","normalizationType","normByPct","fieldsIndex","alias","dependsOn","Ve","state","allLayerViews","legendProperties","ofType","_layerViewByLayerId","_layerInfosByLayerViewId","_activeLayerInfosByLayerViewId","_activeLayerInfosWithNoParent","activeLayerInfos","basemapLegendVisible","groundLegendVisible","layerInfos","_viewHandles","_refresh","_destroyViewActiveLayerInfos","_stateHandles","_resetAll","_watchPropertiesAndAllLayerViews","removeAll","Object","_destroyViewActiveLayerInfo","_allLayerViewsChangeHandle","bind","_propertiesChangeHandle","_generateLayerViews","_filterLayerViewsByLayerInfos","_isLayerViewSupported","_generateActiveLayerInfo","_sortActiveLayerInfos","removeMany","_filterLayerViews","_collectLayerViews","_hasLayerInfo","_isLayerUIDMatching","_hasLayerUID","_isLayerActive","_buildActiveLayerInfo","_layerActiveHandle","_titleHandle","_constructLegendElements","_scaleHandle","_legendEnabledHandle","isScaleDriven","_addActiveLayerInfo","_removeActiveLayerInfo","featureCollections","buildLegendElementsForFeatureCollections","diamondContainer","diamondLeftCol","diamondRightCol","diamondMidCol","diamondMidColLabel","diamondMidColRamp","squareTable","squareTableRow","squareTableCell","squareTableLabel","squareTableLabelLeftBottom","squareTableLabelRightBottom","squareTableLabelLeftTop","squareTableLabelRightTop","class","markerStart","markerEnd","sqrt","C","R","$","M","B","H","xmlns","markerWidth","markerHeight","refX","refY","markerUnits","orient","points","stroke","transform","x1","y1","x2","y2","univariateAboveAndBelowSymbol","document","createElement","className","toString","append","tagName","appendChild","align","rampAlignment","sizeRampElement","colorRampElement","dotValue","clusterCountTitle","activated","base","stacked","carouselTitle","indicator","intervalSeparator","imageryLayerStretchedImage","imageLabel","layerCaption","labelElement","layerRow","labelCell","message","rampLabel","section","relationshipSection","serviceCaptionText","serviceContent","service","groupLayer","groupLayerChild","sizeRampRow","symbolRow","symbolCell","indicatorContainer","intervalSeparatorsContainer","relationshipLabelContainer","labelContainer","serviceCaptionContainer","symbolContainer","sizeRampContainer","sizeRampPreview","rampContainer","sizeRampHorizontal","rampLabelsContainer","layerInfo","univariateAboveAndBelowColorRamp","hidden","header","window","devicePixelRatio","primitive","_hasIndicators","_selectedSectionName","_sectionNames","_sectionMap","layout","messages","messagesCommon","own","_watchForSectionChanges","container","clientWidth","_renderLegendForLayer","pagination","pageText","index","total","key","role","tabIndex","onclick","_selectSection","onkeydown","_focusSection","classes","noLegend","getAttribute","_switchSectionOnArrowPress","getElementById","_generateSectionNames","_generateSectionNamesForActiveLayerInfo","_getSectionName","_renderLegendForElement","_renderLegendForElementInfo","properties","_renderLegendForRamp","_renderSizeRamp","_renderUnivariateAboveAndBelowRamp","_renderUnivariateColorSizeRamp","display","flexDirection","marginTop","marginLeft","justifyContent","afterCreate","isBright","background","textShadow","border","_renderImage","alt","getContext","beginPath","moveTo","lineTo","strokeStyle","marginBottom","marginRight","cloneNode","_renderSizeRampLines","offset","N","layerTable","layerTableSizeRamp","layerChildTable","layerBody","layerCell","imageryLayerCellStretched","imageryLayerInfoStretched","sizeRamp","opacityRamp","borderlessRamp","rampTick","rampFirstTick","rampLastTick","univariateAboveAndBelowLabel","alignItems","verticalAlign","A","I","_getStretchStopLabel","notation","widget","panel","widgetIcon","iconClass","viewModel","_refreshActiveLayerInfos","render","_renderOnActiveLayerInfoChange","scheduleRender","aliasOf","overridable"],"mappings":"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","file":"js/chunk-55e4c70e.bd7e61c2.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,n,i){if(n.flatten((({sublayers:e})=>e)).length!==e.length)return!0;return!!e.some((e=>e.originIdOf(\"minScale\")>i||e.originIdOf(\"maxScale\")>i||e.originIdOf(\"renderer\")>i||e.originIdOf(\"labelingInfo\")>i||e.originIdOf(\"opacity\")>i||e.originIdOf(\"labelsVisible\")>i||e.originIdOf(\"source\")>i))||!r(e,n)}function n(e,n,i){return!!e.some((e=>{const n=e.source;return!(!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(!n.gdbVersion||n.gdbVersion===i.gdbVersion))||e.originIdOf(\"renderer\")>2||e.originIdOf(\"labelingInfo\")>2||e.originIdOf(\"opacity\")>2||e.originIdOf(\"labelsVisible\")>2}))||!r(e,n)}function r(e,n){if(!e||!e.length)return!0;const r=n.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>r.length)return!1;let i=0;const o=r.length;for(const{id:t}of e){for(;i<o&&r[i]!==t;)i++;if(i>=o)return!1}return!0}function i(e){return!!e&&e.some((e=>null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale))}export{n as isExportDynamic,i as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as r}from\"../../core/maybe.js\";import e from\"../../core/Error.js\";import{to3D as n}from\"../../symbols/support/symbolConversion.js\";function o(e){return r(e)||\"simple\"===e.type||\"unique-value\"===e.type||\"class-breaks\"===e.type||\"dictionary\"===e.type}function s(n){if(r(n))return null;if(!o(n))return new e(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${n.type||n.declaredClass}'`,{renderer:n});switch(n.type){case\"simple\":return u(n);case\"unique-value\":return l(n);case\"class-breaks\":return i(n);case\"dictionary\":return null}return null}function t(r,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const s=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||s.push(r)})),new e(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${s.join(\", \")}) which are not supported in 3D`,{renderer:r,symbolErrors:o})}return null}function u(r){return t(r,n(r.symbol).error)}function l(r){const e=r.uniqueValueInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}function i(r){const e=r.classBreakInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}export{o as isSupportedRenderer3D,s as validateTo3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"../../core/Accessor.js\";import{combinedViewLayerTimeExtentProperty as i}from\"./commonProperties.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";import{isExportDynamic as o}from\"./sublayerUtils.js\";const l={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let n=class extends(a(t)){constructor(e){super(e),this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>e.toExportImageJSON()));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&o(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(l[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=this.visibleSublayers.filter((e=>null!=e.definitionExpression));return e.length?JSON.stringify(e.reduce(((e,r)=>(e[r.id]=r.definitionExpression,e)),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,a=0===r.minScale||t<=r.minScale,o=0===r.maxScale||t>=r.maxScale;r.visible&&(i||a&&o)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([r({readOnly:!0})],n.prototype,\"dynamicLayers\",null),e([r({readOnly:!0})],n.prototype,\"hasDynamicLayers\",null),e([r()],n.prototype,\"layer\",null),e([r({readOnly:!0})],n.prototype,\"layers\",null),e([r({readOnly:!0})],n.prototype,\"layerDefs\",null),e([r({type:Number})],n.prototype,\"scale\",void 0),e([r(i)],n.prototype,\"timeExtent\",void 0),e([r({readOnly:!0})],n.prototype,\"version\",null),e([r({readOnly:!0})],n.prototype,\"visibleSublayers\",null),n=e([s(\"esri.layers.mixins.ExportImageParameters\")],n);export{n as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return null!=l&&l.levels?l.levels[a]:null};function a(a,i){if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>\"size\"===e.type)),n=l(i,s);return n?new e({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}export{a as getClusterSizeVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{formatNumber as t}from\"../../intl/number.js\";import\"../../intl.js\";const n=/^-?(\\d+)(\\.(\\d+))?$/i;function e(t,n){return t-n}function r(t,n){let e,r;return e=Number(t.toFixed(n)),e<t?r=e+1/10**n:(r=e,e-=1/10**n),e=Number(e.toFixed(n)),r=Number(r.toFixed(n)),[e,r]}function o(t,n,e,r,o){const i=l(t,n,e,r),u=null==i.previous||i.previous<=o,s=null==i.next||i.next<=o;return u&&s||i.previous+i.next<=2*o}function i(t){const e=String(t),r=e.match(n);if(r&&r[1])return{integer:r[1].split(\"\").length,fractional:r[3]?r[3].split(\"\").length:0};if(e.toLowerCase().indexOf(\"e\")>-1){const t=e.split(\"e\"),n=t[0],r=t[1];if(n&&r){const t=Number(n);let e=Number(r);const o=e>0;o||(e=Math.abs(e));const l=i(t);return o?(l.integer+=e,e>l.fractional?l.fractional=0:l.fractional-=e):(l.fractional+=e,e>l.integer?l.integer=1:l.integer-=e),l}}return{integer:0,fractional:0}}function l(t,n,e,r){const o={previous:null,next:null};if(null!=e){const r=t-e,i=n-e-r;o.previous=Math.floor(Math.abs(100*i/r))}if(null!=r){const e=r-t,i=r-n-e;o.next=Math.floor(Math.abs(100*i/e))}return o}function u(t,n={}){const l=t.slice(0),{tolerance:u=2,strictBounds:s=!1,indexes:c=l.map(((t,n)=>n))}=n;c.sort(e);for(let e=0;e<c.length;e++){const t=c[e],n=l[t],a=0===t?null:l[t-1],f=t===l.length-1?null:l[t+1],m=i(n).fractional;if(m){let i,c=0,g=!1;for(;c<=m&&!g;){const t=r(n,c);i=s&&0===e?t[1]:t[0],g=o(n,i,a,f,u),c++}g&&(l[t]=i)}}return l}const s={maximumFractionDigits:20};function c(n){return t(n,s)}export{c as format,i as numDigits,l as percentChange,u as round};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{formatDate as A,convertDateFormatToIntlOptions as a}from\"../../../intl/date.js\";import{format as t}from\"../../../renderers/support/numberUtils.js\";const g=\"<\",w=\">\",I=a(\"short-date\");function U(a,U,e,i){let o=\"\";0===U?o=`${g} `:U===e&&(o=`${w} `);let r=null;return r=i?A(a,I):t(a),o+r}const e=[\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];export{e as RGB_IMG_SOURCE,U as createStopLabel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport l from\"../../../Color.js\";import{createStopLabel as e}from\"./utils.js\";const o=new l([64,64,64]);function n(l,o){const n=[],r=l.length-1;return 5===l.length?n.push(0,2,4):n.push(0,r),l.map(((l,t)=>n.indexOf(t)>-1?e(l,t,r,o):null))}async function r(l,e,o){let r=!1,a=[],u=[];if(l.stops){const e=l.stops;a=e.map((l=>l.value)),r=e.some((l=>!!l.label)),r&&(u=e.map((l=>l.label)))}const s=a[0],i=a[a.length-1];if(null==s&&null==i)return null;const c=r?null:n(a,o);return(await Promise.all(a.map((async(o,n)=>({value:o,color:\"opacity\"===l.type?await t(o,l,e):(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getColor(l,o),label:r?u[n]:c[n]}))))).reverse()}async function t(e,n,r=o){const t=new l(r),a=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getOpacity(n,e);return null!=a&&(t.a=a),t}function a(l){let e=!1,o=[],r=[];o=l.map((l=>l.value)),e=l.some((l=>!!l.label)),e&&(r=l.map((l=>l.label)));const t=o[0],a=o[o.length-1];if(null==t&&null==a)return null;const s=e?null:n(o,!1);return o.map(((o,n)=>({value:o,color:u(o,l),label:e?r[n]:s[n]}))).reverse()}function u(e,o){const{startIndex:n,endIndex:r,weight:t}=s(e,o);if(n===r)return o[n].color;const a=l.blendColors(o[n].color,o[r].color,t);return new l(a)}function s(l,e){let o=0,n=e.length-1;return e.some(((e,r)=>l<e.value?(n=r,!0):(o=r,!1))),{startIndex:o,endIndex:n,weight:(l-e[o].value)/(e[n].value-e[o].value)}}function i(e,o){let n=[];if(e&&\"multipart\"===e.type)e.colorRamps.reverse().forEach((function(r,t){0===t?n.push({value:o.max,color:new l(r.toColor),label:\"high\"}):n.push({value:null,color:new l(r.toColor),label:\"\"}),t===e.colorRamps.length-1?n.push({value:o.min,color:new l(r.fromColor),label:\"low\"}):n.push({value:null,color:new l(r.fromColor),label:\"\"})}));else{let r,t;e&&\"algorithmic\"===e.type?(r=e.fromColor,t=e.toColor):(r=[0,0,0,1],t=[255,255,255,1]),n=[{value:o.max,color:new l(t),label:\"high\"},{value:o.min,color:new l(r),label:\"low\"}]}return n}export{u as getColorFromPointCloudStops,r as getRampStops,a as getRampStopsForPointCloud,i as getStrectchRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"../../../renderers/support/HeatmapColorStop.js\";function r(r){let t=r.colorStops,e=t.length-1;if(t&&t[0]){const r=t[e];r&&1!==r.ratio&&(t=t.slice(0),t.push(new o({ratio:1,color:r.color})),e++)}return t.map(((o,r)=>{let t=\"\";return 0===r?t=\"low\":r===e&&(t=\"high\"),{color:o.color,label:t,ratio:o.ratio}})).reverse()}export{r as getHeatmapRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{getStroke as o,getFill as e}from\"../../../symbols/support/gfxUtils.js\";import{getSymbolLayerFill as r}from\"../../../symbols/support/previewSymbol3D.js\";const s={HH:315,HL:45,LL:135,LH:225},l={2:[[\"HL\",\"HH\"],[\"LL\",\"LH\"]],3:[[\"HL\",\"HM\",\"HH\"],[\"ML\",\"MM\",\"MH\"],[\"LL\",\"LM\",\"LH\"]],4:[[\"HL\",\"HM1\",\"HM2\",\"HH\"],[\"M2L\",\"M2M1\",\"M2M2\",\"M2H\"],[\"M1L\",\"M1M1\",\"M1M2\",\"M1H\"],[\"LL\",\"LM1\",\"LM2\",\"LH\"]]};function n(t){if(!t)return;const{type:s}=t;if(s.indexOf(\"3d\")>-1)return r(t.symbolLayers.getItemAt(0));if(\"simple-line\"===s){const e=o(t);return e&&e.color}if(\"simple-marker\"===t.type&&(\"x\"===t.style||\"cross\"===t.style)){const e=o(t);return e&&e.color}return e(t)}function H(t,o){const e=o.HH.label,r=o.LL.label,s=o.HL.label,l=o.LH.label;switch(t){case\"HH\":return{top:e,bottom:r,left:s,right:l};case\"HL\":return{top:s,bottom:l,left:r,right:e};case\"LL\":return{top:r,bottom:e,left:l,right:s};case\"LH\":return{top:l,bottom:s,left:e,right:r};default:return{top:e,bottom:r,left:s,right:l}}}function i(o,e){const r=[],s=o.length**.5,l=t(o),n=(e||\"HH\").split(\"\"),H=n[0],i=\"H\"===n[1];for(;l.length;){const t=[];for(;t.length<s;)t.push(l.shift());i&&t.reverse(),r.push(t)}return\"L\"===H&&r.reverse(),r}function L(t){const{focus:o,infos:e,numClasses:r}=t,s=l[r],i={};e.forEach((t=>{i[t.value]={label:t.label,fill:n(t.symbol)}}));const L=[];for(let l=0;l<r;l++){const t=[];for(let o=0;o<r;o++){const e=i[s[l][o]];t.push(e.fill)}L.push(t)}return{type:\"relationship-ramp\",numClasses:r,focus:o,colors:L,labels:H(o,i),rotation:f(o)}}function f(t){let o=s[t];return t&&null==o&&(o=s.HH),o||0}export{i as getRelationshipRampColors2D,L as getRelationshipRampElement,f as getRotationAngleForFocus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{applyCIMSymbolColor as t}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as n,getSymbolOutlineSize as i}from\"../../../symbols/support/utils.js\";import{round as o,numDigits as s,percentChange as r}from\"../../../renderers/support/numberUtils.js\";import{createStopLabel as a}from\"./utils.js\";const u=30,c=12,m=[255,255,255],f=[200,200,200],p=[128,128,128],y=20,b=5;function d(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function h(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function v(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function g(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function w(e,l){const t=e.length-1;return e.map(((e,n)=>a(e,n,t,l)))}async function S(e,l,t,s,r,a){var u,c;const m=l.legendOptions,f=m&&m.customValues,p=V(e,t),y=!!p,b=!!f,d=null!=l.minSize&&null!=l.maxSize,h=l.stops&&l.stops.length>1,v=!!l.target;if(!y||!b&&!(d||h&&!v))return;const g=n(p);let S=null,k=null,j=null;k=g&&!h?o([l.minDataValue,l.maxDataValue]):f||await C(l,p,s,r);const L=null==e?void 0:e.authoringInfo,O=\"univariate-color-size\"===(null==L?void 0:L.type),D=O&&\"above-and-below\"===(null==L?void 0:L.univariateTheme);if(!k&&h&&(k=l.stops.map((e=>e.value)),S=l.stops.some((e=>!!e.label)),S&&(j=l.stops.map((e=>e.label)))),g&&(null==(u=k)?void 0:u.length)>2&&!D&&(k=[k[0],k[k.length-1]]),!k)return null;O&&5!==(null==(c=k)?void 0:c.length)&&(k=I({minSize:k[0],maxSize:k[k.length-1]}));const E=g?z(e,k):null,T=i(p),q=S?null:w(k,a);return(await Promise.all(k.map((async(t,n)=>{const i=g?E[n]:await M(l,p,t,s,r);return{value:t,symbol:U(D&&\"class-breaks\"===e.type?x(e,n):p,i),label:S?j[n]:q[n],size:i,outlineSize:T}})))).reverse()}function z(e,l){const t=null==e?void 0:e.authoringInfo,n=\"univariate-color-size\"===(null==t?void 0:t.type);let i=[c,u];if(n){const e=l[0],t=l[l.length-1],n=c,o=u;i=l.map((l=>n+(l-e)/(t-e)*(o-n)))}return n&&\"below\"===(null==t?void 0:t.univariateTheme)&&i.reverse(),i}function x(e,l){const t=e.classBreakInfos,n=t.length,i=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(i.type.indexOf(\"3d\")>-1?j(i):L(i)),i}function V(e,l){let t=null,n=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}return!t||k(t)?null:(t=t.clone(),(l||n)&&(t.type.indexOf(\"3d\")>-1?j(t):L(t)),t)}function k(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return-1!==e.type.indexOf(\"fill\")}return!1}function j(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:p}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource&&e.resource.href?e.material={color:f}:(e.material={color:m},e.outline={color:p,size:1.5})}))}function L(l){\"cim\"===l.type?t(l,new e(f)):-1!==l.type.indexOf(\"line\")?l.color=p:(l.color=m,\"simple-marker\"===l.type&&(l.outline={color:p,width:1.5}))}async function C(e,l,t,n){const i=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,t,n),s=i&&I(i);if(!i&&!s)return;let r=s.map((l=>O(l,e,i)));r=o(r);for(let o=1;o<r.length-1;o++){const i=await D(e,l,r[o],r[o-1],t,n);i&&(r[o]=i[0],s[o]=i[1])}return r}function I(e){const l=e.minSize,t=e.maxSize,n=b,i=(t-l)/(n-1),o=[];for(let s=0;s<n;s++)o.push(l+i*s);return o}function O(e,l,t){const n=t.minSize,i=t.maxSize,o=l.minDataValue,s=l.maxDataValue;let r=null;if(e<=n)r=o;else if(e>=i)r=s;else{r=(e-n)/(i-n)*(s-o)+o}return r}async function D(e,l,t,n,i,a){const u=await M(e,l,t,i,a),c=await M(e,l,n,i,a),m=s(t),f=m.fractional,p=y;let b=m.integer,d=null,h=null;t>0&&t<1&&(d=10**f,b=s(t*=d).integer);for(let s=b-1;s>=0;s--){const n=10**s;let m=Math.floor(t/n)*n,f=Math.ceil(t/n)*n;null!=d&&(m/=d,f/=d);let y=(m+f)/2;[,y]=o([m,y,f],{indexes:[1]});const b=await M(e,l,m,i,a),v=await M(e,l,f,i,a),g=await M(e,l,y,i,a),w=r(u,b,c,null),S=r(u,v,c,null),z=r(u,g,c,null);let x=w.previous<=p,V=S.previous<=p;if(x&&V&&(w.previous<=S.previous?(x=!0,V=!1):(V=!0,x=!1)),x?h=[m,b]:V?h=[f,v]:z.previous<=p&&(h=[y,g]),h)break}return h}async function M(e,l,t,n,i){const{getSize:o}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return o(e,t,{scale:n,view:i,shape:\"simple-marker\"===l.type?l.style:null})}function U(e,t){const i=e.clone();if(l(i))n(i)||i.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(d(i))i.size=t;else if(h(i)){const e=i.width,l=i.height;i.height=t,i.width=t*(e/l)}else v(i)?i.width=t:g(i)&&i.font&&(i.font.size=t);return i}export{u as REAL_WORLD_MAX_SIZE,c as REAL_WORLD_MIN_SIZE,S as getRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as t,isSome as l}from\"../../../core/maybe.js\";import s from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import{JSONMap as r}from\"../../../core/jsonMap.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{objectToQuery as a}from\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{eachAlways as o,debounce as u}from\"../../../core/promiseUtils.js\";import d from\"../../../core/Accessor.js\";import c from\"../../../core/Collection.js\";import{isDateField as y}from\"../../../layers/support/fieldUtils.js\";import h from\"../../../Color.js\";import{px2pt as m}from\"../../../core/screenUtils.js\";import{addTokenParameter as p}from\"../../../kernel.js\";import f from\"../../../request.js\";import g from\"../../../symbols/SimpleFillSymbol.js\";import b from\"../../../symbols/SimpleMarkerSymbol.js\";import\"../../../symbols.js\";import S from\"../../../core/Handles.js\";import{on as _,init as v,watch as w}from\"../../../core/watchUtils.js\";import L from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{applyCIMSymbolColor as E}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as I}from\"../../../symbols/support/utils.js\";import{fromJSON as C}from\"../../../renderers/support/jsonUtils.js\";import{ExportImageParameters as R}from\"../../../layers/support/ExportImageParameters.js\";import{renderColorRampPreviewHTML as F,renderDotDensityPreviewHTML as T,renderPreviewHTML as V}from\"../../../symbols/support/symbolUtils.js\";import{isSupportedRenderer3D as z}from\"../../../renderers/support/rendererConversion.js\";import{getClusterSizeVariable as x}from\"./clusterUtils.js\";import{RGB_IMG_SOURCE as j}from\"./utils.js\";import{getColorFromPointCloudStops as M,getRampStopsForPointCloud as D,getStrectchRampStops as O,getRampStops as P}from\"./colorRampUtils.js\";import{getHeatmapRampStops as B}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as U,getRelationshipRampElement as k}from\"./relationshipRampUtils.js\";import{getRampStops as A,REAL_WORLD_MAX_SIZE as N,REAL_WORLD_MIN_SIZE as W}from\"./sizeRampUtils.js\";const q=s.getLogger(\"esri.widgets.Legend.support.ActiveLayerInfo\"),$=\"https://utility.arcgis.com/sharing/tools/legend\",G=\"esri.layers.ImageryLayer\",J=\"esri.layers.ImageryTileLayer\",H=\"esri.layers.WCSLayer\",X=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,K=new r({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),Q={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Y=new b({size:6,outline:{color:[128,128,128,.5],width:.5}}),Z=new g({style:\"solid\"});function ee(e){return\"vector-field\"===e.type}function te(e){return\"raster-colormap\"===e.type}function le(e){return\"raster-stretch\"===e.type}function se(e){return\"raster-shaded-relief\"===e.type}function ne(e){return\"esri.renderers.SimpleRenderer\"===e.declaredClass}function re(e){return\"esri.renderers.ClassBreaksRenderer\"===e.declaredClass}function ie(e){return\"esri.renderers.UniqueValueRenderer\"===e.declaredClass}function ae(e){return\"esri.renderers.HeatmapRenderer\"===e.declaredClass}function oe(e){return de(e)||ce(e)||ye(e)||ue(e)}function ue(e){return\"esri.renderers.PointCloudRGBRenderer\"===e.declaredClass}function de(e){return\"esri.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function ce(e){return\"esri.renderers.PointCloudStretchRenderer\"===e.declaredClass}function ye(e){return\"esri.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function he(e){return\"esri.renderers.DotDensityRenderer\"===e.declaredClass}function me(e,t){return ne(e)||re(e)||ie(e)||ae(e)||he(e)?\"2d\"===t.type||z(e):le(e)||te(e)||se(e)||de(e)||ce(e)||ye(e)||ee(e)}function pe(e){return\"esri.layers.BuildingSceneLayer\"===e.declaredClass}function fe(e){return\"esri.layers.WMSLayer\"===e.declaredClass}function ge(e){return\"esri.layers.WMTSLayer\"===e.declaredClass}function be(e){return\"esri.layers.MapImageLayer\"===e.declaredClass}function Se(e){return\"esri.layers.TileLayer\"===e.declaredClass}function _e(e){return\"esri.layers.FeatureLayer\"===e.declaredClass}function ve(e){return e.declaredClass===G}function we(e){return e.declaredClass===J}function Le(e){return e.declaredClass===H}function Ee(e){return\"stretch-ramp\"===e.type}function Ie(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)}function Ce(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)&&\"above-and-below\"===(null==t?void 0:t.univariateTheme)}const Re=new b({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let Fe={},Te=class extends d{constructor(e){super(e),this._handles=new S,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new c,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this._handles.add([_(this,\"children\",\"change\",(t=>{const{added:l,removed:s}=t,n=this._handles;l.map((t=>{const l=`activeLayerInfo-ready-watcher-${t.layer.uid}`;n.add(v(t,\"ready\",e),l)})),s.forEach((e=>n.remove(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(Fe={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Fe=null)}get opacity(){var e;const t=this.layer.opacity,l=null==(e=this.parent)?void 0:e.opacity,s=this.layer.parent,n=s&&\"uid\"in s?this._getParentLayerOpacity(s):null;return null!=l?l*t:null!=n?n*t:t}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"featureReduction\"in e&&e.featureReduction&&\"cluster\"===e.featureReduction.type)return!0;if(\"renderer\"in e&&e.renderer){if(\"dot-density\"===e.renderer.type)return!0;const t=e.get(\"renderer.valueExpression\");if(X.test(t))return!0;const l=e.get(\"renderer.visualVariables\");if(l)return l.some((e=>this._isScaleDrivenSizeVariable(e)))}return this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){const t=e.map((e=>{if(_e(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){const t=e.layerDefinition,l=t&&t.drawingInfo,s=l&&C(l.renderer),n=K.read(t.geometryType);return s?this._getRendererLegendElements(s,{title:e.name,geometryType:n}):(q.warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[];await o(t).then((t=>{t.forEach((({value:t})=>t&&e.push(...t)))})),this.legendElements=e,this.notifyChange(\"ready\")}catch(l){q.warn(\"error while building legend for layer!\",l)}}async buildLegendElementsForRenderer(e){try{const t=await this._getRendererLegendElements(e);this.legendElements=t,this.notifyChange(\"ready\")}catch(t){q.warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;ge(e)?this._constructLegendElementsForWMTSlayer():fe(e)?await this._constructLegendElementsForWMSSublayers():pe(e)?await this._constructLegendElementsForBuildingSceneLayer():be(e)||Se(e)||pe(e)?await this._constructLegendElementsForSublayers():(this._handles.remove(\"imageryLayers-watcher\"),await this._getLegendLayers(`${e.uid}-default`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const l=t.map((async t=>{if(ve(e)||we(e)){const t=e.watch([\"renderingRule\",\"bandIds\"],(()=>u((async()=>{Fe.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this._handles.add(t,\"imageryLayers-watcher\")}const l=this._generateSymbolTableElementForLegendLayer(t);l&&l.infos.length&&(ve(e)&&(l.title=e.title),this.legendElements.push(l)),this.notifyChange(\"ready\")}));await o(l)})).catch((e=>{q.warn(\"Request to server for legend has failed!\",e)})))}_getParentLayerOpacity(e){let t=1;const l=e.parent;return l&&\"uid\"in l&&(t=this._getParentLayerOpacity(l)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,l=t.minSize,s=t.maxSize;return\"object\"==typeof l&&l?this._isScaleDrivenSizeVariable(l):\"object\"==typeof s&&s?this._isScaleDrivenSizeVariable(s):!!t.expression||X.test(t.valueExpression)}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&be(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const l of t.sourceJSON.layers)if(l.id===e.source.mapLayerId&&(l.minScale>0||l.maxScale>0))return!0;return!1}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;if(this._handles.add(w(this.layer,\"activeLayer\",(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\"),e.styleId&&e.styles){let t=null;e.styles.some((l=>e.styleId===l.id&&(t=l.legendUrl,!0))),t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(w(this.layer,\"sublayers\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const s=e.toArray();for(const n of s){const e=n.watch([\"title\",\"visible\",\"legendEnabled\"],(()=>this._constructLegendElementsForWMSSublayers()));if(this._handles.add(e,\"wms-sublayers-watcher\"),n.visible&&n.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(n,t);e&&e.infos.length&&l.unshift(e)}}return l}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const l=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){var l;let s=e.legendUrl;if(!s)return;const n={type:\"symbol-table\",title:e.title||e.name||e.id&&e.id+\"\",infos:[]};t&&(s+=\"?\"+a(t));let r=null;const i=null==(l=e.layer)?void 0:l.opacity;try{r=(await f(s,{responseType:\"image\"})).data,r&&(r.style.opacity=i)}catch{}return n.infos.push({src:s,preview:r,opacity:i}),n}_getLegendLayers(e,t){const l=Fe&&Fe[e];return l?Promise.resolve(l):this._legendRequest(t).then((t=>{const l=t.layers;return Fe[e]=l,l}))}_legendRequest(e){const t=this.layer;let l={f:\"json\",dynamicLayers:e};if(ve(t)){const e=t.exportImageServiceParameters.renderingRule;if(e&&(l.renderingRule=JSON.stringify(e.toJSON())),t.bandIds&&(l.bandIds=t.bandIds.join()),t.raster||t.viewId){const{raster:e,viewId:s}=t;l={raster:e,viewId:s,...l}}}let s=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&t.version>=10.01){const e=s.indexOf(\"?\");e>-1?s=s.substring(0,e)+\"/legend\"+s.substring(e):s+=\"/legend\"}else{const e=s.toLowerCase().indexOf(\"/rest/\"),t=s.substring(0,e)+s.substring(e+5,s.length);s=$+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return f(s,{query:l}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(w(e,\"sublayers\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){q.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const s=e.toArray();for(const n of s){const e=n.watch([\"renderer\",\"opacity\",\"title\",\"visible\"],(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this._handles.add(e,\"sublayers-watcher\"),n.visible){const e=n&&null!=n.opacity?n.opacity:null,s=null!=e?e*t:t;if(\"building-group\"===n.type){const e={type:\"symbol-table\",title:n.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(n.sublayers,s);e.infos.push(...t),l=[e,...l]}else if(n.renderer){l=[...await this._getRendererLegendElements(n.renderer,{title:n.title,opacity:s,sublayer:n}),...l]}}}return l.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(w(e,\"sublayers\",(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){q.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForSublayers(e,t,l){const s=this.layer;let n=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let r=e.toArray();!l&&this.sublayerIds&&this.sublayerIds.length&&(r=this.sublayerIds.map((e=>s.findSublayerById(e))).filter(Boolean));for(const i of r){const e=i.watch(\"renderer, opacity, title, visible, legendEnabled\",(()=>this._constructLegendElementsForSublayers()));if(this._handles.add(e,\"sublayers-watcher\"),i.visible&&i.legendEnabled&&(!this.respectLayerVisibility||this._isSublayerInScale(i))){const e=i&&null!=i.opacity?i.opacity:null,s=null!=e?e*t:t;if(i.renderer&&!i.sublayers&&i.originIdOf(\"renderer\")>2){await i.load();n=[...await this._getRendererLegendElements(i.renderer,{title:i.title,opacity:s,sublayer:i}),...n]}else{const e=await this._generateSymbolTableElementForSublayer(i,s,l);e&&n.unshift(e)}}}return n.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,l){if(!l){l=new Map;const t=new R({layer:this.layer}),s=t.hasDynamicLayers?t.dynamicLayers:null;t.destroy();const n=s||`${this.layer.uid}-${e.id}-default`;(await this._getLegendLayers(n,s)).forEach((e=>l.set(e.layerId,e)))}const s=l.get(e.id);if(!s&&e.sublayers){const s=await this._generateLegendElementsForSublayers(e.sublayers,t,l);return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendLayer(s,e,t)}_generateSymbolTableElementForLegendLayer(e,t,l){var s;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const n=null==t?void 0:t.renderer;let r=(null==t?void 0:t.title)||e.layerName;if(n&&(!t||(null==t?void 0:t.originIdOf(\"renderer\"))>2)){const e=(null==t?void 0:t.title)||this._getRendererTitle(n,t);e&&(r&&\"string\"!=typeof e&&\"title\"in e&&(e.title=r),r=e)}const i={type:\"symbol-table\",title:r,legendType:e.legendType?e.legendType:null,infos:[]},a=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return(null==(s=e.legendGroups)?void 0:s.length)>0?e.legendGroups.forEach((t=>{var s;const n={type:\"symbol-table\",title:t.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(a.filter((e=>e.groupId===t.id)),e.layerId,l)};(null==(s=n.infos)?void 0:s.length)>0&&i.infos.push(n)})):i.infos=this._generateSymbolTableElementInfosForLegendLayer(a,e.layerId,l),i.infos.length>0?i:null}_generateSymbolTableElementInfosForLegendLayer(e,t,l){return e.map((e=>{let s=e.url;if(e.imageData&&e.imageData.length>0)s=`data:image/png;base64,${e.imageData}`;else{if(0===s.indexOf(\"http\"))return null;s=p(`${this.layer.url}/${t}/images/${s}`)}return{label:e.label,src:s,opacity:null==l?this.opacity:l,width:e.width,height:e.height}})).filter((e=>!!e))}_isSublayerInScale(e){const t=e.minScale||0,l=e.maxScale||0;return!(t>0&&t<this.scale||l>this.scale)}_isLegendLayerInScale(e,t){const l=t||this.layer;let s=null,n=null,r=!0;return!l.minScale&&0!==l.minScale||!l.maxScale&&0!==l.maxScale?(0===e.minScale&&l.tileInfo&&(s=l.tileInfo.lods[0].scale),0===e.maxScale&&l.tileInfo&&(n=l.tileInfo.lods[l.tileInfo.lods.length-1].scale)):(s=Math.min(l.minScale,e.minScale)||l.minScale||e.minScale,n=Math.max(l.maxScale,e.maxScale)),(s>0&&s<this.scale||n>this.scale)&&(r=!1),r}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&this.layer.version<10.1||0===e.length)return e;const l=t.renderer,s=e.some((e=>e.values));let n=null,r=null;return s&&e.some(((e,t)=>(e.values||(n=t,r=e,r.label||(r.label=\"others\")),null!=r))),l?\"unique-value\"===l.type?r&&(e.splice(n,1),e.push(r)):\"class-breaks\"===l.type&&(r&&e.splice(n,1),e.reverse(),r&&e.push(r)):r&&(e.splice(n,1),e.push(r)),e}async _getRendererLegendElements(e,t={}){return me(e,this.view)?oe(e)?this._constructPointCloudRendererLegendElements(e,t):he(e)?this._constructDotDensityRendererLegendElements(e):this._constructRendererLegendElements(e,t):(q.warn(`Renderer of type '${e.type}' not supported!`),[])}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const l=t.title,s=[];let n=null,r=null;if(de(e))n={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{n.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(Y,e.color)})}));else if(ce(e)){const t=e.stops;let s=null;if(t.length&&(1===t.length&&(s=t[0].color),!s)){const e=t[0].value,l=t[t.length-1].value;if(null!=e&&null!=l){s=M(e+(l-e)/2,t)}}n={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(Y,s||Y.color)}]};const i=D(e.stops);r={type:\"color-ramp\",title:l||this._getPointCloudRendererTitle(e),infos:i,preview:F(i.map((e=>e.color)))}}else ye(e)&&(n={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((e=>{n.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(Y,e.color)})})));n&&n.infos.length&&s.push(n),r&&r.infos.length&&s.push(r);const i=s.reduce(((e,t)=>e.concat(t.infos)),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return o(i).then((()=>s))}_getElementInfoForDotDensity(e,t){const{backgroundColor:l,outline:s,dotSize:n}=e,r=n+\"-\"+t+\"-\"+l+\"-\"+(s&&JSON.stringify(s.toJSON())),i=this._dotDensityUrlCache,a=i.has(r)?i.get(r):T(e,t);return i.set(r,a),{opacity:1,src:a.src,preview:a,width:a.width,height:a.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),l=e.legendOptions&&e.legendOptions.unit,s={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:l||\"\"},infos:[]};return e.attributes.forEach((t=>{const l=this._getElementInfoForDotDensity(e,t.color);l.label=t.label||t.valueExpressionTitle||t.field,s.infos.push(l)})),Promise.resolve([s])}async _constructRendererLegendElements(e,l={}){const{title:s,sublayer:n}=l,r=n||this.layer;let i=await this._loadRenderer(e);this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const a=await this._getVisualVariableLegendElements(i,r)||[],u={type:\"symbol-table\",title:s||this._getRendererTitle(i,r),infos:[]};let d=null,c=!1;const y=new Set;if(Ie(i)){let e=s;const t=Ce(i)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",l=a.findIndex((e=>\"color-ramp\"===e.type)),n=a.splice(l,1)[0],r=a.findIndex((e=>\"size-ramp\"===e.type)),o=a.splice(r,1)[0],u=[];n&&(e=n.title,u.push(n)),o&&(e=o.title,u.push(o)),u.length>0&&a.push({type:t,title:e,infos:u})}else if(ae(i)){const e=B(i);a.push({type:\"heatmap-ramp\",title:s,infos:e,preview:F(e.map((e=>e.color)))})}else if(ie(i)){const e=i&&i.authoringInfo;if(e&&\"relationship\"===e.type){const{focus:t,numClasses:l,field1:s,field2:n}=e;if(l&&s&&n){const e=[s,n];let o=U(t)||0;for(const t of e){const{field:e,normalizationField:l,label:s}=t,n=s||{field:this._getFieldAlias(e,r),normField:l&&this._getFieldAlias(l,r)},i=Re.clone();i.angle=o,u.infos.push({label:n,symbol:i}),y.add(i),o+=90}const d=k({focus:t,numClasses:l,infos:i.uniqueValueInfos});a.unshift(d)}}else{const e=i.field;i.uniqueValueInfos.forEach((t=>{t.symbol&&u.infos.push({label:t.label||this._getDomainName(e,t.value,r)||t.value,value:t.value,symbol:t.symbol})}))}i.defaultSymbol&&(u.infos.push({label:i.defaultLabel||\"others\",symbol:i.defaultSymbol}),c=!0)}else if(re(i)){d=this._isUnclassedRenderer(i);(!d||!this._hasSizeRamp)&&(i.classBreakInfos.forEach((e=>{e.symbol&&u.infos.unshift({label:e.label||(d?null:e.minValue+\" - \"+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),d&&(u.title=null),this._updateInfosforClassedSizeRenderer(i,u.infos)),i.defaultSymbol&&!d&&(u.infos.push({label:i.defaultLabel||\"others\",symbol:i.defaultSymbol}),c=!0)}else if(le(i)){var h,m;if(we(this.layer)&&\"Map\"===(null==(h=this.layer)||null==(m=h.raster)?void 0:m.tileType))this._getServerSideLegend();else if(we(this.layer)||Le(this.layer)){const e=this._constructTileImageryStretchRendererElements(i);Ee(e)?a.push(e):u.infos=e}else{const e=this.layer;let l,s;var p,f;if(i.statistics&&i.statistics.length)l=null!=i.statistics[0].min?i.statistics[0].min:i.statistics[0][0],s=null!=i.statistics[0].max?i.statistics[0].max:i.statistics[0][1];else l=null==(p=i)?void 0:p.outputMin,s=null==(f=i)?void 0:f.outputMax;let n=[];const r=t(e.renderingRule?await e.generateRasterInfo(e.renderingRule):e.serviceRasterInfo),o=r.keyProperties.BandProperties;1===r.bandCount?(l=null!=l?l:r.statistics&&r.statistics[0].min,s=null!=s?s:r.statistics&&r.statistics[0].max,l||s?a.push(this._getStretchLegendElements(i,{min:l,max:s})):this._getServerSideLegend()):e.bandIds&&1===e.bandIds.length?(l=null!=l?l:r.statistics&&r.statistics[e.bandIds[0]].min,s=null!=s?s:r.statistics&&r.statistics[e.bandIds[0]].max,l||s?a.push(this._getStretchLegendElements(i,{min:l,max:s})):this._getServerSideLegend()):r.bandCount>=3?o&&o.length>=r.bandCount?e.bandIds&&3===e.bandIds.length?(n=e.bandIds.map((e=>o[e].BandName)),u.infos=this._createSymbolTableElementMultiBand(n)):\"lerc\"===e.format?(n=[0,1,2].map((e=>o[e].BandName)),u.infos=this._createSymbolTableElementMultiBand(n)):this._getServerSideLegend():\"lerc\"===e.format?(n=[\"band1\",\"band2\",\"band3\"],u.infos=this._createSymbolTableElementMultiBand(n)):this._getServerSideLegend():this._getServerSideLegend()}}else if(te(i))i.colormapInfos.forEach((e=>{u.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(Z,e.color)})}));else if(ne(i)){let e=i.symbol;switch(l.geometryType){case\"point\":e=\"pointSymbol\"in r&&r.pointSymbol;break;case\"polyline\":e=\"lineSymbol\"in r&&r.lineSymbol;break;case\"polygon\":e=\"polygonSymbol\"in r&&r.polygonSymbol}i.symbol&&!this._hasSizeRamp&&u.infos.push({label:i.label,symbol:e})}else if(ee(i)){i.outputUnit&&(this.title=\"(\"+i.toJSON().outputUnit+\")\"),u.title=i.attributeField;const e=i.getClassBreakInfos();null!=e&&e.length?e.forEach((e=>{u.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):u.infos.push({label:i.attributeField,symbol:i.getDefaultSymbol()})}else se(i)&&a.push(this._getStretchLegendElements(i,{min:0,max:255}));const g=i.defaultSymbol;!g||c||ne(i)||d&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||a.push({type:\"symbol-table\",infos:[{label:i.defaultLabel||\"others\",symbol:g}]}),u.infos.length&&a.unshift(u);const b=null==l.opacity?this.opacity:l.opacity,S=this._isTallSymbol(\"visualVariables\"in i&&i.visualVariables),_=ve(this.layer)||we(this.layer),v=a.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!(!e||!e.symbol))).map((e=>this._getSymbolPreview(e,b,{applyScaleDrivenSize:!y.has(e.symbol),symbolConfig:{isTall:S,isSquareFill:_}})));return i=null,await o(v),a}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=null==e?void 0:e.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}_constructTileImageryStretchRendererElements(e){var t,l;const s=this.layer,n=s.rasterInfo,r=n.bandCount||e.statistics.length;let i,a,o=[];const u=n.keyProperties&&n.keyProperties.BandProperties,d=null!=e&&null!=(t=e.statistics)&&t.length?e.statistics:null==n?void 0:n.statistics;if(d)i=void 0!==d[0].min?d[0].min:d[0][0],a=d[0].max||d[0][1];else{const e=Q[s.rasterInfo.pixelType.toLowerCase()];i=e[0],a=e[1]}if(1===n.bandCount||1===(null==(l=s.bandIds)?void 0:l.length))return this._getStretchLegendElements(e,{min:i,max:a});function c(e){var t;const l=(null!=s&&null!=(t=s.bandIds)&&t.length?s.bandIds:Array.from(Array(Math.min(n.bandCount,3)).keys())).map((t=>e&&e[t]&&e[t].BandName||\"band\"+(t+1)));return l.length<3?l.push(l[1]):l.length>3&&l.splice(3),l}return o=u&&u.length>=r?c(u):c(),this._createSymbolTableElementMultiBand(o)}_getStretchLegendElements(e,t){const l=e.colorRamp,s=O(l,t);return{type:\"stretch-ramp\",title:\"\",infos:s,preview:F(s.map((e=>e.color)))}}_createSymbolTableElementMultiBand(e){const t=[],l=[\"red\",\"green\",\"blue\"];return e.forEach(((e,s)=>{t.push({label:{colorName:l[s],bandName:e},src:j[s],opacity:1})})),t}_updateInfosforClassedSizeRenderer(e,t){const l=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,s=e.classBreakInfos.some((e=>I(e.symbol)));if(l&&s){const l=N,s=W,n=e.classBreakInfos.length,r=(l-s)/(n>1?n-1:n);t.forEach(((e,t)=>{e.size=l-r*t}))}}_isTallSymbol(e){let t=!1,l=!1;if(e)for(let s=0;s<e.length&&(!t||!l);s++){const n=e[s];\"size\"===n.type&&(\"height\"===n.axis&&(t=!0),\"width-and-depth\"===n.axis&&(l=!0))}return t&&l}async _getSymbolPreview(e,t,l){let s=null==e.size&&this._hasSizeRamp?m(22):e.size;if(this._scaleDrivenSizeVariable&&null!=l&&l.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");s=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}return V(e.symbol,{size:s,opacity:t,scale:!1,symbolConfig:null==l?void 0:l.symbolConfig}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}async _loadRenderer(e){var l,s;const n=[],r=this.layer;e=e.clone(),this._hasClusterSizeVariable=!1;const i=\"visualVariables\"in e&&(null==(l=e.visualVariables)?void 0:l.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!X.test(e.valueExpression))));if(e&&\"visualVariables\"in e&&!i&&\"featureReduction\"in r&&\"cluster\"===(null==(s=r.featureReduction)?void 0:s.type)){const l=this.layerView._effectiveRenderer,s=t(x(l,this.view));if(s){const t=r.featureReduction;if(\"clusterMinSize\"in t&&\"clusterMaxSize\"in t){const{clusterMinSize:e,clusterMaxSize:l}=t;s.legendOptions=new L({showLegend:e!==l})}const l=e.visualVariables||[];e.visualVariables=l.concat([s]),this._hasClusterSizeVariable=!0}}const a=await this._getMedianColor(e);if(re(e)||ie(e)){const t=(e.classBreakInfos||e.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,a).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(n,t)}return n.push(this._fetchSymbol(e.symbol||e.defaultSymbol,e.defaultSymbol?null:a).then((t=>{this._applySymbolToRenderer(e,t,ne(e))})).catch((()=>{this._applySymbolToRenderer(e,null,ne(e))}))),o(n).then((()=>e))}_applySymbolToRenderer(e,t,l){l?e.symbol=t:e.defaultSymbol=t}async _getMedianColor(e){if(!(\"visualVariables\"in e)||!e.visualVariables)return null;const t=e.visualVariables.find((e=>\"color\"===e.type));if(!t)return null;let l=null,s=null;if(t.stops){if(1===t.stops.length)return t.stops[0].color;l=t.stops[0].value,s=t.stops[t.stops.length-1].value}const n=l+(s-l)/2,{getColor:r}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return r(t,n)}_fetchSymbol(e,t){if(!e)return Promise.reject();if(\"web-style\"===e.type){const l=e.portal,s=l&&l.url,n=l&&l.user&&l.user.username,r=e.name+\"-\"+e.styleName+\"-\"+e.styleUrl+\"-\"+s+\"-\"+n,i=this._webStyleSymbolCache;return i.has(r)||(\"2d\"===this.view.type?i.set(r,e.fetchCIMSymbol()):i.set(r,e.fetchSymbol())),i.get(r).then((e=>this._getAppliedCloneSymbol(e,t))).catch((()=>(q.warn(\"Fetching web-style failed!\"),Promise.reject())))}return Promise.resolve(this._getAppliedCloneSymbol(e,t))}_getAppliedCloneSymbol(e,t){if(!e||!t)return e;const l=e.clone(),s=t&&t.toRgba();return l.type.indexOf(\"3d\")>-1?this._applyColorTo3dSymbol(l,s):\"cim\"===l.type?E(l,t):l.color&&(l.color=new h(s||l.color)),l}_applyColorTo3dSymbol(e,t){t&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new h(t))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||!e.visualVariables||\"vector-field\"===e.type)return null;const s=e.visualVariables,n=[],r=[],i=[];for(const l of s)\"color\"===l.type?n.push(l):\"size\"===l.type?r.push(l):\"opacity\"===l.type&&i.push(l);const a=[...n,...r,...i];let o,u;if(0===n.length&&re(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];o=t&&t.symbol}if(0===n.length&&ne(e)&&(o=e.symbol),o)if(o.type.indexOf(\"3d\")>-1){const e=o.symbolLayers.getItemAt(0);\"water\"===e.type?l(e.color)&&(u=e.color):l(e.material)&&l(e.material.color)&&(u=e.material.color)}else o.url||(u=o.color);return(await Promise.all(a.map((async l=>{if(!l.legendOptions||!1!==l.legendOptions.showLegend){const s=this._getRampTitle(l,t);let n=null;const r=\"getField\"in t&&t.getField&&t.getField(l.field),i=r&&y(r);if(\"color\"===l.type){const e=await P(l,null,i);n={type:\"color-ramp\",title:s,infos:e,preview:F(e.map((e=>e.color)))},this._hasColorRamp||(this._hasColorRamp=!(null==n.infos||!n.infos.length))}else if(\"size\"===l.type&&\"outline\"!==l.target)X.test(l.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=l):(n={type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(l):s,infos:await A(e,l,await this._getMedianColor(e),this.scale,this.view.type,i)},this._hasSizeRamp||(this._hasSizeRamp=!(null==n.infos||!n.infos.length)));else if(\"opacity\"===l.type){const e=await P(l,u,i);n={type:\"opacity-ramp\",title:s,infos:e,preview:F(e.map((e=>e.color)))},this._hasOpacityRamp||(this._hasOpacityRamp=!(null==n.infos||!n.infos.length))}return n&&n.infos?n:null}})))).filter((e=>!!e))}_getDomainName(e,t,l){if(e&&\"function\"!=typeof e){const s=\"getField\"in l&&l.getField&&l.getField(e),n=s&&\"getFieldDomain\"in l&&l.getFieldDomain?l.getFieldDomain(s.name):null;return n&&\"coded-value\"===n.type?n.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,l=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,s=\"popupTemplate\"in e&&e.popupTemplate,n=s&&s.fieldInfos;if(n)for(const t of n)if(t.fieldName===l)return\"cluster_count\"===l?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let l=e.field,s=e.normalizationField,n=!1,r=!1,i=!1,a=null;l=\"function\"==typeof l?null:l,s=\"function\"==typeof s?null:s;const o=e.legendOptions&&e.legendOptions.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const l=e[t];if(\"color\"===l.type){if(\"ratio\"===l.style){n=!0;break}if(\"percent\"===l.style){r=!0;break}if(\"percent-of-total\"===l.style){i=!0;break}}}}a={field:l&&this._getFieldAlias(l,t),normField:s&&this._getFieldAlias(s,t),ratio:n,ratioPercent:r,ratioPercentTotal:i}}return a}_getRendererTitle(e,t){const l=e;if(l.legendOptions&&l.legendOptions.title)return l.legendOptions.title;if(l.valueExpressionTitle)return l.valueExpressionTitle;let s=l.field,n=null,r=null;re(l)&&(n=l.normalizationField,r=\"percent-of-total\"===l.normalizationType),s=\"function\"==typeof s?null:s,n=\"function\"==typeof n?null:n;let i=null;return(s||n)&&(i={field:s&&this._getFieldAlias(s,t),normField:n&&this._getFieldAlias(n,t),normByPct:r}),i}_getFieldAlias(e,t){const l=\"popupTemplate\"in t&&t.popupTemplate,s=l&&l.fieldInfos;let n=null;s&&s.some((t=>e===t.fieldName&&(n=t,!0)));let r=null;\"getField\"in t&&t.getField?r=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(r=t.fieldsIndex.get(e));const i=n||r;let a=null;return i&&(a=n&&n.label||r&&r.alias||\"name\"in i&&i.name||\"fieldName\"in i&&i.fieldName),a}_isUnclassedRenderer(e){const t=e.visualVariables;let l=!1;return re(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(l=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),l}};e([n()],Te.prototype,\"children\",void 0),e([n()],Te.prototype,\"layerView\",void 0),e([n()],Te.prototype,\"layer\",void 0),e([n()],Te.prototype,\"legendElements\",void 0),e([n({readOnly:!0})],Te.prototype,\"opacity\",null),e([n()],Te.prototype,\"parent\",void 0),e([n({readOnly:!0,dependsOn:[]})],Te.prototype,\"ready\",null),e([n()],Te.prototype,\"keepCacheOnDestroy\",void 0),e([n()],Te.prototype,\"respectLayerVisibility\",void 0),e([n({readOnly:!0})],Te.prototype,\"scale\",null),e([n()],Te.prototype,\"sublayerIds\",void 0),e([n({readOnly:!0})],Te.prototype,\"isScaleDriven\",null),e([n()],Te.prototype,\"title\",void 0),e([n({readOnly:!0,dependsOn:[\"ready\"],value:0})],Te.prototype,\"version\",null),e([n()],Te.prototype,\"view\",void 0),Te=e([i(\"esri.widgets.Legend.support.ActiveLayerInfo\")],Te);var Ve=Te;export default Ve;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import s from\"../../core/Accessor.js\";import t from\"../../core/Collection.js\";import{onLocaleChange as a}from\"../../intl/locale.js\";import\"../../intl.js\";import n from\"../../core/Handles.js\";import{init as o,watch as l,whenTrue as y}from\"../../core/watchUtils.js\";import d from\"./support/ActiveLayerInfo.js\";const h={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},c=t.ofType(d),L=[\"esri.layers.BuildingSceneLayer\",\"esri.layers.CSVLayer\",\"esri.layers.FeatureLayer\",\"esri.layers.GeoJSONLayer\",\"esri.layers.GeoRSSLayer\",\"esri.layers.GroupLayer\",\"esri.layers.HeatmapLayer\",\"esri.layers.ImageryLayer\",\"esri.layers.ImageryTileLayer\",\"esri.layers.MapImageLayer\",\"esri.layers.OGCFeatureLayer\",\"esri.layers.PointCloudLayer\",\"esri.layers.StreamLayer\",\"esri.layers.SceneLayer\",\"esri.layers.TileLayer\",\"esri.layers.WMSLayer\",\"esri.layers.WMTSLayer\",\"esri.layers.WCSLayer\"],_=\"view.basemapView.baseLayerViews\",f=\"view.groundView.layerViews\",p=\"view.basemapView.referenceLayerViews\",v=[_,f,\"view.layerViews\",p];let u=class extends s{constructor(e){super(e),this._handles=new n,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new t,this.activeLayerInfos=new c,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(o(this,\"view\",this._viewHandles),h.view),this._handles.add(a((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}_viewHandles(){this._handles.remove(h.state),this.view&&this._handles.add(o(this,\"state\",this._stateHandles),h.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([h.allLayerViews,h.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i&&i.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on(\"change\",this._allLayerViewsChangeHandle.bind(this)),h.allLayerViews),this._handles.add(l(this,\"layerInfos, basemapLegendVisible, groundLegendVisible\",this._propertiesChangeHandle.bind(this)),h.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const i=[];e.forEach((r=>{if(!r.parent){const s=r.layer.parent,t=s&&\"uid\"in s&&this._layerViewByLayerId[s.uid],a=t&&this._activeLayerInfosByLayerViewId[t.uid];a&&-1!==e.indexOf(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const r={};this.view.allLayerViews.forEach(((e,i)=>r[e.layer.uid]=i)),e.sort(((e,i)=>{const s=r[e.layer.uid]||0;return(r[i.layer.uid]||0)-s}))}_generateLayerViews(){const e=[];return v.filter(this._filterLayerViews,this).map(this.get,this).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===_||e===p),r=!this.groundLegendVisible&&e===f;return!i&&!r}_collectLayerViews(e,i){const r=s=>(s&&s.forEach((s=>{i.push(s),r(s[e])})),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some((i=>this._hasLayerInfo(i,e)))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some((e=>this._isLayerUIDMatching(e,i)))}_isLayerViewSupported(e){return L.indexOf(e.layer.declaredClass)>-1&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(l(e,\"legendEnabled, layer.legendEnabled\",(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get(\"layer.legendEnabled\")}_buildActiveLayerInfo(e){var i;const r=e.layer,s=e.uid,t=this._layerInfosByLayerViewId[s];let a=this._activeLayerInfosByLayerViewId[s];if(!a){const i=t&&void 0!==t.title&&t.layer.uid===r.uid;a=new d({layer:r,layerView:e,title:i?t.title:r.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:t&&t.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[s]=a}const n=r.parent&&\"uid\"in r.parent&&this._layerViewByLayerId[null==(i=r.parent)?void 0:i.uid];if(a.parent=this._activeLayerInfosByLayerViewId[null==n?void 0:n.uid],!this._handles.has(s)){const i=[l(r,\"title\",(e=>this._titleHandle(e,a))),l(r,\"renderer?, opacity, pointSymbol?, lineSymbol?, polygonSymbol?\",(()=>this._constructLegendElements(a))),y(this.view,\"stationary\",(()=>this._scaleHandle(a))),l(e,\"_effectiveRenderer\",(()=>this._constructLegendElements(a)))];if(this.respectLayerVisibility){const s=l(e,\"legendEnabled\",(e=>this._legendEnabledHandle(e,a))),t=l(r,\"legendEnabled\",(e=>this._legendEnabledHandle(e,a)));i.push(s,t)}this._handles.add(i,s)}a.isScaleDriven||this._constructLegendElements(a),this._addActiveLayerInfo(a)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){e.isScaleDriven&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&-1===this.activeLayerInfos.indexOf(e)){const i=e.parent;if(i)-1===i.children.indexOf(e)&&i.children.push(e),this._sortActiveLayerInfos(i.children);else{var s;const i=null==(s=this.layerInfos)?void 0:s.some((e=>e.layer.uid===r.uid));r.parent&&\"uid\"in r.parent&&!i?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((i=>{const r=i.layer.parent,s=r&&\"uid\"in r&&this._layerViewByLayerId[null==r?void 0:r.uid],t=this._activeLayerInfosByLayerViewId[null==s?void 0:s.uid];t&&(e.push(i),i.parent=t)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;\"featureCollections\"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):\"renderer\"in i&&i.renderer?e.buildLegendElementsForRenderer(i.renderer):\"url\"in i&&i.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([i({type:c})],u.prototype,\"activeLayerInfos\",void 0),e([i()],u.prototype,\"basemapLegendVisible\",void 0),e([i()],u.prototype,\"groundLegendVisible\",void 0),e([i()],u.prototype,\"keepCacheOnDestroy\",void 0),e([i()],u.prototype,\"respectLayerVisibility\",void 0),e([i()],u.prototype,\"layerInfos\",void 0),e([i({readOnly:!0})],u.prototype,\"state\",null),e([i()],u.prototype,\"view\",void 0),u=e([r(\"esri.widgets.Legend.LegendViewModel\")],u);var I=u;export default I;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{classes as e}from\"../../../support/widgetUtils.js\";import{j as a}from\"../../../../chunks/index.js\";import{generateFillAttributes as r,generateStrokeAttributes as l,renderDef as t,renderShape as s,getBoundingBox as i,computeBBox as o,getTransformMatrix as n}from\"../../../../symbols/support/svgUtils.js\";const d=\"http://www.w3.org/2000/svg\",m={diamondContainer:\"esri-relationship-ramp--diamond__container\",diamondLeftCol:\"esri-relationship-ramp--diamond__left-column\",diamondRightCol:\"esri-relationship-ramp--diamond__right-column\",diamondMidCol:\"esri-relationship-ramp--diamond__middle-column\",diamondMidColLabel:\"esri-relationship-ramp--diamond__middle-column--label\",diamondMidColRamp:\"esri-relationship-ramp--diamond__middle-column--ramp\",squareTable:\"esri-relationship-ramp--square__table\",squareTableRow:\"esri-relationship-ramp--square__table-row\",squareTableCell:\"esri-relationship-ramp--square__table-cell\",squareTableLabel:\"esri-relationship-ramp--square__table-label\",squareTableLabelLeftBottom:\"esri-relationship-ramp--square__table-label--left-bottom\",squareTableLabelRightBottom:\"esri-relationship-ramp--square__table-label--right-bottom\",squareTableLabelLeftTop:\"esri-relationship-ramp--square__table-label--left-top\",squareTableLabelRightTop:\"esri-relationship-ramp--square__table-label--right-top\"};function u(r,l,t){const{focus:s,labels:i}=r,o=!!s,n=p(r,l,t);return o?a(\"div\",{class:m.diamondContainer},a(\"div\",{class:m.diamondLeftCol},i.left),a(\"div\",{class:m.diamondMidCol},a(\"div\",{class:m.diamondMidColLabel},i.top),n,a(\"div\",{class:m.diamondMidColLabel},i.bottom)),a(\"div\",{class:m.diamondRightCol},i.right)):a(\"div\",{class:m.squareTable},a(\"div\",{class:m.squareTableRow},a(\"div\",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelRightBottom)},i.left),a(\"div\",{class:m.squareTableCell}),a(\"div\",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelLeftBottom)},i.top)),a(\"div\",{class:m.squareTableRow},a(\"div\",{class:m.squareTableCell}),n,a(\"div\",{class:m.squareTableCell})),a(\"div\",{class:m.squareTableRow},a(\"div\",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelRightTop)},i.bottom),a(\"div\",{class:m.squareTableCell}),a(\"div\",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelLeftTop)},i.right)))}function b(e,a,r){const l=`${r}_arrowStart`,t=`${r}_arrowEnd`,s=\"left\"===e,i={markerStart:null,markerEnd:null};switch(a){case\"HL\":s?i.markerStart=`url(#${t})`:i.markerEnd=`url(#${l})`;break;case\"LL\":i.markerStart=`url(#${t})`;break;case\"LH\":s?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${t})`;break;default:i.markerEnd=`url(#${l})`}return i}function p(e,u,p,c=60){const{focus:h,numClasses:k,colors:q,rotation:f}=e,T=!!h,_=Math.sqrt(c**2+c**2)+(T?0:5);let L=null;null!=p&&(L=`opacity: ${p}`);const g=[],C=[],v=[],w=(c||75)/k;for(let a=0;a<k;a++){const e=a*w;for(let o=0;o<k;o++){const n=o*w,d=r(q[a][o]),m=l(null),u={type:\"rect\",x:n,y:e,width:w,height:w};g.push(t(d)),C.push(s(u,d.fill,m,null)),v.push(i(u))}}const x=10,y=15,R=15,$=10;let E=null;T||(E=\"margin: -15px -15px -18px -15px\");const M=b(\"left\",h,u),S=b(\"right\",h,u),j=o(v),B=n(j,_,_,0,!1,f,!1),H=n(j,_,_,0,!1,T?-45:null,!1);return a(\"div\",{style:L,class:T?m.diamondMidColRamp:m.squareTableCell},a(\"svg\",{xmlns:d,width:_,height:_,style:E},a(\"defs\",null,a(\"marker\",{id:`${u}_arrowStart`,markerWidth:\"10\",markerHeight:\"10\",refX:\"5\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},a(\"polyline\",{points:\"0,0 5,5 0,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),a(\"marker\",{id:`${u}_arrowEnd`,markerWidth:\"10\",markerHeight:\"10\",refX:\"0\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},a(\"polyline\",{points:\"5,0 0,5 5,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),g),a(\"g\",{transform:B},C),a(\"g\",{transform:H},a(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":M.markerStart,\"marker-end\":M.markerEnd,x1:-x,y1:c-y,x2:-x,y2:y}),a(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":S.markerStart,\"marker-end\":S.markerEnd,x1:R,y1:c+$,x2:c-R,y2:c+$}))))}export{u as renderRelationshipRamp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../support/widgetUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{j as o}from\"../../../../chunks/index.js\";import{renderColorRampPreviewHTML as i}from\"../../../../symbols/support/symbolUtils.js\";const l=t(),r=10,n=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",colorRamp:\"esri-legend__color-ramp\"};function f(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?o(\"svg\",{height:\"4\",width:\"10\"},o(\"line\",{x1:\"0\",y1:\"2\",x2:\"10\",y2:\"2\",style:t})):o(\"svg\",{height:\"10\",width:\"10\"},o(\"line\",{x1:\"5\",y1:\"0\",x2:\"5\",y2:\"10\",style:t}))}function p(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${n}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),l.append(o,f.bind(null,t)),o}function m(t,o,i=\"vertical\",l){t.infos.forEach(((t,r)=>{if(l&&2===r)t.preview=p(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),l=\"div\"===t.preview.tagName.toLowerCase(),r=l?t.preview:document.createElement(\"div\");r.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?r.style.width=`${o}px`:r.style.height=`${o}px`,l||r.appendChild(t.preview),t.preview=r}}))}function u(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function v(e,t){if(!e)return null;const o=e.infos.map((e=>e.color)),l=i(\"full\"===t.type?o:\"above\"===t.type?o.slice(0,3):o.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment});return l.className=c.colorRamp,null!=t.opacity&&(l.style.opacity=t.opacity.toString()),l}function h(t,o,i,l=\"vertical\"){let c=0;const f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p;for(let v=m;v<=u;v++)if(i&&v===p)c+=\"horizontal\"===l?r:n;else{c+=e(f[v].size)+(\"horizontal\"===l?a:s)}return Math.round(c)}function y(t,o,i,l=\"vertical\"){const c=h(t,o,i,l),f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p,v=\"full\"===o?f[m].size+f[u].size:\"above\"===o?f[m].size:f[u].size,y=i?\"vertical\"===l?n:r:0,d=\"vertical\"===l?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(v)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let l=i.filter((({type:e})=>\"size-ramp\"===e))[0],r=i.filter((({type:e})=>\"color-ramp\"===e))[0];var n;(l&&(l={...l},l.infos=[...l.infos]),r&&(r={...r},r.infos=[...r.infos]),m(l,t,o,!0),\"horizontal\"===o)&&(l.infos.reverse(),null==(n=r)||n.infos.reverse());return{sizeRampElement:l,colorRampElement:r}}function g(e,t=\"vertical\"){const o=e.infos;let i=o.filter((({type:e})=>\"size-ramp\"===e))[0],l=o.filter((({type:e})=>\"color-ramp\"===e))[0];var r;(i&&(i={...i},i.infos=[...i.infos]),l&&(l={...l},l.infos=[...l.infos]),m(i,null,t,!1),\"horizontal\"===t)&&(i.infos.reverse(),null==(r=l)||r.infos.reverse());return{sizeRampElement:i,colorRampElement:l}}export{d as getUnivariateAboveAndBelowRampElements,u as getUnivariateColorRampMargin,v as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,g as getUnivariateColorSizeRampElements,h as getUnivariateSizeRampSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{substitute as e}from\"../../../intl/substitute.js\";import\"../../../intl.js\";function n(e,n){return n}function t(e){const n=this;e.appendChild(n)}function r(t,r,i){if(!r)return;if(\"string\"==typeof r||\"number\"==typeof r)return r;if(\"value\"in r||\"unit\"in r)return e(t.dotValue,r);if(\"colorName\"in r||\"bandName\"in r)return t[r.colorName]+\": \"+(t[r.bandName]||r.bandName);if(\"showCount\"in r)return r.showCount?t.clusterCountTitle:null;let l=null;return n(r,i)?l=r.ratioPercentTotal?\"showRatioPercentTotal\":r.ratioPercent?\"showRatioPercent\":r.ratio?\"showRatio\":r.normField?\"showNormField\":r.field?\"showField\":null:o(r,i)&&(l=r.normField?\"showNormField\":r.normByPct?\"showNormPct\":r.field?\"showField\":null),l?e(\"showField\"===l?\"{field}\":t[l],{field:r.field,normField:r.normField}):null}function o(e,n){return!n}function i(e,n){return!!(n&&\"Stretched\"===n&&e.version>=10.3&&\"esri.layers.ImageryLayer\"===e.declaredClass)}export{t as attachToNode,r as getTitle,i as isImageryStretchedLegend,o as isRendererTitle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{pt2px as i}from\"../../../core/screenUtils.js\";import{substitute as r}from\"../../../intl/substitute.js\";import\"../../../intl.js\";import a from\"../../../core/Handles.js\";import\"../../support/widgetUtils.js\";import{accessibleHandler as o}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as l}from\"../../support/decorators/messageBundle.js\";import{j as n}from\"../../../chunks/index.js\";import c from\"../../Widget.js\";import{renderSVG as d}from\"../../../symbols/support/svgUtils.js\";import{renderRelationshipRamp as p}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as m,getUnivariateSizeRampSize as h,getUnivariateColorRampSize as y,getUnivariateColorRampPreview as g,getUnivariateColorRampMargin as _,getUnivariateColorSizeRampElements as v}from\"./support/univariateUtils.js\";import{getTitle as u,attachToNode as b,isImageryStretchedLegend as f}from\"../support/styleUtils.js\";const w={activated:\"esri-legend--card__carousel-indicator--activated\",base:\"esri-legend--card\",stacked:\"esri-legend--stacked\",carouselTitle:\"esri-legend--card__carousel-title\",indicator:\"esri-legend--card__carousel-indicator\",intervalSeparator:\"esri-legend--card__interval-separator\",imageryLayerStretchedImage:\"esri-legend--card__imagery-layer-image--stretched\",imageLabel:\"esri-legend--card__image-label\",layerCaption:\"esri-legend--card__layer-caption\",labelElement:\"esri-legend--card__label-element\",layerRow:\"esri-legend--card__layer-row\",labelCell:\"esri-legend--card__label-cell\",message:\"esri-legend--card__message\",rampLabel:\"esri-legend--card__ramp-label\",section:\"esri-legend--card__section\",relationshipSection:\"esri-legend--card__relationship-section\",serviceCaptionText:\"esri-legend--card__service-caption-text\",serviceContent:\"esri-legend--card__service-content\",service:\"esri-legend--card__service\",groupLayer:\"esri-legend--card__group-layer\",groupLayerChild:\"esri-legend--card__group-layer-child\",symbol:\"esri-legend--card__symbol\",sizeRampRow:\"esri-legend--card__size-ramp-row\",symbolRow:\"esri-legend--card__symbol-row\",symbolCell:\"esri-legend--card__symbol-cell\",indicatorContainer:\"esri-legend--card__carousel-indicator-container\",intervalSeparatorsContainer:\"esri-legend--card__interval-separators-container\",relationshipLabelContainer:\"esri-legend--card__relationship-label-container\",labelContainer:\"esri-legend--card__label-container\",serviceCaptionContainer:\"esri-legend--card__service-caption-container\",symbolContainer:\"esri-legend--card__symbol-container\",sizeRampContainer:\"esri-legend--card__size-ramp-container\",sizeRampPreview:\"esri-legend--card__size-ramp-preview\",rampContainer:\"esri-legend__ramps\",sizeRampHorizontal:\"esri-legend__size-ramp--horizontal\",rampLabelsContainer:\"esri-legend__ramp-labels\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",univariateAboveAndBelowColorRamp:\"esri-univariate-above-and-below-ramp__color--card\",hidden:\"esri-hidden\",header:\"esri-widget__heading\"},L=25,C=25,x=768,S=100,z=\"#ddd\",R=window.devicePixelRatio;function $(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1),i=s.resource&&s.resource.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function I(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let k=class extends c{constructor(e,t){super(e,t),this._handles=new a,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.layout=\"stack\",this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.own([this.watch(\"activeLayerInfos\",(e=>{this._handles.removeAll(),this._watchForSectionChanges(e)}))])}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=\"auto\"===this.layout&&this.view.container.clientWidth<=x||\"stack\"===this.layout;const e=this.activeLayerInfos,t=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&-1!==this._sectionNames.indexOf(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const s=this._sectionNames.length,i=this._sectionNames.map(((e,t)=>{const i=r(this.messagesCommon.pagination.pageText,{index:t+1,total:s});return n(\"div\",{key:e,role:\"tab\",id:e,\"aria-label\":i,\"aria-controls\":`${e}-panel`,\"aria-selected\":(this._selectedSectionName===e).toString(),tabIndex:this._selectedSectionName===e?0:-1,title:i,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(w.indicator,{[w.activated]:this._selectedSectionName===e}),\"data-section-name\":e})})),a=this._hasIndicators&&s>1?n(\"div\",{class:w.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},i):null,o=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,l={[w.stacked]:this._hasIndicators};return n(\"div\",{class:this.classes(w.base,l)},o||n(\"div\",{class:w.message},this.messages.noLegend),a)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),r=this._sectionNames.indexOf(i),a=this._sectionNames;let o=null;-1!==r&&(a[r+s]?o=document.getElementById(a[r+s]):\"ArrowLeft\"===t?o=document.getElementById(a[a.length-1]):\"ArrowRight\"===t&&(o=document.getElementById(a[0])),o&&o.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const t=`activeLayerInfo-${e.layer.uid}-version-change`;this._handles.remove(t),this._watchForSectionChanges(e.children),this._handles.add(e.watch(\"version\",(()=>this._generateSectionNames())),t)}));const t=\"activeLayerInfos-collection-change\";this._handles.remove(t),this._handles.add(e.on(\"change\",(()=>this._watchForSectionChanges(e))),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return n(\"div\",{key:e.layer.uid,class:this.classes(w.service,w.groupLayer)},n(\"div\",{class:w.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const r={[w.groupLayerChild]:!!e.parent};return n(\"div\",{key:e.layer.uid,class:this.classes(w.service,r)},n(\"div\",{class:w.serviceCaptionContainer},n(\"div\",{class:w.serviceCaptionText},e.title)),n(\"div\",{class:w.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1){const r=\"color-ramp\"===e.type,a=\"opacity-ramp\"===e.type,o=\"size-ramp\"===e.type,l=t.layer,c=e.title;let d=null;if(\"string\"==typeof c)d=c;else if(c){const e=u(this.messages,c,r||a);d=c.title?`${c.title} (${e})`:e}const m=this._getSectionName(l,e,s),h=this._hasIndicators?n(\"div\",null,n(\"h3\",{class:this.classes(w.header,w.carouselTitle)},t.title),n(\"h4\",{class:this.classes(w.header,w.layerCaption)},d)):d?n(\"h4\",{class:this.classes(w.header,w.layerCaption)},d):null;let y=null;if(\"symbol-table\"===e.type){const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes&&s[0].properties.classes[w.symbolRow],t={[w.labelContainer]:!e&&!i,[w.relationshipLabelContainer]:i};y=n(\"div\",{class:this.classes(t)},s)}}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type?y=this._renderLegendForRamp(e,l.opacity):o?y=this._renderSizeRamp(e,l.opacity):\"relationship-ramp\"===e.type?y=p(e,this.id,l.opacity):\"univariate-above-and-below-ramp\"===e.type?y=this._renderUnivariateAboveAndBelowRamp(e,l.opacity):\"univariate-color-size-ramp\"===e.type&&(y=this._renderUnivariateColorSizeRamp(e,l.opacity));if(!y)return null;const g=n(\"div\",{key:m,class:w.section,id:`${m}-panel`,role:\"tabpanel\",\"aria-labelledby\":m,tabIndex:0},[h,y]);return this._sectionMap.set(m,g),g}_renderUnivariateAboveAndBelowRamp(e,t){const{sizeRampElement:s,colorRampElement:i}=m(e,t,\"horizontal\"),r=h(s,\"full\",!0,\"horizontal\"),a=y(s,\"above\",!0,\"horizontal\"),o=y(s,\"below\",!0,\"horizontal\"),l=12,c=g(i,{width:a,height:l,rampAlignment:\"horizontal\",opacity:t,type:\"above\"}),d=g(i,{width:o,height:l,rampAlignment:\"horizontal\",opacity:t,type:\"below\"}),p=_(s,\"card\"),v=s.infos.map((e=>e.label)),u=v.length-1,f=v.map(((e,t)=>0===t||t===u?n(\"div\",{key:t},e):null)),L={display:\"flex\",flexDirection:\"column\"},C={display:\"flex\",flexDirection:\"row\"},x={marginTop:\"3px\",marginLeft:`${p}px`,display:\"flex\"},S={width:`${r}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return n(\"div\",{class:w.layerRow,key:\"size-ramp-preview\",styles:L},n(\"div\",{class:this.classes(w.symbolContainer,w.sizeRampHorizontal),styles:C},s.infos.map(((e,t)=>n(\"div\",{key:t,class:w.symbol,bind:e.preview,afterCreate:b})))),c?n(\"div\",{class:w.univariateAboveAndBelowColorRamp,styles:x,key:\"color-ramp-preview\"},n(\"div\",{bind:c,afterCreate:b}),n(\"div\",{bind:d,afterCreate:b})):null,n(\"div\",{class:w.layerInfo},n(\"div\",{class:w.rampLabelsContainer,styles:S},f)))}_renderUnivariateColorSizeRamp(e,t){const{sizeRampElement:s,colorRampElement:i}=v(e,\"horizontal\"),r=h(s,\"full\",!1,\"horizontal\"),a=y(s,\"full\",!1,\"horizontal\"),o=g(i,{width:a,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\"}),l=_(s,\"card\"),c=s.infos.length-1,d=s.infos.map(((e,t)=>0===t||t===c?n(\"div\",{key:t},e.label):null)),p={display:\"flex\",flexDirection:\"column\"},m={display:\"flex\",flexDirection:\"row\"},u={marginTop:\"3px\",marginLeft:`${l}px`,display:\"flex\"},f={width:`${r}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return n(\"div\",{class:w.layerRow,key:\"size-ramp-preview\",styles:p},n(\"div\",{class:this.classes(w.symbolContainer,w.sizeRampHorizontal),styles:m},s.infos.map(((e,t)=>n(\"div\",{key:t,class:w.symbol,bind:e.preview,afterCreate:b})))),n(\"div\",{class:w.univariateAboveAndBelowColorRamp,styles:u,key:\"color-ramp-preview\"},n(\"div\",{bind:o,afterCreate:b})),n(\"div\",{class:w.layerInfo},n(\"div\",{class:w.rampLabelsContainer,styles:f},d)))}_renderLegendForElementInfo(e,t,s,i){const r=t.layer;if(e.type)return this._renderLegendForElement(e,t,i);const a=f(r,s);if(e.preview){var o,l;if(!e.symbol||-1===e.symbol.type.indexOf(\"simple-fill\")){if(!e.label)return n(\"div\",{key:i,bind:e.preview,afterCreate:b});const t={[w.symbolCell]:this._hasIndicators};return n(\"div\",{key:i,class:this.classes(w.layerRow,{[w.symbolRow]:this._hasIndicators})},n(\"div\",{class:this.classes(t),bind:e.preview,afterCreate:b}),n(\"div\",{class:this.classes(w.imageLabel,{[w.labelCell]:this._hasIndicators})},u(this.messages,e.label,!1)||\"\"))}let t=255,s=255,a=255,c=0,d=255,p=255,m=255,h=0;const y=e.symbol.color&&e.symbol.color.a,g=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;y&&(t=e.symbol.color.r,s=e.symbol.color.g,a=e.symbol.color.b,c=e.symbol.color.a*r.opacity),g&&(d=e.symbol.outline.color.r,p=e.symbol.outline.color.g,m=e.symbol.outline.color.b,h=e.symbol.outline.color.a*r.opacity);const _=null==(o=null==(l=e.symbol.color)?void 0:l.isBright)||o,v=_?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",f={background:y?`rgba(${t}, ${s}, ${a}, ${c})`:\"none\",color:_?\"black\":\"white\",textShadow:`-1px -1px 0 ${v},\\n                                              1px -1px 0 ${v},\\n                                              -1px 1px 0 ${v},\\n                                              1px 1px 0 ${v}`,border:g?`1px solid rgba(${d}, ${p}, ${m}, ${h})`:\"none\"};return n(\"div\",{key:i,class:w.layerRow},n(\"div\",{class:w.labelElement,styles:f},\" \",e.label,\" \"))}if(e.src){const t=this._renderImage(e,r,a);return n(\"div\",{key:i,class:w.layerRow},t,n(\"div\",{class:w.imageLabel},e.label||\"\"))}}_renderImage(e,t,s){const{label:i,src:r,opacity:a}=e,o={[w.imageryLayerStretchedImage]:s,[w.symbol]:!s},l={opacity:`${null!=a?a:t.opacity}`};return n(\"img\",{alt:u(this.messages,i,!1),src:r,border:0,width:e.width,height:e.height,class:this.classes(o),styles:l})}_renderSizeRampLines(e){const t=e.infos,s=t[0],r=t[t.length-1],a=s.symbol,o=this._hasIndicators,l=i(s.size+s.outlineSize)*R,c=i(r.size+r.outlineSize)*R,d=o?l:l+50*R,p=o?l/2+50*R:l,m=I(a),h=$(a),y=document.createElement(\"canvas\");y.width=d,y.height=p,y.style.width=y.width/R+\"px\",y.style.height=y.height/R+\"px\";const g=y.getContext(\"2d\");if(o){g.beginPath();const e=0,t=0,s=d/2-c/2,i=p;g.moveTo(e,t),g.lineTo(s,i);const r=d,a=0,o=d/2+c/2,l=p;g.moveTo(r,a),g.lineTo(o,l)}else{g.beginPath();const e=0,t=p/2-c/2,s=d,i=0;g.moveTo(e,t),g.lineTo(s,i);const r=0,a=p/2+c/2,o=d,l=p;g.moveTo(r,a),g.lineTo(o,l)}return g.strokeStyle=z,g.stroke(),n(\"div\",{bind:y,afterCreate:b,styles:o?{display:\"flex\",marginTop:`-${m?0:h?l/2:0}px`,marginBottom:`-${m?c:h?c/2:0}px`}:{display:\"flex\",marginRight:`-${m?0:h?l/2:0}px`,marginLeft:`-${m?0:h?c/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,r=s[s.length-1].label;let a=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,c={\"flex-direction\":l?\"column\":\"row-reverse\"};a&&(a=a.cloneNode(!0),a.style.display=\"flex\"),o&&(o=o.cloneNode(!0),o.style.display=\"flex\");const d={opacity:null!=t?`${t}`:\"\"};return n(\"div\",{class:this.classes(w.layerRow,{[w.sizeRampRow]:l})},n(\"div\",{class:w.rampLabel},l?i:r),n(\"div\",{class:w.sizeRampContainer,styles:c},n(\"div\",{bind:a,afterCreate:b,class:w.sizeRampPreview,styles:d}),this._renderSizeRampLines(e),n(\"div\",{bind:o,afterCreate:b,class:w.sizeRampContainer,styles:d})),n(\"div\",{class:w.rampLabel},l?r:i))}_renderLegendForRamp(e,t){const s=e.infos,i=\"heatmap-ramp\"===e.type,r=s.length-1,a=C,o=r>2&&!i?L*r:S,l=o+20,c=10,p=s.slice(0).reverse();p.forEach(((e,t)=>{e.offset=i?e.ratio:t/r}));const m=p.length-1,h=p.length%2!=0&&p[p.length/2|0],y=h&&n(\"div\",{class:w.intervalSeparatorsContainer},n(\"div\",{class:w.intervalSeparator},\"|\"),n(\"div\",{class:w.rampLabel},h.label)),g=s[s.length-1].label,_=s[0].label;let v=null;null!=t&&(v=`opacity: ${t}`);const u=[[{shape:{type:\"path\",path:`M0 ${a/2} L${c} 0 L${c} ${a} Z`},fill:p[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:c,y:0,width:o,height:a},fill:{type:\"linear\",x1:c,y1:0,x2:o+c,y2:0,colors:p},stroke:{width:0}},{shape:{type:\"path\",path:`M${o+c} 0 L${l} ${a/2} L${o+c} ${a} Z`},fill:p[m].color,stroke:{width:0}}]],b=d(u,l,a),{messages:f}=this;return n(\"div\",{class:w.layerRow},n(\"div\",{class:w.rampLabel},i?f[g]:g),n(\"div\",{class:w.symbolContainer},n(\"div\",{style:v},b),y),n(\"div\",{class:w.rampLabel},i?f[_]:_))}};e([t()],k.prototype,\"activeLayerInfos\",void 0),e([t()],k.prototype,\"layout\",void 0),e([t(),l(\"esri/widgets/Legend/t9n/Legend\")],k.prototype,\"messages\",void 0),e([t(),l(\"esri/t9n/common\")],k.prototype,\"messagesCommon\",void 0),e([t({readOnly:!0})],k.prototype,\"type\",void 0),e([t()],k.prototype,\"view\",void 0),e([o()],k.prototype,\"_selectSection\",null),k=e([s(\"esri.widgets.Legend.styles.Card\")],k);var N=k;export default N;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{formatNumber as a}from\"../../../intl/number.js\";import\"../../../intl.js\";import\"../../support/widgetUtils.js\";import{messageBundle as s}from\"../../support/decorators/messageBundle.js\";import{j as i}from\"../../../chunks/index.js\";import t from\"../../Widget.js\";import{renderRelationshipRamp as n}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as o,getUnivariateColorRampSize as p,getUnivariateColorRampPreview as d,getUnivariateColorRampMargin as m,getUnivariateColorSizeRampElements as y}from\"./support/univariateUtils.js\";import{getTitle as c,isRendererTitle as g,attachToNode as v,isImageryStretchedLegend as h}from\"../support/styleUtils.js\";const b={service:\"esri-legend__service\",label:\"esri-legend__service-label\",layer:\"esri-legend__layer\",groupLayer:\"esri-legend__group-layer\",groupLayerChild:\"esri-legend__group-layer-child\",layerTable:\"esri-legend__layer-table\",layerTableSizeRamp:\"esri-legend__layer-table--size-ramp\",layerChildTable:\"esri-legend__layer-child-table\",layerCaption:\"esri-legend__layer-caption\",layerBody:\"esri-legend__layer-body\",layerRow:\"esri-legend__layer-row\",layerCell:\"esri-legend__layer-cell\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",imageryLayerStretchedImage:\"esri-legend__imagery-layer-image--stretched\",imageryLayerCellStretched:\"esri-legend__imagery-layer-cell--stretched\",imageryLayerInfoStretched:\"esri-legend__imagery-layer-info--stretched\",symbolContainer:\"esri-legend__layer-cell esri-legend__layer-cell--symbols\",symbol:\"esri-legend__symbol\",rampContainer:\"esri-legend__ramps\",sizeRamp:\"esri-legend__size-ramp\",colorRamp:\"esri-legend__color-ramp\",opacityRamp:\"esri-legend__opacity-ramp\",borderlessRamp:\"esri-legend__borderless-ramp\",rampTick:\"esri-legend__ramp-tick\",rampFirstTick:\"esri-legend__ramp-tick-first\",rampLastTick:\"esri-legend__ramp-tick-last\",rampLabelsContainer:\"esri-legend__ramp-labels\",rampLabel:\"esri-legend__ramp-label\",univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",univariateAboveAndBelowLabel:\"esri-univariate-above-and-below-ramp__label\",message:\"esri-legend__message\",header:\"esri-widget__heading\",hidden:\"esri-hidden\"},_=\"esri-legend__\",u=24,f={display:\"flex\",alignItems:\"flex-start\"},L={marginLeft:\"3px\"},w={display:\"table-cell\",verticalAlign:\"middle\"};let C=class extends t{constructor(e,r){super(e,r),this.activeLayerInfos=null,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,r=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return i(\"div\",null,r&&r.length?r:i(\"div\",{class:b.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const r=!!e.children.length,l=`${_}${e.layer.uid}-version-${e.version}`,a=e.title?i(\"h3\",{class:this.classes(b.header,b.label)},e.title):null;if(r){const r=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return i(\"div\",{key:l,class:this.classes(b.service,b.groupLayer)},a,r)}{const r=e.legendElements;if(r&&!r.length)return null;const s=r.map((r=>this._renderLegendForElement(r,e.layer))).filter((e=>!!e));if(!s.length)return null;const t={[b.groupLayerChild]:!!e.parent};return i(\"div\",{key:l,class:this.classes(b.service,t),tabIndex:0},a,i(\"div\",{class:b.layer},s))}}_renderLegendForElement(e,r,l){const a=\"color-ramp\"===e.type,s=\"opacity-ramp\"===e.type,t=\"size-ramp\"===e.type;let o=null;if(\"symbol-table\"===e.type||t){const l=e.infos.map((l=>this._renderLegendForElementInfo(l,r,t,e.legendType))).filter((e=>!!e));l.length&&(o=i(\"div\",{class:b.layerBody},l))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?o=this._renderLegendForRamp(e,r.opacity):\"relationship-ramp\"===e.type?o=n(e,this.id,r.opacity):\"univariate-above-and-below-ramp\"===e.type?o=this._renderUnivariateAboveAndBelowRamp(e,r.opacity):\"univariate-color-size-ramp\"===e.type&&(o=this._renderUnivariateColorSizeRamp(e,r.opacity));if(!o)return null;const p=e.title;let d=null;if(\"string\"==typeof p)d=p;else if(p){const e=c(this.messages,p,a||s);d=g(p,a||s)&&p.title?`${p.title} (${e})`:e}const m=l?b.layerChildTable:b.layerTable,y=d?i(\"div\",{class:b.layerCaption},d):null,v={[b.layerTableSizeRamp]:t||!l};return i(\"div\",{class:this.classes(m,v)},y,o)}_renderUnivariateAboveAndBelowRamp(e,r){const{sizeRampElement:l,colorRampElement:a}=o(e,r),s=p(l,\"above\",!0),t=p(l,\"below\",!0),n=12,y=d(a,{width:n,height:s,rampAlignment:\"vertical\",opacity:r,type:\"above\"}),c=d(a,{width:n,height:t,rampAlignment:\"vertical\",opacity:r,type:\"below\"}),g=m(l),h=l.infos.map((e=>e.label)),_=h.map(((e,r)=>{const l=2===r;return 0===r?i(\"div\",{key:r,class:e?y?b.univariateAboveAndBelowLabel:b.rampLabel:null},e):l?i(\"div\",null):null})),u=h.length-1,C=Math.floor(h.length/2),R=h.map(((e,r)=>r===C||r===u?i(\"div\",{key:r,class:e?y?b.univariateAboveAndBelowLabel:b.rampLabel:null},e):null)),A={display:\"table-cell\",verticalAlign:\"middle\"},S={marginTop:`${g}px`},j={height:`${s}px`},I={height:`${t}px`};return i(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:f},i(\"div\",{class:b.layerBody},l.infos.map(((e,r)=>i(\"div\",{class:this.classes(b.layerRow,b.sizeRamp)},i(\"div\",{class:b.symbol,styles:A,bind:e.preview,afterCreate:v}),y||r%2!=0?null:i(\"div\",{class:b.layerInfo},h[r]))))),y?i(\"div\",{styles:S,key:\"color-ramp-preview\"},i(\"div\",{styles:L},i(\"div\",{styles:w},i(\"div\",{class:b.rampContainer,bind:y,afterCreate:v})),i(\"div\",{styles:w},i(\"div\",{class:b.rampLabelsContainer,styles:j},_))),i(\"div\",{styles:L},i(\"div\",{styles:w},i(\"div\",{class:b.rampContainer,bind:c,afterCreate:v})),i(\"div\",{styles:w},i(\"div\",{class:b.rampLabelsContainer,styles:I},R)))):null)}_renderUnivariateColorSizeRamp(e,r){const{sizeRampElement:l,colorRampElement:a}=y(e),s=m(l),t=12,n=p(l,\"full\",!1),o=d(a,{width:t,height:n,rampAlignment:\"vertical\",opacity:r,type:\"full\"}),c=l.infos.length-1,g=l.infos.map(((e,r)=>0===r||r===c?i(\"div\",{key:r,class:e.label?a?b.univariateAboveAndBelowLabel:b.rampLabel:null},e.label):null)),h={display:\"table-cell\",verticalAlign:\"middle\"},_={marginTop:`${s}px`},u={height:`${n}px`};return i(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:f},i(\"div\",{class:b.layerBody},l.infos.map((e=>i(\"div\",{class:this.classes(b.layerRow,b.sizeRamp)},i(\"div\",{class:b.symbol,styles:h,bind:e.preview,afterCreate:v}))))),i(\"div\",{styles:_,key:\"color-ramp-preview\"},i(\"div\",{styles:L},i(\"div\",{styles:w},i(\"div\",{class:b.rampContainer,bind:o,afterCreate:v})),i(\"div\",{styles:w},i(\"div\",{class:b.rampLabelsContainer,styles:u},g)))))}_renderLegendForRamp(e,r){const l=e.infos,a=\"opacity-ramp\"===e.type,s=\"heatmap-ramp\"===e.type,t=\"stretch-ramp\"===e.type,n=e.preview,o=a?b.opacityRamp:\"\";n.className=`${b.colorRamp} ${o}`,null!=r&&(n.style.opacity=r.toString());const p=l.map((e=>i(\"div\",{class:e.label?b.rampLabel:null},s?this.messages[e.label]:t?this._getStretchStopLabel(e):e.label))),d={width:`${u}px`},m={height:n.style.height};return i(\"div\",{class:b.layerRow},i(\"div\",{class:b.symbolContainer,styles:d},i(\"div\",{class:b.rampContainer,bind:n,afterCreate:v})),i(\"div\",{class:b.layerInfo},i(\"div\",{class:b.rampLabelsContainer,styles:m},p)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+\": \"+a(e.value,{style:\"decimal\",notation:e.value.toString().indexOf(\"e\")>-1?\"scientific\":\"standard\"}):\"\"}_renderLegendForElementInfo(e,r,l,a){if(e.type)return this._renderLegendForElement(e,r,!0);let s=null;const t=h(r,a);if(e.preview?s=i(\"div\",{class:b.symbol,bind:e.preview,afterCreate:v}):e.src&&(s=this._renderImage(e,r,t)),!s)return null;const n={[b.imageryLayerInfoStretched]:t},o={[b.imageryLayerInfoStretched]:t,[b.sizeRamp]:!t&&l};return i(\"div\",{class:b.layerRow},i(\"div\",{class:this.classes(b.symbolContainer,o)},s),i(\"div\",{class:this.classes(b.layerInfo,n)},c(this.messages,e.label,!1)||\"\"))}_renderImage(e,r,l){const{label:a,src:s,opacity:t}=e,n={[b.imageryLayerStretchedImage]:l,[b.symbol]:!l},o={opacity:`${null!=t?t:r.opacity}`};return i(\"img\",{alt:c(this.messages,a,!1),src:s,border:0,width:e.width,height:e.height,class:this.classes(n),styles:o})}};e([r()],C.prototype,\"activeLayerInfos\",void 0),e([r(),s(\"esri/widgets/Legend/t9n/Legend\")],C.prototype,\"messages\",void 0),e([r({readOnly:!0})],C.prototype,\"type\",void 0),C=e([l(\"esri.widgets.Legend.styles.Classic\")],C);var R=C;export default R;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as t}from\"../core/accessorSupport/decorators/aliasOf.js\";import{cast as r}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import o from\"../core/Handles.js\";import{on as n,init as a}from\"../core/watchUtils.js\";import\"./support/widgetUtils.js\";import{messageBundle as d}from\"./support/decorators/messageBundle.js\";import{j as l}from\"../chunks/index.js\";import c from\"./Widget.js\";import p from\"./Legend/LegendViewModel.js\";import h from\"./Legend/styles/Card.js\";import y from\"./Legend/styles/Classic.js\";const v={base:\"esri-legend\",widget:\"esri-widget\",panel:\"esri-widget--panel\",widgetIcon:\"esri-icon-layer-list\"};let f=class extends c{constructor(e,s){super(e,s),this._handles=new o,this.activeLayerInfos=null,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.iconClass=v.widgetIcon,this.label=void 0,this.layerInfos=null,this.messages=null,this.style=new y,this.view=null,this.viewModel=new p}initialize(){this.own(n(this,\"activeLayerInfos\",\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),a(this,\"style\",((e,s)=>{s&&e!==s&&s.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view))})))}destroy(){this._handles.destroy(),this._handles=null}castStyle(e){if(e instanceof h||e instanceof y)return e;if(\"string\"==typeof e)return\"card\"===e?new h:new y;if(e&&\"string\"==typeof e.type){const s={...e};delete s.type;return new(\"card\"===e.type?h:y)(s)}return new y}render(){return l(\"div\",{class:this.classes(v.base,v.widget,this.style instanceof y?v.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach((e=>this._renderOnActiveLayerInfoChange(e))),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const s=a(e,\"version\",(()=>this.scheduleRender()));this._handles.add(s,`version_${e.layer.uid}`);const t=n(e,\"children\",\"change\",(()=>{e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}));this._handles.add(t,`children_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([t(\"viewModel.activeLayerInfos\")],f.prototype,\"activeLayerInfos\",void 0),e([t(\"viewModel.basemapLegendVisible\")],f.prototype,\"basemapLegendVisible\",void 0),e([t(\"viewModel.groundLegendVisible\")],f.prototype,\"groundLegendVisible\",void 0),e([t(\"viewModel.keepCacheOnDestroy\")],f.prototype,\"keepCacheOnDestroy\",void 0),e([t(\"viewModel.respectLayerVisibility\")],f.prototype,\"respectLayerVisibility\",void 0),e([s()],f.prototype,\"iconClass\",void 0),e([s({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],f.prototype,\"label\",void 0),e([t(\"viewModel.layerInfos\")],f.prototype,\"layerInfos\",void 0),e([s(),d(\"esri/widgets/Legend/t9n/Legend\")],f.prototype,\"messages\",void 0),e([s()],f.prototype,\"style\",void 0),e([r(\"style\")],f.prototype,\"castStyle\",null),e([t(\"viewModel.view\")],f.prototype,\"view\",void 0),e([s()],f.prototype,\"viewModel\",void 0),f=e([i(\"esri.widgets.Legend\")],f);var g=f;export default g;\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/renderers/support/heatmapUtils.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/Mesh2D.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/ClippingInfo.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/Bitmap.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js"],"names":["n","e","document","createElement","getContext","r","height","width","t","clearRect","createLinearGradient","ratio","color","colorStops","addColorStop","Math","max","fillStyle","fillRect","getImageData","data","o","blurRadius","fieldOffset","a","field","i","c","Float64Array","l","f","s","round","h","d","Number","NEGATIVE_INFINITY","m","u","g","Set","getCursor","next","getObjectId","has","add","readLegacyPointGeometry","x","y","M","min","b","matrix","buffer","canvas","set","Uint8ClampedArray","putImageData","Uint32Array","Uint8Array","length","floor","exp","sqrt","PI","readAttribute","key","level","row","col","super","this","_tileInfoView","sortChildren","setStencilReference","renderChildren","state","createRenderParams","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","registerRenderPass","name","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","target","getStencilTarget","children","prepareRenderPasses","getTileResolution","setTransform","stencilRef","pixelBlock","extent","originalPixelBlock","filter","getAsRGBA","createImageData","renderedRasterPixels","gradient","intensities","minPixelIntensity","maxPixelIntensity","_intensityInfo","featuresView","attributeView","initialize","requestUpdate","requestRender","_container","tileInfoView","createTile","getTileCoords","bitmap","resolution","layer","renderer","type","_gradient","toJSON","tiles","forEach","source","invalidateTexture","Promise","resolve","addChild","removeAllChildren","removeChild","destroy","get","tileKey","intensityInfo","console","error","getLogger","BYTES_PER_ELEMENT","coords","lengths","push","slice","_cache","vertices","indices","primitiveType","isMapSpace","fromScreenExtent","xmin","ymin","xmax","ymax","path","geometry","fromPolygon","fromMapExtent","fromRect","toScreen","indexBuffer","dispose","vertexBuffers","createIndex","Object","keys","reduce","createVertex","parseFloat","_clip","stage","_handle","watch","_invalidate","ready","mesh","vao","_destroyGL","remove","size","_lastWidth","_lastHeight","_createMesh","getIndexBuffer","getVertexBuffers","left","right","top","bottom","p","_createScreenRect","fromPath","fromGeometry","arguments","constructor","_clips","clips","_updateClippingInfo","painter","globalOpacity","profiler","LABEL","computedOpacity","recordContainerStart","beforeRenderLayer","_clippingInfos","updateTransforms","compositeLayer","recordContainerEnd","_renderPasses","beforeRender","render","afterRender","requireFBO","requiresDedicatedFBO","clip","LABEL_ALPHA","onAttach","onDetach","items","map","fromClipArea","pixelFormat","internalFormat","dataType","wrapMode","_","requestRenderOnSourceChangedEnabled","_textureInvalidated","coordScale","_height","pixelRatio","rotation","_source","_width","transforms","dvs","blendFunction","bind","_texture","sourceWidth","sourceHeight","HTMLImageElement","naturalHeight","naturalWidth","updateTexture","toScreenNoRotation","displayViewMat3","mips","descriptor","hasMipmap","generateMipmap","setSamplingMode","samplingMode","context","bindTexture","resize","getRenderedRasterPixels","setData","Map","clear","layerView","isUpdating","once","notifyChange","id","delete","disposeTile","isReady","prototype","triangleCountReportedInDebug","tileMat3","triangleCount","bounds","coordRange","texture","_coords","_bounds","some","getTileBounds","visible","doRender"],"mappings":"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","file":"js/chunk-edd2e8c0.15b1f496.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../core/global.js\";import{clamp as e}from\"../../core/mathUtils.js\";const n=(()=>{if(!(\"document\"in t))return()=>null;const e=document.createElement(\"canvas\"),n=e.getContext(\"2d\"),r=512;return e.height=r,e.width=1,t=>{n.clearRect(0,0,1,e.height);const r=n.createLinearGradient(0,0,0,e.height);for(const{ratio:e,color:n}of t.colorStops)r.addColorStop(Math.max(e,.001),`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${n[3]})`);return n.fillStyle=r,n.fillRect(0,0,1,e.height),n.getImageData(0,0,1,e.height).data}})();function r(t,e,n,r){const{blurRadius:o,fieldOffset:a,field:i}=e,u=new Float64Array(n*r),l=f(o),s=Math.round(3*o);let h,d=Number.NEGATIVE_INFINITY;const m=c(i,a);for(const{geometry:f,attributes:c}of t){const t=f.x-s,e=f.y-s,o=Math.max(0,t),a=Math.max(0,e),i=Math.min(r,f.y+s),g=Math.min(n,f.x+s),y=+m(c);for(let r=a;r<i;r++){const a=l[r-e];for(let e=o;e<g;e++){const o=l[e-t];h=u[r*n+e]+=a*o*y,h>d&&(d=h)}}}return{matrix:u.buffer,max:d}}function o(t,e,n,r){const{blurRadius:o,fieldOffset:a,field:i}=e,c=new Float64Array(n*r),l=f(o),s=Math.round(3*o);let h,d=Number.NEGATIVE_INFINITY;const m=u(i,a),g=new Set;for(const f of t){const t=f.getCursor();for(;t.next();){const e=t.getObjectId();if(g.has(e))continue;g.add(e);const o=t.readLegacyPointGeometry(),a=128;if(o.x<-a||o.x>=n+a||o.y<-a||o.y>r+a)continue;const i=+m(t),f=Math.round(o.x)-s,u=Math.round(o.y)-s,y=Math.max(0,f),M=Math.max(0,u),x=Math.min(r,Math.round(o.y)+s),b=Math.min(n,Math.round(o.x)+s);for(let t=M;t<x;t++){const e=l[t-u];for(let r=y;r<b;r++){const o=l[r-f];h=c[t*n+r]+=e*o*i,h>d&&(d=h)}}}}return{matrix:c.buffer,max:d}}function a(t,e,n,r,o,a){t.canvas.width=t.canvas.height=e,t.clearRect(0,0,e,e);const f=t.getImageData(0,0,e,e);n&&r&&f.data.set(new Uint8ClampedArray(i(e,n,r,o,a))),t.putImageData(f,0,0)}function i(t,n,r,o,a){const i=new Uint32Array(t*t),f=\"buffer\"in n?n:new Float64Array(n),c=\"buffer\"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer),u=c.length/(a-o);for(let l=0;l<f.length;l++){const t=f[l],n=Math.floor((t-o)*u);i[l]=c[e(n,0,c.length-1)]}return i.buffer}function f(t){const e=Math.round(3*t),n=2*t*t,r=new Float64Array(2*e+1);for(let o=0;o<=r.length;o++)r[o]=Math.exp(-((o-e)**2)/n)/Math.sqrt(2*Math.PI)*(t/2);return r}function c(t,e){return\"function\"==typeof t?t:t?\"string\"==typeof e?e=>-1*+e[t]:n=>+n[t]+e:()=>1}function u(t,e){return null!=t?\"string\"==typeof e?e=>-1*+e.readAttribute(t):n=>+n.readAttribute(t)+e:t=>1}export{r as calculateHeatmapIntensityInfo,o as calculateHeatmapIntensityInfoReaders,i as createHeatmapImageData,f as createKernel,c as createValueFunction,u as createValueFunctionCursor,a as drawHeatmap,n as generateGradient};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./enums.js\";import r from\"./brushes/WGLBrushInfo.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./WGLContainer.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends t{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(t){const n=t.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()}),i=t.registerRenderPass({name:\"tileInfo\",brushes:[r],drawPhase:e.DEBUG,target:()=>this.children,has:\"esri-tiles-debug\"});return[...super.prepareRenderPasses(t),n,i]}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export default i;export{n as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass e{constructor(e,t,i){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=i}get width(){return this.pixelBlock?this.pixelBlock.width:0}get height(){return this.pixelBlock?this.pixelBlock.height:0}render(e){const t=this.pixelBlock;if(!t)return;const i=this.filter({pixelBlock:t}),l=i.pixelBlock.getAsRGBA(),h=e.createImageData(i.pixelBlock.width,i.pixelBlock.height);h.data.set(l),e.putImageData(h,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{drawHeatmap as t}from\"../../../../../../renderers/support/heatmapUtils.js\";class i{constructor(){this.gradient=null,this.height=512,this.width=512}render(i){t(i,512,this.intensities,this.gradient,this.minPixelIntensity,this.maxPixelIntensity)}}export{i as HeatmapSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{generateGradient as i}from\"../../../../../renderers/support/heatmapUtils.js\";import{BitmapTileContainer as r}from\"../../../engine/BitmapTileContainer.js\";import s from\"./BaseTileRenderer.js\";import{HeatmapSource as n}from\"./support/HeatmapSource.js\";let o=class extends s{constructor(e){super(e),this._intensityInfo={minPixelIntensity:0,maxPixelIntensity:0},this.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}},this._container=new r(e.tileInfoView)}createTile(e){const t=this._container.createTile(e);return this.tileInfoView.getTileCoords(t.bitmap,e),t.bitmap.resolution=this.tileInfoView.getTileResolution(e),t}onConfigUpdate(){const e=this.layer.renderer;if(\"heatmap\"===e.type){const{minPixelIntensity:t,maxPixelIntensity:r}=e;this._intensityInfo.minPixelIntensity=t,this._intensityInfo.maxPixelIntensity=r,this._gradient=i(e.toJSON()),this.tiles.forEach((e=>{const i=e.bitmap.source;i&&(i.minPixelIntensity=t,i.maxPixelIntensity=r,i.gradient=this._gradient,e.bitmap.invalidateTexture())}))}}hitTest(){return Promise.resolve([])}install(e){e.addChild(this._container)}uninstall(e){this._container.removeAllChildren(),e.removeChild(this._container)}disposeTile(e){this._container.removeChild(e),e.destroy()}supportsRenderer(e){return e&&\"heatmap\"===e.type}onTileData(e){const t=this.tiles.get(e.tileKey);if(!t)return;const i=e.intensityInfo,{minPixelIntensity:r,maxPixelIntensity:s}=this._intensityInfo,o=t.bitmap.source||new n;o.intensities=i&&i.matrix||null,o.minPixelIntensity=r,o.maxPixelIntensity=s,o.gradient=this._gradient,t.bitmap.source=o,this._container.addChild(t),this.requestUpdate()}onTileError(e){console.error(e)}lockGPUUploads(){}unlockGPUUploads(){}};o=e([t(\"esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer\")],o);var a=o;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/Logger.js\";import r from\"../../../../core/Error.js\";import o from\"../../../../layers/graphics/OptimizedGeometry.js\";import{convertFromNestedArray as n,convertFromPolygon as s}from\"../../../../layers/graphics/featureConversionUtils.js\";import{a as c}from\"../../../../chunks/vec2f64.js\";import{earcut as i}from\"../../../../core/libs/earcut/earcut.js\";import{s as a}from\"../../../../chunks/vec2.js\";import f from\"../../../webgl/BufferObject.js\";import{i1616to32 as h}from\"./number.js\";const m=t.getLogger(\"esri.views.2d.engine.webgl.Mesh2D\"),u=e=>{switch(e.BYTES_PER_ELEMENT){case 1:return 5121;case 2:return 5123;case 4:return 5125;default:throw new r(\"Cannot get DataType of array\")}},y=(e,t,r,o)=>{let n=0;for(let s=1;s<r;s++){const r=e[2*(t+s-1)],o=e[2*(t+s-1)+1];n+=(e[2*(t+s)]-r)*(e[2*(t+s)+1]+o)}return o?n>0:n<0},x=({coords:e,lengths:t},r)=>{const o=[];for(let n=0,s=0;n<t.length;s+=t[n],n+=1){const c=s,a=[];for(;n<t.length-1&&y(e,s+t[n],t[n+1],r);n+=1,s+=t[n])a.push(s+t[n]-c);const f=e.slice(2*c,2*(s+t[n])),h=i(f,a,2);for(const e of h)o.push(e+c)}return o};class g{constructor(e,t,r,o=!1){this._cache={},this.vertices=e,this.indices=t,this.primitiveType=r,this.isMapSpace=o}static fromRect({x:e,y:t,width:r,height:o}){const n=e,s=t,c=n+r,i=s+o;return g.fromScreenExtent({xmin:n,ymin:s,xmax:c,ymax:i})}static fromPath(e){const t=n(new o,e.path,!1,!1),r=t.coords,s=new Uint32Array(x(t,!0)),c=new Uint32Array(r.length/2);for(let o=0;o<c.length;o++)c[o]=h(Math.floor(r[2*o]),Math.floor(r[2*o+1]));return new g({geometry:c},s,4)}static fromGeometry(e,t){const o=t.geometry.type;switch(o){case\"polygon\":return g.fromPolygon(e,t.geometry);case\"extent\":return g.fromMapExtent(e,t.geometry);default:return m.error(new r(\"mapview-bad-type\",`Unable to create a mesh from type ${o}`,t)),g.fromRect({x:0,y:0,width:1,height:1})}}static fromPolygon(e,t){const r=s(new o,t,!1,!1),n=r.coords,i=new Uint32Array(x(r,!1)),f=new Uint32Array(n.length/2),m=c(),u=c();for(let o=0;o<f.length;o++)a(m,n[2*o],n[2*o+1]),e.toScreen(u,m),f[o]=h(Math.floor(u[0]),Math.floor(u[1]));return new g({geometry:f},i,4,!0)}static fromScreenExtent({xmin:e,xmax:t,ymin:r,ymax:o}){const n={geometry:new Uint32Array([h(e,r),h(t,r),h(e,o),h(e,o),h(t,r),h(t,o)])},s=new Uint32Array([0,1,2,3,4,5]);return new g(n,s,4)}static fromMapExtent(e,t){const[r,o]=e.toScreen([0,0],[t.xmin,t.ymin]),[n,s]=e.toScreen([0,0],[t.xmax,t.ymax]),c={geometry:new Uint32Array([h(r,o),h(n,o),h(r,s),h(r,s),h(n,o),h(n,s)])},i=new Uint32Array([0,1,2,3,4,5]);return new g(c,i,4)}destroy(){e(this._cache.indexBuffer)&&this._cache.indexBuffer.dispose();for(const t in this._cache.vertexBuffers)e(this._cache.vertexBuffers[t])&&this._cache.vertexBuffers[t].dispose()}get elementType(){return u(this.indices)}getIndexBuffer(e,t=35044){return this._cache.indexBuffer||(this._cache.indexBuffer=f.createIndex(e,t,this.indices)),this._cache.indexBuffer}getVertexBuffers(e,t=35044){return this._cache.vertexBuffers||(this._cache.vertexBuffers=Object.keys(this.vertices).reduce(((r,o)=>({...r,[o]:f.createVertex(e,t,this.vertices[o])})),{})),this._cache.vertexBuffers}}export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import r from\"../../../../core/Logger.js\";import s from\"../../../../core/Error.js\";import i from\"../../../webgl/VertexArrayObject.js\";import{DisplayObject as h}from\"../DisplayObject.js\";import o from\"./Mesh2D.js\";const a=r.getLogger(\"esri.views.2d.engine.webgl.ClippingInfo\"),c=t=>parseFloat(t)/100;class n extends h{constructor(t,e){super(),this._clip=e,this._cache={},this.stage=t,this._handle=e.watch(\"version\",(()=>this._invalidate())),this.ready()}static fromClipArea(t,e){return new n(t,e)}_destroyGL(){t(this._cache.mesh)&&(this._cache.mesh.destroy(),this._cache.mesh=null),t(this._cache.vao)&&(this._cache.vao.dispose(),this._cache.vao=null)}destroy(){this._destroyGL(),this._handle.remove()}getVAO(t,r,s,h){const[o,a]=r.size;if(\"geometry\"!==this._clip.type&&this._lastWidth===o&&this._lastHeight===a||(this._lastWidth=o,this._lastHeight=a,this._destroyGL()),e(this._cache.vao)){const e=this._createMesh(r,this._clip),o=e.getIndexBuffer(t),a=e.getVertexBuffers(t);this._cache.mesh=e,this._cache.vao=new i(t,s,h,a,o)}return this._cache.vao}_invalidate(){this._destroyGL(),this.requestRender()}_createScreenRect(t,e){const[r,s]=t.size,i=\"string\"==typeof e.left?c(e.left)*r:e.left,h=\"string\"==typeof e.right?c(e.right)*r:e.right,o=\"string\"==typeof e.top?c(e.top)*s:e.top,a=\"string\"==typeof e.bottom?c(e.bottom)*s:e.bottom,n=i,p=o;return{x:n,y:p,width:Math.max(r-h-n,0),height:Math.max(s-a-p,0)}}_createMesh(t,e){switch(e.type){case\"rect\":return o.fromRect(this._createScreenRect(t,e));case\"path\":return o.fromPath(e);case\"geometry\":return o.fromGeometry(t,e);default:return a.error(new s(\"mapview-bad-type\",\"Unable to create ClippingInfo mesh from clip of type: ${clip.type}\")),o.fromRect({x:0,y:0,width:1,height:1})}}}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isNone as e,isSome as r}from\"../../../../core/maybe.js\";import{WGLDrawPhase as s}from\"./enums.js\";import{Container as t}from\"../Container.js\";import{brushes as i}from\"../brushes.js\";import n from\"./ClippingInfo.js\";class o extends t{constructor(){super(...arguments),this.name=this.constructor.name}set clips(e){this._clips=e,this.children.forEach((r=>r.clips=e)),this._updateClippingInfo()}doRender(e){const r=this.createRenderParams(e),{painter:t,globalOpacity:i,profiler:n,drawPhase:o}=r,a=o===s.LABEL?1:i*this.computedOpacity;n.recordContainerStart(this.name),t.beforeRenderLayer(r,this._clippingInfos?255:0,a),this.updateTransforms(e.state),this.renderChildren(r),t.compositeLayer(r,a),n.recordContainerEnd()}renderChildren(r){e(this._renderPasses)&&(this._renderPasses=this.prepareRenderPasses(r.painter));for(const e of this.children)e.beforeRender(r);for(const e of this._renderPasses)try{e.render(r)}catch(s){}for(const e of this.children)e.afterRender(r)}createRenderParams(e){return{...e,requireFBO:this.requiresDedicatedFBO}}prepareRenderPasses(e){return[e.registerRenderPass({name:\"clip\",brushes:[i.clip],target:()=>this._clippingInfos,drawPhase:s.MAP|s.LABEL|s.LABEL_ALPHA|s.DEBUG|s.HIGHLIGHT})]}updateTransforms(e){for(const r of this.children)r.setTransform(e)}onAttach(){super.onAttach(),this._updateClippingInfo()}onDetach(){super.onDetach(),this._updateClippingInfo()}_updateClippingInfo(){if(r(this._clippingInfos)&&(this._clippingInfos.forEach((e=>e.destroy())),this._clippingInfos=null),!this.stage)return;const e=this._clips;r(e)&&e.length&&(this._clippingInfos=e.items.map((e=>n.fromClipArea(this.stage,e)))),this.requestRender()}}export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{i as t,a as e,r as i,j as s,m as r}from\"../../../chunks/mat3.js\";import{c as h}from\"../../../chunks/mat3f32.js\";import{f as n}from\"../../../chunks/vec2f32.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/checkWebGLError.js\";import o from\"../../webgl/Texture.js\";import\"../../webgl/FramebufferObject.js\";import{DisplayObject as u}from\"./DisplayObject.js\";import a from\"./ImageryBitmapSource.js\";function d(t){return t&&\"render\"in t}function c(t){return t&&!(\"render\"in t)}function l(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}function x(t,e,i){const s={target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071};return e&&i&&(s.width=e,s.height=i),new o(t,s)}class _ extends u{constructor(t=null,e,i=!0){super(),this.requestRenderOnSourceChangedEnabled=i,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.transforms={dvs:h()},this.blendFunction=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){this._source=t,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}setTransform(h){const o=t(this.transforms.dvs),[u,a]=h.toScreenNoRotation([0,0],this.x,this.y),d=this.resolution/this.pixelRatio/h.resolution,c=d*this.width,l=d*this.height,x=Math.PI*this.rotation/180;e(o,o,n(u,a)),e(o,o,n(c/2,l/2)),i(o,o,-x),e(o,o,n(-c/2,-l/2)),s(o,o,n(c,l)),r(this.transforms.dvs,h.displayViewMat3,o)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind({context:t},e){this._texture&&t.bindTexture(this._texture,e)}updateTexture({context:t}){var e;if(!this.stage)return null==(e=this._texture)||e.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this.source?this._texture=x(t,this.sourceWidth,this.sourceHeight):this._texture=x(t));const i=this.source;if(i){if(this._texture.resize(this.sourceWidth,this.sourceHeight),d(i))if(i instanceof a){const t=i.getRenderedRasterPixels();this._texture.setData(t.renderedRasterPixels)}else this._texture.setData(l(i));else c(i)&&this._texture.setData(i);this.ready()}else this._texture.setData(null)}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}}export{_ as Bitmap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{HandleOwner as s}from\"../../../../../core/HandleOwner.js\";let i=class extends s{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach((t=>{e=e&&t.isReady})),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([t()],i.prototype,\"layer\",void 0),e([t()],i.prototype,\"layerView\",void 0),e([t()],i.prototype,\"tileInfoView\",void 0),e([t()],i.prototype,\"updating\",null),i=e([r(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],i);var o=i;export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{s,m as t}from\"../../../../chunks/mat3.js\";import o from\"../../tiling/TileKey.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as e}from\"../DisplayObject.js\";class r extends e{constructor(s,t,e,r=e){super(),this.triangleCountReportedInDebug=0,this.transforms={dvs:i(),tileMat3:i()},this.triangleCount=0,this.key=new o(s),this.bounds=t,this.size=e,this.coordRange=r}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}get coords(){return this._coords}get bounds(){return this._bounds}set bounds(s){this._coords=[s[0],s[3]],this._bounds=s}setTransform(o,i){const e=i/(o.resolution*o.pixelRatio),r=this.transforms.tileMat3,[n,h]=o.toScreenNoRotation([0,0],this.coords),a=this.size[0]/this.coordRange[0]*e,d=this.size[1]/this.coordRange[1]*e;s(r,a,0,0,0,d,0,n,h,1),t(this.transforms.dvs,o.displayViewMat3,r)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{TiledDisplayObject as t}from\"./webgl/TiledDisplayObject.js\";import{Bitmap as e}from\"./Bitmap.js\";class s extends t{constructor(t,s,r,i=null){super(t,s,r,r),this.bitmap=new e(i,\"standard\",!1),this.bitmap.coordScale=r,this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(t){super.beforeRender(t),this.bitmap.beforeRender(t)}afterRender(t){super.afterRender(t),this.bitmap.afterRender(t)}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t,e){super.setTransform(t,e),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}export{s as BitmapTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import{brushes as s}from\"./brushes.js\";import t from\"./webgl/TileContainer.js\";import{BitmapTile as i}from\"./BitmapTile.js\";class n extends t{get requiresDedicatedFBO(){return this.children.some((e=>\"additive\"===e.bitmap.blendFunction))}createTile(r){const s=this._tileInfoView.getTileBounds(e(),r);return new i(r,s,this._tileInfoView.tileInfo.size)}destroyTile(){}prepareRenderPasses(e){const t=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[s.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&super.doRender(e)}}export{n as BitmapTileContainer};\n"],"sourceRoot":""}
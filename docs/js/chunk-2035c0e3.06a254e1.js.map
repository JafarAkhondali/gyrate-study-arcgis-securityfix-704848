{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/tasks/support/GPMessage.js","webpack:///./node_modules/@arcgis/core/tasks/support/ServiceAreaSolveResult.js","webpack:///./node_modules/@arcgis/core/rest/serviceArea.js","webpack:///./node_modules/@arcgis/core/tasks/ServiceAreaTask.js","webpack:///./node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js","webpack:///./node_modules/@arcgis/core/tasks/support/RouteResult.js","webpack:///./node_modules/@arcgis/core/tasks/support/RouteResultsContainer.js","webpack:///./node_modules/@arcgis/core/rest/networkUtils.js","webpack:///./node_modules/@arcgis/core/tasks/support/DirectionsFeatureSet.js","webpack:///./node_modules/@arcgis/core/core/queryUtils.js","webpack:///./node_modules/@arcgis/core/tasks/support/NAMessage.js"],"names":["p","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","i","r","super","this","description","type","String","json","write","prototype","read","a","u","features","map","o","t","fromJSON","spatialReference","s","geometry","d","e","facilities","messages","pointBarriers","polylineBarriers","polygonBarriers","serviceAreaPolylines","serviceAreaPolygons","barriers","saPolylines","saPolygons","g","l","accumulateAttributes","name","attributeParameterValues","defaultBreaks","outSpatialReference","getter","wkid","restrictionAttributes","returnPointBarriers","travelMode","async","f","c","m","B","y","h","then","push","slice","path","catch","dontCheck","Promise","resolve","hasZ","forEach","get","query","toQueryParams","data","url","supportedTravelModes","defaultTravelMode","length","token","error","substring","indexOf","owningSystemUrl","n","test","serviceName","results","paramName","value","attributes","JSON","parse","TravelMode","_serviceDescriptionPromise","_fetchServiceDescription","parsedUrl","id","itemId","currentVersion","z","console","log","directions","route","routeName","stops","routeResults","aliasOf","routes","v","Name","RouteName","splice","T","extent","geometryType","routeId","totalDriveTime","totalLength","totalTime","_decompressFeatureGeometry","summary","envelope","strings","events","x","point","ETA","arriveTimeUTC","_mergePolylinesToSinglePath","_decompressGeometry","compressedGeometry","match","parseInt","paths","hasM","concat","source","readOnly","Array","isArray","_options","toJSON","Object","keys","join","stringify","0","1","2","3","50","100","101","200"],"mappings":"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","file":"js/chunk-2035c0e3.06a254e1.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import p from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Point.js\";import l from\"../../geometry/Polygon.js\";import n from\"../../geometry/Polyline.js\";import{fromJSON as y}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import c from\"../../Graphic.js\";import m from\"./NAMessage.js\";function u(r){return r.features.map((o=>{const t=p.fromJSON(r.spatialReference),s=c.fromJSON(o);return e(s.geometry).spatialReference=t,s}))}function d(r){return r.features.map((e=>(e.geometry.spatialReference=r.spatialReference,y(e.geometry))))}let f=class extends i{constructor(r){super(r),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(r){return d(r)}readPointBarriers(r,e){return d(e.barriers)}readPolylineBarriers(r){return d(r)}readPolygonBarriers(r){return d(r)}readIncidents(r,e){return u(e.saPolylines)}readServiceAreaPolygons(r,e){return u(e.saPolygons)}};r([o({type:[a]})],f.prototype,\"facilities\",void 0),r([t(\"facilities\")],f.prototype,\"readFacilities\",null),r([o({type:[m]})],f.prototype,\"messages\",void 0),r([o({type:[a]})],f.prototype,\"pointBarriers\",void 0),r([t(\"pointBarriers\",[\"barriers\"])],f.prototype,\"readPointBarriers\",null),r([o({type:[n]})],f.prototype,\"polylineBarriers\",void 0),r([t(\"polylineBarriers\")],f.prototype,\"readPolylineBarriers\",null),r([o({type:[l]})],f.prototype,\"polygonBarriers\",void 0),r([t(\"polygonBarriers\")],f.prototype,\"readPolygonBarriers\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolylines\",void 0),r([t(\"serviceAreaPolylines\",[\"saPolylines\"])],f.prototype,\"readIncidents\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolygons\",void 0),r([t(\"serviceAreaPolygons\",[\"saPolygons\"])],f.prototype,\"readServiceAreaPolygons\",null),f=r([s(\"esri.tasks.support.ServiceAreaSolveResult\")],f);var g=f;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../request.js\";import{normalizeCentralMeridian as e}from\"../geometry/support/normalizeUtils.js\";import{parseUrl as t}from\"./utils.js\";import{createQueryParamsHelper as i}from\"../core/queryUtils.js\";import{collectGeometries as s,isInputGeometryZAware as a,fetchServiceDescription as o,dropZValuesOffInputGeometry as n}from\"./networkUtils.js\";import u from\"../tasks/support/ServiceAreaSolveResult.js\";const l=i({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:\"outSR\",getter:r=>r.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},travelMode:!0});async function f(i,f,c){const p=[],m=[],B={},y={},h=t(i);return f.facilities&&f.facilities.features&&s(f.facilities.features,m,\"facilities.features\",B),f.pointBarriers&&f.pointBarriers.features&&s(f.pointBarriers.features,m,\"pointBarriers.features\",B),f.polylineBarriers&&f.polylineBarriers.features&&s(f.polylineBarriers.features,m,\"polylineBarriers.features\",B),f.polygonBarriers&&f.polygonBarriers.features&&s(f.polygonBarriers.features,m,\"polygonBarriers.features\",B),e(m).then((r=>{for(const e in B){const t=B[e];p.push(e),y[e]=r.slice(t[0],t[1])}return a(y,p)?o(h.path).catch((()=>({dontCheck:!0}))):Promise.resolve({dontCheck:!0})})).then((e=>{(\"dontCheck\"in e?e.dontCheck:e.hasZ)||n(y,p);for(const r in y)y[r].forEach(((e,t)=>{f.get(r)[t].geometry=e}));let t={query:{...h.query,f:\"json\",...l.toQueryParams(f)}};return c&&(t={...c,...t}),r(`${h.path}/solveServiceArea`,t)})).then((r=>u.fromJSON(r.data)))}export{f as solve};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import e from\"./Task.js\";import{solve as t}from\"../rest/serviceArea.js\";import{NAServiceDescriptionMixin as p}from\"./mixins/NAServiceDescription.js\";let i=class extends(p(e)){constructor(r){super(r),this.url=null}solve(r,s){return t(this.url,r,s)}};r([s()],i.prototype,\"url\",void 0),i=r([o(\"esri.tasks.ServiceAreaTask\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{getDeepValue as r}from\"../../core/object.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../request.js\";import n from\"../Task.js\";async function l(e,r){try{const{data:{supportedTravelModes:t,defaultTravelMode:s}}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\",token:r}});return{supportedTravelModes:t,defaultTravelMode:s}}catch(t){throw new o(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:t})}}async function c(e,t){const{data:s}=await a(e.substring(0,e.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\",token:t}});if(!s||!s.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=s.owningSystemUrl;const{data:o}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\",token:t}}),n=r(\"helperServices.routingUtilities.url\",o);if(!n)return{supportedTravelModes:[],defaultTravelMode:null};const l=i(e),c=/\\/solveClosestFacility$/.test(l.path)?\"Route\":/\\/solveClosestFacility$/.test(l.path)?\"ClosestFacility\":\"ServiceAreas\",u=await a(n+(\"/\"===n[n.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:c,token:t}}),p=[];let d=null;if(u&&u.data&&u.data.results&&u.data.results.length){const e=u.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value&&r.value.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);p.push(r)}}else\"defaultTravelMode\"===r.paramName&&(d=r.value)}return{supportedTravelModes:p,defaultTravelMode:d}}const u=r=>{let i=class extends r{async getServiceDescription(e){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription(e)),this._serviceDescriptionPromise}async _fetchServiceDescription(e){if(!this.url||!this.parsedUrl)throw new o(\"network-service:missing-url\",\"Url to Network service is missing\");const r=this.url,{data:t}=await a(r,{query:{f:\"json\",token:e}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let o=0;o<t.supportedTravelModes.length;o++)t.supportedTravelModes[o].id||(t.supportedTravelModes[o].id=t.supportedTravelModes[o].itemId);const s=t.currentVersion>=10.4?l(r,e):c(r,e),{defaultTravelMode:i,supportedTravelModes:n}=await s;return t.defaultTravelMode=i,t.supportedTravelModes=n,t}_isInputGeometryZAware(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}};return i=e([s(\"esri.tasks.mixins.NAServiceDescription\")],i),i};let p=class extends(u(n)){};p=e([s(\"esri.tasks.mixins.NAServiceDescription\")],p);export{p as NAServiceDescription,u as NAServiceDescriptionMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import e from\"../../Graphic.js\";import p from\"./DirectionsFeatureSet.js\";let i=class extends s{constructor(o){super(o),this.directions=null,this.route=null,this.routeName=null,this.stops=null}};o([r({type:p,json:{write:!0}})],i.prototype,\"directions\",void 0),o([r({type:e,json:{write:!0}})],i.prototype,\"route\",void 0),o([r({type:String,json:{write:!0}})],i.prototype,\"routeName\",void 0),o([r({type:[e],json:{write:!0}})],i.prototype,\"stops\",void 0),i=o([t(\"esri.tasks.support.RouteResult\")],i);var u=i;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as e}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import p from\"../../Graphic.js\";import i from\"./FeatureSet.js\";import a from\"./NAMessage.js\";import l from\"./RouteResult.js\";function n(r){return r&&i.fromJSON(r).features.map((r=>r))}let u=class extends t{constructor(r){super(r),this.barriers=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(r,o){return n(o.barriers||o.pointBarriers)}readPolylineBarriers(r){return n(r)}readPolygonBarriers(r){return n(r)}};r([o({aliasOf:\"pointBarriers\"})],u.prototype,\"barriers\",void 0),r([o({type:[a]})],u.prototype,\"messages\",void 0),r([o({type:[p]})],u.prototype,\"pointBarriers\",void 0),r([e(\"pointBarriers\",[\"barriers\",\"pointBarriers\"])],u.prototype,\"readPointBarriers\",null),r([o({type:[p]})],u.prototype,\"polylineBarriers\",void 0),r([e(\"polylineBarriers\")],u.prototype,\"readPolylineBarriers\",null),r([o({type:[p]})],u.prototype,\"polygonBarriers\",void 0),r([e(\"polygonBarriers\")],u.prototype,\"readPolygonBarriers\",null),r([o({type:[l]})],u.prototype,\"routeResults\",void 0),u=r([s(\"esri.tasks.support.RouteResultsContainer\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getDeepValue as e}from\"../core/object.js\";import{isSome as t}from\"../core/maybe.js\";import r from\"../core/Error.js\";import s from\"../request.js\";import{parseUrl as o}from\"./utils.js\";import a from\"../tasks/support/RouteResultsContainer.js\";function l(e,t,r,s){s[r]=[t.length,t.length+e.length],e.forEach((e=>{t.push(e.geometry)}))}function n(e,t){for(let r=0;r<t.length;r++){const s=e[t[r]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}function i(e){const t=[],r=[],{directions:s=[],routes:{features:o=[],spatialReference:l=null}={},stops:{features:n=[],spatialReference:i=null}={},barriers:u,polygonBarriers:d,polylineBarriers:p,messages:f}=e.data,c=\"esri.tasks.RouteTask.NULL_ROUTE_NAME\";let v,m,h=!0;const g=o&&l||n&&i||u&&u.spatialReference||d&&d.spatialReference||p&&p.spatialReference;s.forEach((e=>{t.push(v=e.routeName),r[v]={directions:e}})),o.forEach((e=>{-1===t.indexOf(v=e.attributes.Name)&&(t.push(v),r[v]={}),e.geometry&&(e.geometry.spatialReference=g),r[v].route=e})),n.forEach((e=>{m=e.attributes,-1===t.indexOf(v=m.RouteName||c)&&(t.push(v),r[v]={}),v!==c&&(h=!1),e.geometry&&(e.geometry.spatialReference=g),null==r[v].stops&&(r[v].stops=[]),r[v].stops.push(e)})),n.length>0&&!0===h&&(r[t[0]].stops=r[c].stops,delete r[c],t.splice(t.indexOf(c),1));const T=t.map((e=>(r[e].routeName=e===c?null:e,r[e])));return a.fromJSON({routeResults:T,pointBarriers:u,polygonBarriers:d,polylineBarriers:p,messages:f})}function u(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}async function d(e){if(!e)throw new r(\"network-service:missing-url\",\"Url to Network service is missing\");const{data:t}=await s(e,{query:{f:\"json\"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let r=0;r<t.supportedTravelModes.length;r++)t.supportedTravelModes[r].id||(t.supportedTravelModes[r].id=t.supportedTravelModes[r].itemId);const o=t.currentVersion>=10.4?f(e):p(e),{defaultTravelMode:a,supportedTravelModes:l}=await o;return t.defaultTravelMode=a,t.supportedTravelModes=l,t}async function p(t){const{data:r}=await s(t.substring(0,t.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\"}});if(!r||!r.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};t=r.owningSystemUrl;const{data:a}=await s(t+(\"/\"===t[t.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\"}}),l=e(\"helperServices.routingUtilities.url\",a);if(!l)return{supportedTravelModes:[],defaultTravelMode:null};const n=o(t),i=/\\/solve$/.test(n.path)?\"Route\":/\\/solveClosestFacility$/.test(n.path)?\"ClosestFacility\":\"ServiceAreas\",u=await s(l+(\"/\"===l[l.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:i}}),d=[];let p=null;if(u&&u.data&&u.data.results&&u.data.results.length){const e=u.data.results;for(const t of e)if(\"supportedTravelModes\"===t.paramName){if(t.value&&t.value.features)for(const{attributes:e}of t.value.features)if(e){const t=JSON.parse(e.TravelMode);d.push(t)}}else\"defaultTravelMode\"===t.paramName&&(p=t.value)}return{supportedTravelModes:d,defaultTravelMode:p}}async function f(e){try{const{data:{supportedTravelModes:t,defaultTravelMode:r}}=await s(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\"}});return{supportedTravelModes:t,defaultTravelMode:r}}catch(t){throw new r(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:t})}}export{l as collectGeometries,n as dropZValuesOffInputGeometry,d as fetchServiceDescription,p as fetchTravelModesGP,i as handleSolveResponse,u as isInputGeometryZAware,f as retrieveTravelModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../geometry/SpatialReference.js\";import p from\"../../geometry/Point.js\";import n from\"../../geometry/Extent.js\";import i from\"../../geometry/Polyline.js\";import\"../../geometry.js\";import m from\"../../Graphic.js\";import l from\"./FeatureSet.js\";let u=class extends l{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType=\"polyline\",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){(e||[]).forEach((e=>{this._decompressFeatureGeometry(e,r.summary.envelope.spatialReference)}));const o=a.fromJSON(r.spatialReference);return e.map((e=>{const r=m.fromJSON(e),s=e.geometry&&e.geometry.spatialReference;return r.geometry&&!s&&(t(r.geometry).spatialReference=o),r.strings=e.strings,r.events=(e.events||[]).map((t=>{const r=new m({geometry:new p({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),r}))}get mergedGeometry(){if(!this.features)return null;const e=this.features.map((({geometry:e})=>t(e))),r=this.get(\"extent.spatialReference\");return this._mergePolylinesToSinglePath(e,r)}get strings(){return this.features.map((({strings:e})=>e))}_decompressFeatureGeometry(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}_decompressGeometry(e,t){let r=0,o=0,s=0,a=0;const p=[];let n,i,m,l,u,c,y,g,h=0,f=0,d=0;if(u=e.match(/((\\+|\\-)[^\\+\\-\\|]+|\\|)/g),u||(u=[]),0===parseInt(u[h],32)){h=2;const e=parseInt(u[h],32);h++,c=parseInt(u[h],32),h++,1&e&&(f=u.indexOf(\"|\")+1,y=parseInt(u[f],32),f++),2&e&&(d=u.indexOf(\"|\",f)+1,g=parseInt(u[d],32),d++)}else c=parseInt(u[h],32),h++;for(;h<u.length&&\"|\"!==u[h];){n=parseInt(u[h],32)+r,h++,r=n,i=parseInt(u[h],32)+o,h++,o=i;const e=[n/c,i/c];f&&(l=parseInt(u[f],32)+s,f++,s=l,e.push(l/y)),d&&(m=parseInt(u[d],32)+a,d++,a=m,e.push(m/g)),p.push(e)}return{paths:[p],hasZ:f>0,hasM:d>0,spatialReference:t}}_mergePolylinesToSinglePath(e,t){let r=[];(e||[]).forEach((e=>{e.paths.forEach((e=>{r=r.concat(e)}))}));const o=[];let s=[0,0];return r.forEach((e=>{e[0]===s[0]&&e[1]===s[1]||(o.push(e),s=e)})),new i({paths:[o]},t)}};e([r({type:n,json:{read:{source:\"summary.envelope\"}}})],u.prototype,\"extent\",void 0),e([r()],u.prototype,\"features\",void 0),e([o(\"features\")],u.prototype,\"readFeatures\",null),e([r()],u.prototype,\"geometryType\",void 0),e([r({readOnly:!0})],u.prototype,\"mergedGeometry\",null),e([r()],u.prototype,\"routeId\",void 0),e([r()],u.prototype,\"routeName\",void 0),e([r({value:null,readOnly:!0})],u.prototype,\"strings\",null),e([r({json:{read:{source:\"summary.totalDriveTime\"}}})],u.prototype,\"totalDriveTime\",void 0),e([r({json:{read:{source:\"summary.totalLength\"}}})],u.prototype,\"totalLength\",void 0),e([r({json:{read:{source:\"summary.totalTime\"}}})],u.prototype,\"totalTime\",void 0),u=e([s(\"esri.tasks.support.DirectionsFeatureSet\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=t=>{if(!Array.isArray(t))return!1;const[e]=t;return\"number\"==typeof e||\"string\"==typeof e};class e{constructor(t={}){this._options=t}toQueryParams(e){if(!e)return null;const o=e.toJSON(),n={};return Object.keys(o).forEach((e=>{const r=this._options[e];if(r){const s=\"boolean\"!=typeof r&&r.name?r.name:e,i=\"boolean\"!=typeof r&&r.getter?r.getter(o):o[e];null!=i&&(n[s]=t(i)?i.join(\",\"):\"object\"==typeof i?JSON.stringify(i):i)}else n[e]=o[e]}),this),n}}function o(t){return new e(t)}export{o as createQueryParamsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"./GPMessage.js\";const p=new s({0:\"informative\",1:\"process-definition\",2:\"process-start\",3:\"process-stop\",50:\"warning\",100:\"error\",101:\"empty\",200:\"abort\"});let i=class extends t{constructor(r){super(r),this.type=null}};r([o({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([e(\"esri.tasks.support.NAMessage\")],i);var c=i;export default c;\n"],"sourceRoot":""}
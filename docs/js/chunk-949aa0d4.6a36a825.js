(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-949aa0d4","chunk-3f48965f"],{"053b":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return B}));var n=i("a4ee"),r=(i("e06a"),i("8d60")),s=i("2c4f"),o=i("ce50"),c=i("ce6d"),a=i("af40"),h=i("e92d"),l=i("b2b2"),p=i("f4cc"),u=i("3795"),d=i("59b2"),b=(i("b50f"),i("c120"),i("cea0"),i("d386")),f=i("32ed"),y=i("ce0b"),m=i("4dc9"),v=i("1381"),g=i("cdc1"),_=i("24be"),O=i("b65e"),x=i("7779"),j=i("2589"),w=i("7d9d"),G=i("2c8f"),M=i("1f1c"),S=i("521c"),k=i("4ae5");class V{constructor(t,e,i){this.graphic=t,this.mover=e,this.selected=i,this.type="reshape-start"}}class C{constructor(t,e,i){this.graphic=t,this.mover=e,this.selected=i,this.type="reshape"}}class I{constructor(t,e,i){this.graphic=t,this.mover=e,this.selected=i,this.type="reshape-stop"}}class P{constructor(t,e,i){this.mover=t,this.dx=e,this.dy=i,this.type="move-start"}}class E{constructor(t,e,i){this.mover=t,this.dx=e,this.dy=i,this.type="move"}}class z{constructor(t,e,i){this.mover=t,this.dx=e,this.dy=i,this.type="move-stop"}}class R{constructor(t){this.added=t,this.type="vertex-select"}}class H{constructor(t){this.removed=t,this.type="vertex-deselect"}}class T{constructor(t,e,i,n){this.added=t,this.graphic=e,this.oldGraphic=i,this.vertices=n,this.type="vertex-add"}}class D{constructor(t,e,i,n){this.removed=t,this.graphic=e,this.oldGraphic=i,this.vertices=n,this.type="vertex-remove"}}const A=x["b"].reshapeGraphics,L={vertices:{default:new m["a"]({style:"circle",size:A.vertex.size,color:A.vertex.color,outline:{color:A.vertex.outlineColor,width:1}}),hover:new m["a"]({style:"circle",size:A.vertex.hoverSize,color:A.vertex.hoverColor,outline:{color:A.vertex.hoverOutlineColor,width:1}}),selected:new m["a"]({style:"circle",size:A.selected.size,color:A.selected.color,outline:{color:A.selected.outlineColor,width:1}})},midpoints:{default:new m["a"]({style:"circle",size:A.midpoint.size,color:A.midpoint.color,outline:{color:A.midpoint.outlineColor,width:1}}),hover:new m["a"]({style:"circle",size:A.midpoint.size,color:A.midpoint.color,outline:{color:A.midpoint.outlineColor,width:1}})}},U="esri.views.draw.support.Reshape",F=h["a"].getLogger(U);let q=class extends c["a"].EventedAccessor{constructor(t){super(t),this._activeOperationInfo=null,this._editGeometryOperations=null,this._handles=new a["a"],this._graphicAttributes={esriSketchTool:"box"},this._mover=null,this._snappingTask=null,this._stagedVertex=null,this._viewHandles=new a["a"],this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.vertexGraphics=new s["a"],this.layer=null,this.midpointGraphics=new s["a"],this.midpointSymbol=new m["a"]({style:"circle",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=[],this.snappingManager=null,this.type="reshape",this.view=null}initialize(){this._setup(),this._handles.add([Object(u["k"])(this,"view.ready",()=>{const{layer:t,view:e}=this;Object(O["a"])(e,t),this._viewHandles.add([e.on("key-down",t=>this._keyDownHandler(t),j["b"].TOOL)])}),Object(u["d"])(this,"graphic",()=>this.refresh()),Object(u["d"])(this,"layer",(t,e)=>{e&&(this._clearSelection(),this._resetGraphics(e)),this.refresh()}),Object(u["d"])(this,"enableMidpoints",()=>{this.refresh()})])}destroy(){var t;this._reset(),null==(t=this._mover)||t.destroy(),this._mover=null,this._handles=Object(l["e"])(this._handles),this._viewHandles=Object(l["e"])(this._viewHandles)}get state(){const t=!!this.get("view.ready"),e=!(!this.get("graphic")||!this.get("layer"));return t&&e?"active":t?"ready":"disabled"}set symbols(t){const{midpoints:e=L.midpoints,vertices:i=L.vertices}=t||{};this._set("symbols",{midpoints:e,vertices:i})}isUIGraphic(t){const e=[];return this.graphic&&e.push(this.graphic),e.concat(this.vertexGraphics.items,this.midpointGraphics.items),e.length&&e.includes(t)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_setup(){const{graphic:t,layer:e}=this;if(!e||!t||Object(l["k"])(t.geometry))return;const i=t.geometry;"mesh"!==i.type&&"extent"!==i.type?(this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpGeometryHelper(){const t=this.graphic.geometry;if(Object(l["k"])(t)||"mesh"===t.type||"extent"===t.type)return void this._logGeometryTypeError();const e="multipoint"===t.type?new S["a"]({paths:t.points,spatialReference:t.spatialReference}):t;this._editGeometryOperations=G["a"].fromGeometry(e,2)}_saveSnappingContextForHandle(t,e){var i;this._snappingGraphicsLayer=new y["a"]({listMode:"hide",internal:!0,title:"Reshape snapping layer"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new M["a"]({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:"on-the-ground",offset:0},pointer:(null==(i=e.viewEvent)?void 0:i.pointerType)||"mouse",excludeFeature:this.graphic,visualizer:new v["a"](this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(t)})}_reset(){this._clearSelection(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}_resetSnappingStateVars(){Object(l["l"])(this.snappingManager)&&this.snappingManager.doneSnapping(),Object(l["l"])(this._snappingGraphicsLayer)&&(this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=Object(l["e"])(this._editGeometryOperations),this._snappingTask=Object(l["a"])(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(t){this._removeMidpointGraphics(t),this._removeVertexGraphics(t),this._set("selectedVertices",[])}_removeMidpointGraphics(t){const e=t||this.layer;e&&e.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach(t=>t.destroy()),this.midpointGraphics.removeAll()}_removeVertexGraphics(t){const e=t||this.layer;e&&e.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach(t=>t.destroy()),this.vertexGraphics.removeAll()}_getCoordinatesForUI(t){const e=Object(f["b"])(t.clone());if("polygon"===t.type)for(const i of e){const t=i[i.length-1];i[0][0]===t[0]&&i[0][1]===t[1]&&i.length>2&&i.pop()}return e}_setupGraphics(){const t=this.graphic.geometry;if(Object(l["l"])(t)&&("polyline"===t.type||"polygon"===t.type)){const e=this._getCoordinatesForUI(t);this.enableMidpoints&&this._setUpMidpointGraphics(e),this.enableVertices&&this._setUpVertexGraphics(e)}}_setUpMidpointGraphics(t){this._removeMidpointGraphics();const e=this._createMidpointGraphics(t);this.midpointGraphics.addMany(e),this.layer.addMany(e)}_setUpVertexGraphics(t){this._removeVertexGraphics();const e=this._createVertexGraphics(t);this.vertexGraphics.addMany(e),this._storeRelatedVertexIndices(),this.layer.addMany(e)}_createVertexGraphics(t){const{_graphicAttributes:e,symbols:i,view:{spatialReference:n}}=this,s=[];return null==t||t.forEach((t,o)=>{t.forEach((t,c)=>{var a;const[h,l]=t;s.push(new r["a"]({geometry:new k["a"]({x:h,y:l,spatialReference:n}),symbol:null==i||null==(a=i.vertices)?void 0:a.default,attributes:{...e,pathIndex:o,pointIndex:c}}))})}),s}_createMidpointGraphics(t){const{_graphicAttributes:e,symbols:i,view:{spatialReference:n}}=this,s=[];return null==t||t.forEach((t,o)=>{t.forEach((c,a)=>{const[h,p]=c,u=t[a+1]?a+1:0;if("polygon"===Object(l["j"])(this.graphic.geometry,"type")||0!==u){const[c,l]=t[u],[d,b]=Object(f["d"])([h,p],[c,l]);s.push(new r["a"]({geometry:new k["a"]({x:d,y:b,spatialReference:n}),symbol:i.midpoints.default,attributes:{...e,pathIndex:o,pointIndexStart:a,pointIndexEnd:u}}))}})}),s}_storeRelatedVertexIndices(){const t=this.vertexGraphics.items;if(!t)return;const e=t.map(({geometry:t})=>({x:t.x,y:t.y}));for(let i=0;i<e.length;i++){const n=[];for(let t=0;t<e.length;t++){if(i===t)continue;const r=e[i],s=e[t];r.x===s.x&&r.y===s.y&&n.push(t)}t[i].attributes.relatedGraphicIndices=n}}_setupMover(){const{enableMovement:t,graphic:e,midpointGraphics:i,vertexGraphics:n,view:r}=this,s=Object(l["j"])(e.geometry,"type"),o="point"===s||"multipoint"===s,c=n.concat(i).items;t&&c.push(e),this._mover=new _["default"]({enableMoveAllGraphics:!1,indicatorsEnabled:o,graphics:c,view:r,callbacks:{onGraphicClick:t=>this._onGraphicClickCallback(t),onGraphicMoveStart:t=>this._onGraphicMoveStartCallback(t),onGraphicMove:t=>this._onGraphicMoveCallback(t),onGraphicMoveStop:t=>this._onGraphicMoveStopCallback(t),onGraphicPointerOver:t=>this._onGraphicPointerOverCallback(t),onGraphicPointerOut:t=>this._onGraphicPointerOutCallback(t)}})}_onGraphicClickCallback(t){t.viewEvent.stopPropagation();const e=t.graphic;if(e===this.graphic)this.clearSelection(),this.emit("graphic-click",t),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(t);else if(this._isMidpoint(e)){if(2===t.viewEvent.button)return;const i=this.graphic.clone(),n=this._createVertexFromMidpoint(e);this.refresh(),this._emitVertexAddEvent([e],i,n)}else this._isVertex(e)&&(t.viewEvent.stopPropagation(),2===t.viewEvent.button?this._removeVertices(e):(t.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(e)?this._removeFromSelection(e,!0):this._addToSelection(e)))}_setUpOperation(t){const{graphic:e,dx:i,dy:n}=t,r=e===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(e,t),this._activeOperationInfo={target:this.graphic,mover:e,operationType:r?"move":"reshape",totalDx:i,totalDy:n}}_onGraphicMoveStartCallback(t){const e=t.graphic,{dx:i,dy:n}=t;if(e===this.graphic)return this._clearSelection(),this._resetGraphics(),this._setUpOperation(t),this._emitMoveStartEvent(i,n),void("point"===this._editGeometryOperations.data.type&&this._onHandleMove(e,i,n,t,()=>this._emitMoveEvent(i,n)));if(!this.selectedVertices.includes(e)){if(this._clearSelection(),this._isMidpoint(e)){const t=this.graphic.clone(),i=this._createVertexFromMidpoint(e);this._emitVertexAddEvent([e],t,i)}this._addToSelection(e)}this._setUpOperation(t),this._emitReshapeStartEvent(e),this._onHandleMove(e,i,n,t,()=>this._emitReshapeEvent(e))}_onGraphicMoveCallback(t){const{graphic:e,dx:i,dy:n}=t;this._activeOperationInfo.totalDx+=i,this._activeOperationInfo.totalDy+=n;const{operationType:r}=this._activeOperationInfo;"move"===r?"point"===this._editGeometryOperations.data.type?this._onHandleMove(e,i,n,t,()=>this._emitMoveEvent(i,n)):this._emitMoveEvent(i,n):this._onHandleMove(e,i,n,t,()=>this._emitReshapeEvent(e))}_onGraphicMoveStopCallback(t){const{graphic:e,dx:i,dy:n}=t;this._activeOperationInfo.totalDx+=i,this._activeOperationInfo.totalDy+=n,e===this.graphic?(this._emitMoveStopEvent(),this.refresh()):(this._onHandleMove(e,i,n,t,()=>this._emitReshapeStopEvent(e)),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._isMidpoint(e)&&this.refresh())}_updateMidpointGraphicLocations(t){for(const e of this.midpointGraphics){const{pathIndex:i,pointIndexStart:n,pointIndexEnd:r}=e.attributes,[s,o]=t[i][n],[c,a]=t[i][r],[h,l]=Object(f["d"])([s,o],[c,a]);e.geometry=new k["a"]({x:h,y:l,spatialReference:this.view.spatialReference})}}_getIndicesForVertexGraphic({attributes:t}){return[(null==t?void 0:t.pathIndex)||0,(null==t?void 0:t.pointIndex)||0]}_getVertexFromEditGeometry(t){const[e,i]=this._getIndicesForVertexGraphic(t);return this._editGeometryOperations.data.components[e].vertices[i]}_onHandleMove(t,e,i,n,r){if(Object(l["a"])(this._snappingTask),!this._snappingContext)return;const s=t.geometry,o="graphic-move-stop"===n.type;if(Object(l["l"])(this.snappingManager)&&this.selectedVertices.length<2&&!o){const n=this.snappingManager;this._stagedVertex=n.update(s,this._snappingContext),this._syncGeometryAfterVertexMove(t,new k["a"](this._stagedVertex),e,i,o),r(),this._snappingTask=Object(p["h"])(async c=>{const a=await n.snap(s,this._snappingContext,c);a.valid&&(this._stagedVertex=a.apply(),this._syncGeometryAfterVertexMove(t,new k["a"](this._stagedVertex),e,i,o),r())})}else{const n=Object(l["l"])(this._stagedVertex)?new k["a"](this._stagedVertex):s;this._syncGeometryAfterVertexMove(t,n,e,i,o),r()}}async _syncGeometryAfterVertexMove(t,e,i,n,r=!1){const s=this._editGeometryOperations.data.geometry;if("point"===s.type)t.geometry=e;else{const{x:o,y:c}=e,[a,h]=this._getIndicesForVertexGraphic(t);let l=Object(f["b"])(s);const p=l[a].length-1;l[a][h]=[o,c],"polygon"===s.type&&(0===h?l[a][p]=[o,c]:h===p&&(l[a][0]=[o,c])),this._isVertex(t)&&(l=this._moveRelatedCoordinates(l,t,o,c),l=this._moveSelectedHandleCoordinates(l,t,i,n,"polygon"===s.type),this._updateMidpointGraphicLocations(l)),this.graphic.geometry=s.clone();const u=this._getVertexFromEditGeometry(t),d=o-u.pos[0],b=c-u.pos[1];this._editGeometryOperations.moveVertices([u],d,b,0),r&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(t),e):t.geometry=e)}}_moveRelatedCoordinates(t,e,i,n){const{relatedGraphicIndices:r}=e.attributes;for(const s of r){const r=this.vertexGraphics.getItemAt(s),{pathIndex:o,pointIndex:c}=r.attributes;t[o][c]=[i,n],r.geometry=e.geometry}return t}_moveSelectedHandleCoordinates(t,e,i,n,r){for(const s of this.selectedVertices)if(s!==e){const{pathIndex:e,pointIndex:o,relatedGraphicIndices:c}=s.attributes,a=Object(g["a"])(s.geometry,i,n,this.view),h=t[e].length-1;t[e][o]=[a.x,a.y],s.geometry=a,r&&(0===o?t[e][h]=[a.x,a.y]:o===h&&(t[e][0]=[a.x,a.y]));for(const i of c){const e=this.vertexGraphics.getItemAt(i),{pathIndex:n,pointIndex:r}=e.attributes;t[n][r]=[a.x,a.y],e.geometry=a}}return t}_onGraphicPointerOverCallback(t){const e=t.graphic;this._isVertex(e)&&!this._isSelected(e)&&(e.symbol=this.symbols.vertices.hover),this._updateHoverCursor(e)}_onGraphicPointerOutCallback(t){const e=t.graphic;this._isVertex(e)&&!this._isSelected(e)&&(e.symbol=this.symbols.vertices.default),this.view.cursor="default"}_createVertexFromMidpoint(t){const{_graphicAttributes:e,graphic:i}=this,n=i.geometry;if(Object(l["k"])(n)||"polygon"!==n.type&&"polyline"!==n.type)return[];const r=n.clone(),s=[],{pathIndex:o,pointIndexStart:c,pointIndexEnd:a}=t.attributes,{x:h,y:p}=t.geometry,u=0===a?c+1:a,d=Object(f["b"])(r);return d[o].splice(u,0,[h,p]),t.attributes={...e,pathIndex:o,pointIndex:u,relatedGraphicIndices:[]},s.push({coordinates:d[o][u],componentIndex:o,vertexIndex:u}),this.graphic.geometry=r,s}_addToSelection(t){t instanceof r["a"]&&(t=[t]);for(const e of t)e.symbol=this.symbols.vertices.selected;this._set("selectedVertices",this.selectedVertices.concat(t)),this._emitSelectEvent(t)}_removeFromSelection(t,e){const{vertices:i}=this.symbols,n=e?i.hover:i.default;t instanceof r["a"]&&(t=[t]);for(const r of t)this.selectedVertices.splice(this.selectedVertices.indexOf(r),1),this._set("selectedVertices",this.selectedVertices),r.set("symbol",n);this._emitDeselectEvent(t)}_clearSelection(){if(this.selectedVertices.length){const t=this.selectedVertices;for(const e of this.selectedVertices)e.set("symbol",this.symbols.vertices.default);this._set("selectedVertices",[]),this._emitDeselectEvent(t)}}_keyDownHandler(t){w["a"].delete.includes(t.key)&&!t.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(t){const e=this.graphic.geometry;if(Object(l["k"])(e)||"polygon"!==e.type&&"polyline"!==e.type)return;if("polygon"===e.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;t instanceof r["a"]&&(t=[t]);const i=this.graphic.clone(),n=e.clone();let s=Object(f["b"])(n);const o=[];t instanceof r["a"]&&(t=[t]);for(const r of t){const{x:t,y:e}=r.geometry;for(let i=0;i<s.length;i++){const n=s[i];for(let r=0;r<n.length;r++){const[c,a]=n[r];t===c&&e===a&&(o.push({coordinates:s[i][r],componentIndex:i,vertexIndex:r}),s[i].splice(Number(r),1))}}}if("polygon"===n.type)s=s.filter(t=>{if(t.length<2)return!1;const[e,i]=t[0],[n,r]=t[t.length-1];return(2!==t.length||e!==n||i!==r)&&(e===n&&i===r||t.push(t[0]),!0)}),n.rings=s;else{for(const t of s)1===t.length&&s.splice(s.indexOf(t),1);n.paths=s}this.graphic.geometry=n,this.refresh(),this._emitVertexRemoveEvent(t,i,o)}_isVertex(t){return this.vertexGraphics.includes(t)}_isSelected(t){return this._isVertex(t)&&this.selectedVertices.includes(t)}_isMidpoint(t){return this.midpointGraphics.includes(t)}_updateHoverCursor(t){this.view.cursor=this._isMidpoint(t)?"copy":"move"}_emitMoveStartEvent(t,e){const i=new P(this.graphic,t,e);this.emit("move-start",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}_emitMoveEvent(t,e){const i=new E(this.graphic,t,e);this.emit("move",i),this.callbacks.onMove&&this.callbacks.onMove(i)}_emitMoveStopEvent(){const{totalDx:t,totalDy:e}=this._activeOperationInfo,i=new z(this.graphic,t,e);this.emit("move-stop",i),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(i)}_emitReshapeStartEvent(t){const e=new V(this.graphic,t,this.selectedVertices);this.emit("reshape-start",e),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(e)}_emitReshapeEvent(t){const e=new C(this.graphic,t,this.selectedVertices);this.emit("reshape",e),this.callbacks.onReshape&&this.callbacks.onReshape(e)}_emitReshapeStopEvent(t){const e=new I(this.graphic,t,this.selectedVertices);this.emit("reshape-stop",e),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(e)}_emitSelectEvent(t){const e=new R(t);this.emit("select",e),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(e)}_emitDeselectEvent(t){const e=new H(t);this.emit("deselect",e),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(e)}_emitVertexAddEvent(t,e,i){const n=new T(t,this.graphic,e,i);this.emit("vertex-add",n),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(n)}_emitVertexRemoveEvent(t,e,i){const n=new D(t,this.graphic,e,i);this.emit("vertex-remove",n),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(n)}_logGeometryTypeError(){F.error(new o["a"]("reshape:invalid-geometry","Reshape operation not supported for the provided graphic. The geometry type is not supported."))}};Object(n["a"])([Object(d["b"])()],q.prototype,"callbacks",void 0),Object(n["a"])([Object(d["b"])()],q.prototype,"enableMidpoints",void 0),Object(n["a"])([Object(d["b"])()],q.prototype,"enableMovement",void 0),Object(n["a"])([Object(d["b"])()],q.prototype,"enableVertices",void 0),Object(n["a"])([Object(d["b"])()],q.prototype,"graphic",void 0),Object(n["a"])([Object(d["b"])({readOnly:!0})],q.prototype,"vertexGraphics",void 0),Object(n["a"])([Object(d["b"])()],q.prototype,"layer",void 0),Object(n["a"])([Object(d["b"])({readOnly:!0})],q.prototype,"midpointGraphics",void 0),Object(n["a"])([Object(d["b"])()],q.prototype,"midpointSymbol",void 0),Object(n["a"])([Object(d["b"])({readOnly:!0})],q.prototype,"selectedVertices",void 0),Object(n["a"])([Object(d["b"])()],q.prototype,"snappingManager",void 0),Object(n["a"])([Object(d["b"])({readOnly:!0})],q.prototype,"state",null),Object(n["a"])([Object(d["b"])({value:L})],q.prototype,"symbols",null),Object(n["a"])([Object(d["b"])({readOnly:!0})],q.prototype,"type",void 0),Object(n["a"])([Object(d["b"])()],q.prototype,"view",void 0),q=Object(n["a"])([Object(b["a"])(U)],q);const B=q},"0fc4":function(t,e,i){"use strict";function n(){return[0,0,0,0]}function r(t){return[t[0],t[1],t[2],t[3]]}function s(t,e,i,n){return[t,e,i,n]}function o(t){const e=n(),i=Math.min(4,t.length);for(let n=0;n<i;++n)e[n]=t[n];return e}function c(t,e){return new Float64Array(t,e,4)}function a(){return n()}function h(){return s(1,1,1,1)}function l(){return s(1,0,0,0)}function p(){return s(0,1,0,0)}function u(){return s(0,0,1,0)}function d(){return s(0,0,0,1)}i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return b})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return r})),i.d(e,"e",(function(){return n})),i.d(e,"f",(function(){return o})),i.d(e,"g",(function(){return s}));const b=a(),f=h(),y=l(),m=p(),v=u(),g=d();Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,fromArray:o,createView:c,zeros:a,ones:h,unitX:l,unitY:p,unitZ:u,unitW:d,ZEROS:b,ONES:f,UNIT_X:y,UNIT_Y:m,UNIT_Z:v,UNIT_W:g})},1381:function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));i("e06a");var n=i("8d60"),r=(i("1fd7"),i("c649")),s=i("a915"),o=i("3349"),c=i("02f1"),a=i("0b2d"),h=i("7779"),l=i("c9fb"),p=i("65a7"),u=i("4dc9"),d=i("db52"),b=i("4cac"),f=i("4ae5"),y=i("521c");class m extends p["a"]{constructor(t){super(),this.graphicsLayer=t}visualizeIntersectionPoint(t,e){return this._visualizeSnappingIndicator(new f["a"]({x:t.intersectionPoint[0],y:t.intersectionPoint[1],spatialReference:e.coordinateHelper.spatialReference}),_)}visualizePoint(t,e){return this._visualizeSnappingIndicator(new f["a"]({x:t.point[0],y:t.point[1],spatialReference:e.coordinateHelper.spatialReference}),O)}visualizeLine(t,e){return this._visualizeSnappingIndicator(new y["a"]({paths:[[t.lineStart,t.lineEnd]],spatialReference:e.coordinateHelper.spatialReference}),x)}visualizeParallelSign(t,e){return this._visualizeSnappingIndicator(new y["a"]({paths:[[t.lineStart,t.lineEnd]],spatialReference:e.coordinateHelper.spatialReference}),j)}visualizeRightAngleQuad(t,e){return this._visualizeSnappingIndicator(new y["a"]({paths:[[t.previousVertex,t.centerVertex,t.nextVertex]],spatialReference:e.coordinateHelper.spatialReference}),S(t))}_visualizeSnappingIndicator(t,e){const i=new n["a"]({geometry:t,symbol:e});return this.graphicsLayer.add(i),Object(r["c"])(()=>{this.graphicsLayer.remove(i)})}}const v=h["a"].main.toArray(),g=[...h["a"].main.toRgb(),100],_=new u["a"]({outline:new d["a"]({width:1.5,color:v}),size:15,color:[0,0,0,0]}),O=new u["a"]({outline:{width:.5,color:[0,0,0,1]},size:10,color:v}),x=new b["a"]({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:Object(s["i"])(l["a"].lineHintWidthTarget),color:v}]}}}),j=new b["a"]({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:v}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:v}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),w=t=>new b["a"]({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:Object(s["i"])(l["a"].rightAngleHintSize),rotation:t,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:Object(s["i"])(l["a"].rightAngleHintOutlineSize),color:v},{type:"CIMSolidFill",enable:!0,color:g}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),G=w(45),M=w(225),S=(()=>{const t=Object(c["b"])(),e=Object(c["b"])(),i=Object(a["f"])();return n=>(Object(o["f"])(t,n.centerVertex,n.previousVertex),Object(o["f"])(e,n.nextVertex,n.previousVertex),Object(o["j"])(i,t,e),i[2]<0?G:M)})()},"1f1c":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.editGeometryOperations=t.editGeometryOperations,this.elevationInfo=t.elevationInfo,this.pointer=t.pointer,this.vertexHandle=t.vertexHandle,this.excludeFeature=t.excludeFeature,this.visualizer=t.visualizer}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}}},2119:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("2ab7");class r{constructor(t){this.allocator=t,this._items=[],this._itemsPtr=0,this.grow()}get(){return 0===this._itemsPtr&&Object(n["a"])(()=>this.reset()),this._itemsPtr===this._items.length&&this.grow(),this._items[this._itemsPtr++]}reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,s));t++)this._items.push(this.allocator())}}const s=1024},"24be":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return C}));var n=i("a4ee"),r=(i("1fd7"),i("ce6d")),s=i("af40"),o=i("7ffa"),c=i("b2b2"),a=i("3795"),h=i("59b2"),l=(i("cea0"),i("d386")),p=i("ce0b"),u=i("cdc1"),d=i("b65e");class b{constructor(t,e,i,n,r){this.graphic=t,this.index=e,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-click"}}class f{constructor(t,e,i,n,r){this.graphic=t,this.index=e,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-double-click"}}class y{constructor(t,e,i,n,r,s,o,c,a,h){this.graphic=t,this.allGraphics=e,this.index=i,this.x=n,this.y=r,this.dx=s,this.dy=o,this.totalDx=c,this.totalDy=a,this.viewEvent=h,this.defaultPrevented=!1,this.type="graphic-move-start"}preventDefault(){this.defaultPrevented=!0}}class m{constructor(t,e,i,n,r,s,o,c,a,h){this.graphic=t,this.allGraphics=e,this.index=i,this.x=n,this.y=r,this.dx=s,this.dy=o,this.totalDx=c,this.totalDy=a,this.viewEvent=h,this.defaultPrevented=!1,this.type="graphic-move"}preventDefault(){this.defaultPrevented=!0}}class v{constructor(t,e,i,n,r,s,o,c,a,h){this.graphic=t,this.allGraphics=e,this.index=i,this.x=n,this.y=r,this.dx=s,this.dy=o,this.totalDx=c,this.totalDy=a,this.viewEvent=h,this.defaultPrevented=!1,this.type="graphic-move-stop"}preventDefault(){this.defaultPrevented=!0}}class g{constructor(t,e,i,n,r){this.graphic=t,this.index=e,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-pointer-over"}}class _{constructor(t,e,i,n,r){this.graphic=t,this.index=e,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-pointer-out"}}class O{constructor(t,e,i,n,r){this.graphic=t,this.index=e,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-pointer-down"}}class x{constructor(t,e,i,n,r){this.graphic=t,this.index=e,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-pointer-up"}}var j=i("2589"),w=i("3cde"),G=i("412f"),M=i("4dc9"),S=i("db52"),k=i("0d76");let V=class extends r["a"].EventedAccessor{constructor(t){super(t),this._activeGraphic=null,this._indicators=[],this._dragEvent=null,this._handles=new s["a"],this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new s["a"],this._manipulators=[],this._layerViews=null,this.type="graphic-mover",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.indicatorsEnabled=!0,this.layer=new p["a"]({listMode:"hide",internal:!0,title:"GraphicMover highlight layer"}),this.view=null}initialize(){Object(d["a"])(this.view,this.layer),this.refresh(),this._handles.add([Object(a["e"])(this,["graphics","graphics.length"],()=>this.refresh()),Object(a["k"])(this,"view.ready",()=>{this._viewHandles.add([this.view.on("immediate-click",t=>this._clickHandler(t),j["b"].TOOL),this.view.on("double-click",t=>this._doubleClickHandler(t),j["b"].TOOL),this.view.on("pointer-down",t=>this._pointerDownHandler(t),j["b"].TOOL),this.view.on("pointer-move",t=>this._pointerMoveHandler(t),j["b"].TOOL),this.view.on("pointer-up",t=>this._pointerUpHandler(t),j["b"].TOOL),this.view.on("drag",t=>this._dragHandler(t),j["b"].TOOL),this.view.on("key-down",t=>this._keyDownHandler(t),j["b"].TOOL)])})])}destroy(){var t;this._removeIndicators(),null==(t=this.view.map)||t.remove(this.layer),this.layer.destroy(),this.reset(),this._manipulators.forEach(t=>t.destroy()),this._manipulators=null,this._handles=Object(c["e"])(this._handles),this._viewHandles=Object(c["e"])(this._viewHandles)}get state(){const t=!!this.get("view.ready"),e=!!this.get("graphics.length"),i=this._activeGraphic;return t&&e?i?"moving":"active":t?"ready":"disabled"}refresh(){this._setUpIndicators(),this._setUpManipulators(),this._syncLayerViews()}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(t,e){const i=this.graphics[t];i&&(i.set("geometry",e),this._setUpIndicators())}_clickHandler(t){const e=this._findTargetGraphic(Object(G["a"])(t));if(e){const i=new b(e,this.graphics.indexOf(e),t.x,t.y,t);this.emit("graphic-click",i),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(i)}}_doubleClickHandler(t){const e=this._findTargetGraphic(Object(G["a"])(t));if(e){const i=new f(e,this.graphics.indexOf(e),t.x,t.y,t);this.emit("graphic-double-click",i),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(i)}}_pointerDownHandler(t){const e=this._findTargetGraphic(Object(G["a"])(t));if(e){this._activeGraphic=e;const{x:i,y:n}=t,r=new O(e,this.graphics.indexOf(e),i,n,t);this.emit("graphic-pointer-down",r),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(r)}else this._activeGraphic=null}_pointerUpHandler(t){if(this._activeGraphic){const{x:e,y:i}=t,n=this.graphics.indexOf(this._activeGraphic),r=new x(this._activeGraphic,n,e,i,t);this.emit("graphic-pointer-up",r),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(r)}}_pointerMoveHandler(t){if(this._dragEvent)return;const e=this._findTargetGraphic(Object(G["a"])(t));if(e){const{x:i,y:n}=t;if(this._hoverGraphic){if(this._hoverGraphic===e)return;const r=this.graphics.indexOf(this._hoverGraphic),s=new _(this.graphics[r],r,i,n,t);this._hoverGraphic=null,this.emit("graphic-pointer-out",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}const r=this.graphics.indexOf(e),s=new g(e,r,i,n,t);return this._hoverGraphic=e,this.emit("graphic-pointer-over",s),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(s))}if(this._hoverGraphic){const{x:e,y:i}=t,n=this.graphics.indexOf(this._hoverGraphic),r=new _(this.graphics[n],n,e,i,t);this._hoverGraphic=null,this.emit("graphic-pointer-out",r),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(r)}}_dragHandler(t){if("start"!==t.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;"start"===t.action&&this._removeIndicators(),t.stopPropagation();const{action:e,x:i,y:n}=t,r=this.graphics.indexOf(this._activeGraphic),s=this._dragEvent?i-this._dragEvent.x:0,c=this._dragEvent?n-this._dragEvent.y:0,a=i-t.origin.x,h=n-t.origin.y,l="start"===e?this._activeGraphic.geometry:this._initialDragGeometry,p=Object(u["a"])(l,a,h,this.view);if(this._activeGraphic.geometry=p,this.enableMoveAllGraphics&&this.graphics.forEach(t=>{t!==this._activeGraphic&&(t.geometry=Object(u["a"])(t.geometry,s,c,this.view))}),this._dragEvent=t,"start"===e){this._initialDragGeometry=Object(o["a"])(l);const e=new y(this._activeGraphic,this.graphics,r,i,n,s,c,a,h,t);this.emit("graphic-move-start",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set("geometry",l)}else if("update"===e){const e=new m(this._activeGraphic,this.graphics,r,i,n,s,c,a,h,t);this.emit("graphic-move",e),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(e),e.defaultPrevented&&(this._activeGraphic.geometry=l)}else{const e=new v(this._activeGraphic,this.graphics,r,i,n,s,c,a,h,t);this._dragEvent=null,this._activeGraphic=null,this._setUpIndicators(),this.emit("graphic-move-stop",e),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(e),e.defaultPrevented&&(this.graphics[r].set("geometry",this._initialDragGeometry),this._setUpIndicators()),this._initialDragGeometry=null}}_keyDownHandler(t){"a"!==t.key&&"d"!==t.key&&"n"!==t.key||"moving"!==this.state||t.stopPropagation()}_findTargetGraphic(t){const e=this.view.toMap(t);let i=null,n=Number.MAX_VALUE;this._syncLayerViews();const r=this._layerViews.flatMap(t=>"graphicsViews"in t?Array.from(t.graphicsViews(),t=>t.hitTest(e)).flat():t.graphicsView.hitTest(e)).filter(t=>this.graphics.indexOf(t)>-1);return r.length?r[0]:(this._manipulators.forEach(e=>{const r=e.intersectionDistance(t);Object(c["l"])(r)&&r<n&&(n=r,i=e.graphic)}),i)}_syncLayerViews(){this._layerViews=[];const t=new Set;for(const e of this.graphics){const i=this.view.allLayerViews.find(t=>{const i=t.layer;return"sublayers"in i&&Object(c["l"])(i.sublayers)&&!!i.sublayers.find(t=>t===e.layer)||i===e.layer});i&&t.add(i)}this._layerViews=[...t]}_setUpManipulators(){const{graphics:t,view:e}=this;this._manipulators.forEach(t=>t.destroy()),this._manipulators=null!=t&&t.length?t.map(t=>new w["a"]({graphic:t,view:e})):[]}_setUpIndicators(){var t;this._removeIndicators(),this.indicatorsEnabled&&(this._indicators=(null==(t=this.graphics)?void 0:t.map(t=>{const e=t.clone();return e.symbol=this._getSymbolForIndicator(t),e}))||[],this.layer.addMany(this._indicators))}_removeIndicators(){this._indicators.length&&(this.layer.removeMany(this._indicators),this._indicators.forEach(t=>t.destroy()),this._indicators=[])}_getSymbolForIndicator(t){const e=12;if(Object(c["k"])(t.symbol))return null;switch(t.symbol.type){case"cim":return new M["a"]({style:"circle",size:e,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case"picture-marker":{const{xoffset:e,yoffset:i,height:n,width:r}=t.symbol,s=n===r?r:Math.max(n,r);return new M["a"]({xoffset:e,yoffset:i,size:s,style:"square",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-marker":{const{xoffset:e,yoffset:i,size:n,style:r}=t.symbol;return new M["a"]({xoffset:e,yoffset:i,style:"circle"===r?"circle":"square",size:n+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-fill":return new k["a"]({color:[0,0,0,0],outline:{style:"dash",color:[255,127,0,1],width:1}});case"simple-line":return new S["a"]({color:[255,127,0,1],style:"dash",width:1});case"text":{const{xoffset:i,yoffset:n}=t.symbol;return new M["a"]({xoffset:i,yoffset:n,size:e,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}};Object(n["a"])([Object(h["b"])()],V.prototype,"_activeGraphic",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],V.prototype,"type",void 0),Object(n["a"])([Object(h["b"])()],V.prototype,"callbacks",void 0),Object(n["a"])([Object(h["b"])()],V.prototype,"enableMoveAllGraphics",void 0),Object(n["a"])([Object(h["b"])()],V.prototype,"graphics",void 0),Object(n["a"])([Object(h["b"])()],V.prototype,"indicatorsEnabled",void 0),Object(n["a"])([Object(h["b"])()],V.prototype,"layer",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],V.prototype,"state",null),Object(n["a"])([Object(h["b"])()],V.prototype,"view",void 0),V=Object(n["a"])([Object(l["a"])("esri.views.draw.support.GraphicMover")],V);const C=V},"3cde":function(t,e,i){"use strict";i.d(e,"a",(function(){return v}));var n=i("a4ee"),r=i("fc29"),s=i("ce6d"),o=i("b2b2"),c=i("a915"),a=i("59b2"),h=(i("b50f"),i("c120"),i("cea0"),i("d386")),l=i("3349"),p=i("e431"),u=i("0b2d"),d=i("8188"),b=i("f408"),f=i("a6c1"),y=i("fd14"),m=i("e94b");let v=class extends r["a"]{constructor(t){super(t),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new s["a"].EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(t){this._circleCollisionCache=null,this._originalSymbol=t.symbol,this._set("graphic",t),this.attachSymbolChanged()}get elevationInfo(){const t="elevationInfo"in this.graphic.layer&&this.graphic.layer.elevationInfo,e=Object(b["f"])(this.graphic),i=t?t.offset:0;return new y["a"]({mode:e,offset:i})}set focusedSymbol(t){t!==this._get("focusedSymbol")&&(this._set("focusedSymbol",t),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(t){t!==this._get("grabbing")&&(this._set("grabbing",t),this._updateGraphicSymbol())}set hovering(t){t!==this._get("hovering")&&(this._set("hovering",t),this._updateGraphicSymbol())}set selected(t){t!==this._get("selected")&&(this._set("selected",t),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:t?"select":"deselect"}))}get _focused(){return this._get("hovering")||this._get("grabbing")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}intersectionDistance(t){const e=this.graphic;if(!1===e.visible)return null;const i=e.geometry;if(Object(o["k"])(i))return null;const n=this._get("focusedSymbol"),r=Object(o["l"])(n)?n:e.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,t,i,r):this._intersectDistance3D(this.view,t,e)}attach(){this.attachSymbolChanged(),Object(o["l"])(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),Object(o["l"])(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch("symbol",t=>{Object(o["l"])(t)&&t!==this.focusedSymbol&&t!==this._originalSymbol&&(this._originalSymbol=t,this._focused&&Object(o["l"])(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))},!0)}detachSymbolChanged(){Object(o["l"])(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&Object(o["l"])(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(t,e,i,n){if(n=n||Object(f["h"])(i),Object(o["k"])(n))return null;const r=1;let s=this._circleCollisionCache;if("point"!==i.type||"simple-marker"!==n.type)return Object(m["b"])(e,i,t)?r:null;if(Object(o["k"])(s)||!s.originalPoint.equals(i)){const e=i,r=t.spatialReference;if(Object(d["b"])(e.spatialReference,r)){const t=Object(d["m"])(e,r);s={originalPoint:e.clone(),mapPoint:t,radiusPx:Object(c["h"])(n.size)},this._circleCollisionCache=s}}if(Object(o["l"])(s)){const i=Object(c["j"])(e,_),o=t.toScreen(s.mapPoint),a=s.radiusPx,h=o.x+Object(c["h"])(n.xoffset),p=o.y-Object(c["h"])(n.yoffset);return Object(l["a"])(i,[h,p])<a*a?r:null}return null}_intersectDistance3D(t,e,i){const n=t.toMap(e,{include:[i]});return n&&Object(d["t"])(n,g,t.renderSpatialReference)?Object(p["p"])(g,t.state.camera.eye):null}};Object(n["a"])([Object(a["b"])({constructOnly:!0,nonNullable:!0})],v.prototype,"graphic",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],v.prototype,"elevationInfo",null),Object(n["a"])([Object(a["b"])({constructOnly:!0,nonNullable:!0})],v.prototype,"view",void 0),Object(n["a"])([Object(a["b"])({value:null})],v.prototype,"focusedSymbol",null),Object(n["a"])([Object(a["b"])({constructOnly:!0})],v.prototype,"layer",void 0),Object(n["a"])([Object(a["b"])()],v.prototype,"interactive",void 0),Object(n["a"])([Object(a["b"])()],v.prototype,"selectable",void 0),Object(n["a"])([Object(a["b"])()],v.prototype,"grabbable",void 0),Object(n["a"])([Object(a["b"])({value:!1})],v.prototype,"grabbing",null),Object(n["a"])([Object(a["b"])()],v.prototype,"dragging",void 0),Object(n["a"])([Object(a["b"])()],v.prototype,"hovering",null),Object(n["a"])([Object(a["b"])({value:!1})],v.prototype,"selected",null),Object(n["a"])([Object(a["b"])()],v.prototype,"cursor",void 0),v=Object(n["a"])([Object(h["a"])("esri.views.interactive.GraphicManipulator")],v);const g=Object(u["f"])(),_=Object(c["g"])()},"536f":function(t,e,i){"use strict";function n(t,e){return e?"xoffset"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):"yoffset"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function r(t){let e=0,i=0;for(let n=0;n<t.length;n++){const r=t[n].size;"number"==typeof r&&(e+=r,i++)}return e/i}function s(t,e){return"number"==typeof t?t:t&&t.stops&&t.stops.length?r(t.stops):e}function o(t,e){if(!e)return t;const i=e.filter(t=>"size"===t.type).map(e=>{const{maxSize:i,minSize:n}=e;return(s(i,t)+s(n,t))/2});let n=0;const r=i.length;if(0===r)return t;for(let s=0;s<r;s++)n+=i[s];const o=Math.floor(n/r);return Math.max(o,t)}function c(t){const e=t&&t.renderer,i="touch"===(t&&t.event&&t.event.pointerType)?9:6;if(!e)return i;const r="visualVariables"in e?o(i,e.visualVariables):i;if("simple"===e.type)return n(r,e.symbol);if("unique-value"===e.type){let t=r;return e.uniqueValueInfos.forEach(e=>{t=n(t,e.symbol)}),t}if("class-breaks"===e.type){let t=r;return e.classBreakInfos.forEach(e=>{t=n(t,e.symbol)}),t}return e.type,r}i.d(e,"a",(function(){return c}))},"65a7":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("c649"),r=i("e753"),s=i("e6b5"),o=i("d232"),c=i("b63c"),a=i("5715");class h{draw(t,e){const i=this.getUniqueHints(t),h=[];for(const n of i)n instanceof r["a"]&&h.push(this.visualizeIntersectionPoint(n,e)),n instanceof s["a"]&&h.push(this.visualizeLine(n,e)),n instanceof o["a"]&&h.push(this.visualizeParallelSign(n,e)),n instanceof a["a"]&&h.push(this.visualizeRightAngleQuad(n,e)),n instanceof c["a"]&&h.push(this.visualizePoint(n,e));return Object(n["b"])(h)}getUniqueHints(t){const e=[];for(const i of t){let t=!0;for(const n of e)if(i.equals(n)){t=!1;break}t&&e.push(i)}return e}}},7289:function(t,e,i){"use strict";i.d(e,"a",(function(){return I})),i.d(e,"b",(function(){return P})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return f})),i.d(e,"f",(function(){return u})),i.d(e,"g",(function(){return b})),i.d(e,"h",(function(){return d})),i.d(e,"i",(function(){return p})),i.d(e,"j",(function(){return w})),i.d(e,"k",(function(){return G})),i.d(e,"l",(function(){return S})),i.d(e,"m",(function(){return k})),i.d(e,"n",(function(){return M})),i.d(e,"o",(function(){return C})),i.d(e,"p",(function(){return V})),i.d(e,"q",(function(){return j})),i.d(e,"r",(function(){return T})),i.d(e,"s",(function(){return E})),i.d(e,"t",(function(){return z})),i.d(e,"u",(function(){return x})),i.d(e,"v",(function(){return R})),i.d(e,"w",(function(){return h}));var n=i("38a4"),r=i("b2b2"),s=i("e431"),o=i("0b2d"),c=(i("f895"),i("7361"));function a(t=D){return[t[0],t[1],t[2],t[3]]}function h(t,e,i,n){return p(t,e,i,n,c["e"].get())}function l(t,e=a()){return p(t[0],t[1],t[2],t[3],e)}function p(t,e,i,n,r=a()){return r[0]=t,r[1]=e,r[2]=i,r[3]=n,r}function u(t,e,i){return Object(s["n"])(i,t),i[3]=e,i}function d(t,e,i){const n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=Math.abs(n-1)>1e-5&&n>1e-12?1/Math.sqrt(n):1;return i[0]=e[0]*r,i[1]=e[1]*r,i[2]=e[2]*r,i[3]=-(i[0]*t[0]+i[1]*t[1]+i[2]*t[2]),i}function b(t,e,i,n=a()){const r=i[0]-e[0],s=i[1]-e[1],o=i[2]-e[2],c=t[0]-e[0],h=t[1]-e[1],l=t[2]-e[2],p=s*l-o*h,u=o*c-r*l,d=r*h-s*c,b=p*p+u*u+d*d,f=Math.abs(b-1)>1e-5&&b>1e-12?1/Math.sqrt(b):1;n[0]=p*f,n[1]=u*f,n[2]=d*f,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2])}function f(t,e,i,n,r){if(t.count<3)return!1;t.getVec(i,m);let o=n,c=!1;for(;o<t.count-1&&!c;)t.getVec(o,v),o++,c=!Object(s["r"])(m,v);if(!c)return!1;for(o=Math.max(o,r),c=!1;o<t.count&&!c;)t.getVec(o,g),o++,Object(s["m"])(_,m,v),Object(s["u"])(_,_),Object(s["m"])(O,v,g),Object(s["u"])(O,O),c=!Object(s["r"])(m,g)&&!Object(s["r"])(v,g)&&Math.abs(Object(s["k"])(_,O))<y;return c?(b(m,v,g,e),!0):(0!==i||1!==n||2!==r)&&f(t,e,0,1,2)}const y=.99619469809,m=Object(o["f"])(),v=Object(o["f"])(),g=Object(o["f"])(),_=Object(o["f"])(),O=Object(o["f"])();function x(t,e,i){return t!==i&&l(t,i),i[3]=-Object(s["k"])(T(i),e),i}function j(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function w(t,e,i,n){return Object(s["j"])(g,e,t),d(i,g,n)}function G(t,e,i,n){return H(t,e,Object(s["m"])(c["d"].get(),i,e),A,n)}function M(t,e,i){return!!Object(r["l"])(e)&&H(t,e.origin,e.direction,L,i)}function S(t,e,i){return H(t,e.origin,e.vector,0,i)}function k(t,e,i){return H(t,e.origin,e.vector,1,i)}function V(t,e){return R(t,e)>=0}function C(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],c=e[5];return t[0]*(t[0]>0?i:s)+t[1]*(t[1]>0?n:o)+t[2]*(t[2]>0?r:c)+t[3]>=0}function I(t,e){const i=Object(s["k"])(T(t),e.ray.direction),n=-R(t,e.ray.origin);if(n<0&&i>=0)return!1;if(i>-1e-6&&i<1e-6)return n>0;if((n<0||i<0)&&!(n<0&&i<0))return!0;const r=n/i;return i>0?r<e.c1&&(e.c1=r):r>e.c0&&(e.c0=r),e.c0<=e.c1}function P(t,e){const i=Object(s["k"])(T(t),e.ray.direction),n=-R(t,e.ray.origin);if(i>-1e-6&&i<1e-6)return n>0;const r=n/i;return i>0?r<e.c1&&(e.c1=r):r>e.c0&&(e.c0=r),e.c0<=e.c1}function E(t,e,i){const n=Object(s["h"])(c["d"].get(),T(t),-t[3]),r=z(t,Object(s["m"])(c["d"].get(),e,n),c["d"].get());return Object(s["i"])(i,r,n),i}function z(t,e,i){const n=Object(s["h"])(c["d"].get(),T(t),Object(s["k"])(T(t),e));return Object(s["m"])(i,e,n),i}function R(t,e){return Object(s["k"])(T(t),e)+t[3]}function H(t,e,i,r,o){const c=Object(s["k"])(T(t),i);if(0===c)return!1;let a=-(Object(s["k"])(T(t),e)+t[3])/c;return 1&r&&(a=Object(n["f"])(a,0,1)),!(!(4&r)&&a<0||!(8&r)&&a>1)&&(Object(s["i"])(o,e,Object(s["h"])(o,i,a)),!0)}function T(t){return t}const D=[0,0,1,0],A=12,L=8},7361:function(t,e,i){"use strict";i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return y})),i.d(e,"c",(function(){return u})),i.d(e,"d",(function(){return d})),i.d(e,"e",(function(){return b}));var n=i("2ab7"),r=i("dae5"),s=i("afe1"),o=i("b139"),c=i("02f1"),a=i("0b2d"),h=i("0fc4");class l{constructor(t,e,i){this.itemByteSize=t,this.itemCreate=e,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(i/this.itemByteSize)}get(){0===this._itemsPtr&&Object(n["a"])(()=>this.reset());const t=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=t;){const t=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let e=0;e<this._itemsPerBuffer;++e)this._items.push(this.itemCreate(t,e*this.itemByteSize));this._buffers.push(t)}return this._items[this._itemsPtr++]}reset(){const t=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>t;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(t=p){return new l(16,c["d"],t)}static createVec3f64(t=p){return new l(24,a["e"],t)}static createVec4f64(t=p){return new l(32,h["c"],t)}static createMat3f64(t=p){return new l(72,r["a"],t)}static createMat4f64(t=p){return new l(128,s["b"],t)}static createQuatf64(t=p){return new l(32,o["d"],t)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}const p=4096,u=l.createVec2f64(),d=l.createVec3f64(),b=l.createVec4f64(),f=(l.createMat3f64(),l.createMat4f64()),y=l.createQuatf64()},7779:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return u}));var n=i("9ef0");const r={main:new n["a"]([255,127,0]),selected:new n["a"]([255,255,255]),outline:new n["a"]([0,0,0,.5]),selectedOutline:new n["a"]([255,255,255]),hoverOutline:new n["a"]([255,255,255]),secondary:new n["a"]([255,255,255]),secondaryOutline:new n["a"]([100,100,100]),transparent:new n["a"]([0,0,0,0])};function s(t,e){if(e)for(const i in e)t[i]=e[i]}class o{constructor(t){this.size=8,this.hoverSize=10,this.color=r.main,this.hoverColor=r.main,this.outlineColor=r.outline,this.hoverOutlineColor=r.hoverOutline,s(this,t)}}class c{constructor(t){this.color=r.secondary,this.hoverColor=r.main,s(this,t)}}class a{constructor(t){this.color=r.transparent,this.hoverColor=r.transparent,this.outlineColor=r.main,this.hoverOutlineColor=r.main,this.stagedColor=r.transparent,this.stagedOutlineColor=r.secondary,s(this,t)}}class h{constructor(t){this.vertex=new o,this.midpoint=new o({color:r.secondary,outlineColor:r.secondaryOutline,size:6}),this.selected=new o({color:r.selected,hoverColor:r.selected,hoverOutlineColor:r.hoverOutline}),s(this,t)}}class l{constructor(t){this.center=new o({color:r.secondaryOutline}),this.fill=new a,this.line=new c,this.vertex=new o({color:r.selected,outlineColor:r.main,hoverColor:r.selected,hoverOutlineColor:r.secondaryOutline}),s(this,t)}}class p{constructor(t){this.reshapeGraphics=new h,this.transformGraphics=new l,s(this,t)}}const u=new p},a1b1:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return c}));var n=i("38a4"),r=i("e431"),s=i("0b2d");function o(t,e,i){const n=Object(r["k"])(t,e)/Object(r["k"])(t,t);return Object(r["h"])(i,t,n)}function c(t,e){return Object(r["k"])(t,e)/Object(r["s"])(t)}function a(t,e){const i=Object(r["k"])(t,e)/(Object(r["s"])(t)*Object(r["s"])(e));return-Object(n["b"])(i)}function h(t,e,i){Object(r["u"])(l,t),Object(r["u"])(p,e);const s=Object(r["k"])(l,p),o=Object(n["b"])(s),c=Object(r["j"])(l,l,p);return Object(r["k"])(c,i)<0?2*Math.PI-o:o}const l=Object(s["f"])(),p=Object(s["f"])()},afe1:function(t,e,i){"use strict";function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function s(t,e,i,n,r,s,o,c,a,h,l,p,u,d,b,f){return[t,e,i,n,r,s,o,c,a,h,l,p,u,d,b,f]}function o(t,e){return new Float64Array(t,e,16)}i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"e",(function(){return s}));const c=n();Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,createView:o,IDENTITY:c})},b139:function(t,e,i){"use strict";function n(){return[0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3]]}function s(t,e,i,n){return[t,e,i,n]}function o(t,e){return new Float64Array(t,e,4)}i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return o}));const c=n();Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,createView:o,IDENTITY:c})},b63c:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("6706"),r=i("7dcb");class s extends r["a"]{constructor(t){super(),this.point=t}equals(t){return t instanceof s&&Object(n["d"])(this.point,t.point)}}},cdc1:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return p})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return c})),i.d(e,"e",(function(){return h}));var n=i("38a4"),r=i("9180"),s=i("28b1"),o=i("32ed");function c(t,e,i,n){if(null==n||t.hasZ||(n=void 0),"point"===t.type)return t.x+=e,t.y+=i,t.hasZ&&null!=n&&(t.z+=n),t;if("multipoint"===t.type){const r=t.points;for(let t=0;t<r.length;t++)r[t]=u(r[t],e,i,n);return t}if("extent"===t.type)return t.xmin+=e,t.xmax+=e,t.ymin+=i,t.ymax+=i,null!=n&&(t.zmin+=n,t.zmax+=n),t;const r=Object(o["b"])(t),s="polyline"===t.type?t.paths:t.rings;for(let o=0;o<r.length;o++){const t=r[o];for(let r=0;r<t.length;r++)t[r]=u(t[r],e,i,n)}return"paths"in t?t.paths=s:t.rings=s,t}function a(t,e,i,n,r){const s=t.clone(),a=n.resolution;if("point"===s.type){if(r)c(s,e*a,-i*a);else{const t=n.state.transform,r=n.state.inverseTransform,o=t[0]*s.x+t[2]*s.y+t[4],c=t[1]*s.x+t[3]*s.y+t[5];s.x=r[0]*(o+e)+r[2]*(c+i)+r[4],s.y=r[1]*(o+e)+r[3]*(c+i)+r[5]}return s}if("multipoint"===s.type){if(r)c(s,e*a,-i*a);else{const t=s.points,r=n.state.transform,o=n.state.inverseTransform;for(let n=0;n<t.length;n++){const s=t[n],c=r[0]*s[0]+r[2]*s[1]+r[4],a=r[1]*s[0]+r[3]*s[1]+r[5],h=o[0]*(c+e)+o[2]*(a+i)+o[4],l=o[1]*(c+e)+o[3]*(a+i)+o[5];t[n]=d(s,h,l,void 0)}}return s}if("extent"===s.type){if(r)c(s,e*a,-i*a);else{const t=n.state.transform,r=n.state.inverseTransform,o=t[0]*s.xmin+t[2]*s.ymin+t[4],c=t[1]*s.xmin+t[3]*s.ymin+t[5],a=t[0]*s.xmax+t[2]*s.ymax+t[4],h=t[1]*s.xmax+t[3]*s.ymax+t[5];s.xmin=r[0]*(o+e)+r[2]*(c+i)+r[4],s.ymin=r[1]*(o+e)+r[3]*(c+i)+r[5],s.xmax=r[0]*(a+e)+r[2]*(h+i)+r[4],s.ymax=r[1]*(a+e)+r[3]*(h+i)+r[5]}return s}if(r)c(s,e*a,-i*a);else{const t=Object(o["b"])(s),r="polyline"===s.type?s.paths:s.rings,c=n.state.transform,a=n.state.inverseTransform;for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.length;t++){const n=r[t],s=c[0]*n[0]+c[2]*n[1]+c[4],o=c[1]*n[0]+c[3]*n[1]+c[5],h=a[0]*(s+e)+a[2]*(o+i)+a[4],l=a[1]*(s+e)+a[3]*(o+i)+a[5];r[t]=d(n,h,l,void 0)}}"paths"in s?s.paths=r:s.rings=r}return s}function h(t,e,i,n){if("point"===t.type){const{x:r,y:s}=t,o=n?n[0]:r,c=n?n[1]:s,a=t.clone(),h=(r-o)*e+o,l=(s-c)*i+c;return a.x=h,a.y=l,a}if("multipoint"===t.type){const c=Object(o["b"])(t),a=Object(r["m"])(),[h,l,p,u]=Object(s["d"])(a,[c]),b=n?n[0]:(h+p)/2,f=n?n[1]:(u+l)/2,y=t.clone(),m=y.points;for(let t=0;t<m.length;t++){const n=m[t],[r,s]=n,o=(r-b)*e+b,c=(s-f)*i+f;m[t]=d(n,o,c,void 0)}return y}if("extent"===t.type){const{xmin:r,xmax:s,ymin:o,ymax:c}=t,a=n?n[0]:(r+s)/2,h=n?n[1]:(c+o)/2,l=t.clone();if(l.xmin=(r-a)*e+a,l.ymax=(c-h)*i+h,l.xmax=(s-a)*e+a,l.ymin=(o-h)*i+h,l.xmin>l.xmax){const t=l.xmin,e=l.xmax;l.xmin=e,l.xmax=t}if(l.ymin>l.ymax){const t=l.ymin,e=l.ymax;l.ymin=e,l.ymax=t}return l}const c=Object(o["b"])(t),a=Object(r["m"])(),[h,l,p,u]=Object(s["d"])(a,c),b=n?n[0]:(h+p)/2,f=n?n[1]:(u+l)/2,y=t.clone(),m="polyline"===y.type?y.paths:y.rings;for(let r=0;r<c.length;r++){const t=c[r];for(let n=0;n<t.length;n++){const s=t[n],[o,c]=s,a=(o-b)*e+b,h=(c-f)*i+f;m[r][n]=d(s,a,h,void 0)}}return"paths"in y?y.paths=m:y.rings=m,y}function l(t,e,i,n,r,s){const o=Math.sqrt((i-t)*(i-t)+(n-e)*(n-e));return Math.sqrt((r-t)*(r-t)+(s-e)*(s-e))/o}function p(t,e,i){const r=Math.atan2(e.y-i.y,e.x-i.x)-Math.atan2(t.y-i.y,t.x-i.x),s=Math.atan2(Math.sin(r),Math.cos(r));return Object(n["p"])(s)}function u(t,e,i,n){return d(t,t[0]+e,t[1]+i,null!=t[2]&&null!=n?t[2]+n:void 0)}function d(t,e,i,n){const r=[e,i];return t.length>2&&r.push(null!=n?n:t[2]),t.length>3&&r.push(t[3]),r}},d18f:function(t,e,i){"use strict";i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return p})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return b})),i.d(e,"e",(function(){return h})),i.d(e,"f",(function(){return u})),i.d(e,"g",(function(){return d})),i.d(e,"h",(function(){return l}));var n=i("b50f"),r=i("2119"),s=i("e431"),o=i("0b2d"),c=i("7361");function a(t){return t?{origin:Object(o["d"])(t.origin),direction:Object(o["d"])(t.direction)}:{origin:Object(o["f"])(),direction:Object(o["f"])()}}function h(t,e){return Object(n["e"])(t.origin,e.origin)&&Object(n["e"])(t.direction,e.direction)}function l(t,e){const i=m.get();return i.origin=t,i.direction=e,i}function p(t,e=a()){return d(t.origin,t.direction,e)}function u(t,e,i=a()){return Object(s["n"])(i.origin,t),Object(s["m"])(i.direction,e,t),i}function d(t,e,i=a()){return Object(s["n"])(i.origin,t),Object(s["n"])(i.direction,e),i}function b(t,e){const i=Object(s["j"])(c["d"].get(),Object(s["u"])(c["d"].get(),t.direction),Object(s["m"])(c["d"].get(),e,t.origin));return Object(s["k"])(i,i)}function f(t,e,i){const n=Object(s["k"])(t.direction,Object(s["m"])(i,e,t.origin));return Object(s["i"])(i,t.origin,Object(s["h"])(i,t.direction,n)),i}function y(){return{origin:null,direction:null}}const m=new r["a"](y)},dae5:function(t,e,i){"use strict";function n(){return[1,0,0,0,1,0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function s(t,e,i,n,r,s,o,c,a){return[t,e,i,n,r,s,o,c,a]}function o(t,e){return new Float64Array(t,e,9)}i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return n}));Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,createView:o})},e94b:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return a}));i("e06a");var n=i("b2b2"),r=i("8048"),s=i("536f"),o=i("3af1");function c(t,e,i,s=new o["a"]){let c;if("2d"===i.type)c=e*i.resolution;else if("3d"===i.type){const s=i.overlayPixelSizeInMapUnits(t),o=i.basemapSpatialReference;c=Object(n["l"])(o)&&!o.equals(i.spatialReference)?Object(r["f"])(o)/Object(r["f"])(i.spatialReference):e*s}const a=t.x-c,h=t.y-c,l=t.x+c,p=t.y+c,{spatialReference:u}=i;return s.xmin=Math.min(a,l),s.ymin=Math.min(h,p),s.xmax=Math.max(a,l),s.ymax=Math.max(h,p),s.spatialReference=u,s}function a(t,e,i){const r=i.toMap(t);return!Object(n["k"])(r)&&c(r,Object(s["a"])(),i,h).intersects(e)}const h=new o["a"]},f895:function(t,e,i){"use strict";i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return y})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return E})),i.d(e,"e",(function(){return M})),i.d(e,"f",(function(){return j})),i.d(e,"g",(function(){return x})),i.d(e,"h",(function(){return C})),i.d(e,"i",(function(){return k})),i.d(e,"j",(function(){return _})),i.d(e,"k",(function(){return m})),i.d(e,"l",(function(){return O})),i.d(e,"m",(function(){return U})),i.d(e,"n",(function(){return v}));i("c120");var n=i("e92d"),r=i("38a4"),s=i("b2b2"),o=i("d791"),c=i("e431"),a=i("0b2d"),h=i("7577"),l=i("0fc4"),p=i("d18f"),u=i("a1b1"),d=i("7361");const b=n["a"].getLogger("esri.geometry.support.sphere");function f(){return Object(l["e"])()}function y(t,e=f()){return Object(h["c"])(e,t)}function m(t,e){return Object(l["g"])(t[0],t[1],t[2],e)}function v(t){return t}function g(t){t[0]=t[1]=t[2]=t[3]=0}function _(t){return t}function O(t){return Array.isArray(t)?t[3]:t}function x(t){return Array.isArray(t)?t:A}function j(t,e,i,n){return Object(l["g"])(t,e,i,n)}function w(t,e,i){return t!==i&&Object(c["n"])(i,t),i[3]=t[3]+e,i}function G(t,e,i){return b.error("sphere.setExtent is not yet supported"),t===i?i:y(t,i)}function M(t,e,i){if(Object(s["k"])(e))return!1;const{origin:n,direction:r}=e,o=S;o[0]=n[0]-t[0],o[1]=n[1]-t[1],o[2]=n[2]-t[2];const c=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],a=2*(r[0]*o[0]+r[1]*o[1]+r[2]*o[2]),h=a*a-4*c*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(h<0)return!1;const l=Math.sqrt(h);let p=(-a-l)/(2*c);const u=(-a+l)/(2*c);return(p<0||u<p&&u>0)&&(p=u),!(p<0)&&(i&&(i[0]=n[0]+r[0]*p,i[1]=n[1]+r[1]*p,i[2]=n[2]+r[2]*p),!0)}const S=Object(a["f"])();function k(t,e){return M(t,e,null)}function V(t,e,i){if(M(t,e,i))return i;const n=C(t,e,d["d"].get());return Object(c["i"])(i,e.origin,Object(c["h"])(d["d"].get(),e.direction,Object(c["p"])(e.origin,n)/Object(c["s"])(e.direction))),i}function C(t,e,i){const n=d["d"].get(),r=d["a"].get();Object(c["j"])(n,e.origin,e.direction);const s=O(t);Object(c["j"])(i,n,e.origin),Object(c["h"])(i,i,1/Object(c["s"])(i)*s);const a=z(t,e.origin),h=Object(u["a"])(e.origin,i);return Object(o["j"])(r),Object(o["f"])(r,r,h+a,n),Object(c["t"])(i,i,r),i}function I(t,e,i){return M(t,e,i)?i:(Object(p["a"])(e,x(t),i),P(t,i,i))}function P(t,e,i){const n=Object(c["m"])(d["d"].get(),e,x(t)),r=Object(c["h"])(d["d"].get(),n,t[3]/Object(c["s"])(n));return Object(c["i"])(i,r,x(t))}function E(t,e){const i=Object(c["m"])(d["d"].get(),e,x(t)),n=Object(c["w"])(i),r=t[3]*t[3];return Math.sqrt(Math.abs(n-r))}function z(t,e){const i=Object(c["m"])(d["d"].get(),e,x(t)),n=Object(c["s"])(i),s=O(t),o=s+Math.abs(s-n);return Object(r["b"])(s/o)}const R=Object(a["f"])();function H(t,e,i,n){const s=Object(c["m"])(R,e,x(t));switch(i){case 0:{const t=Object(r["e"])(s,R)[2];return Object(c["z"])(n,-Math.sin(t),Math.cos(t),0)}case 1:{const t=Object(r["e"])(s,R),e=t[1],i=t[2],o=Math.sin(e);return Object(c["z"])(n,-o*Math.cos(i),-o*Math.sin(i),Math.cos(e))}case 2:return Object(c["u"])(n,s);default:return}}function T(t,e){const i=Object(c["m"])(L,e,x(t));return Object(c["s"])(i)-t[3]}function D(t,e,i,n){const r=T(t,e),s=H(t,e,2,L),o=Object(c["h"])(L,s,i-r);return Object(c["i"])(n,e,o)}const A=Object(a["f"])(),L=Object(a["f"])(),U=Object.freeze({__proto__:null,create:f,copy:y,fromCenterAndRadius:m,wrap:v,clear:g,fromRadius:_,getRadius:O,getCenter:x,fromValues:j,elevate:w,setExtent:G,intersectRay:M,intersectsRay:k,intersectRayClosestSilhouette:V,closestPointOnSilhouette:C,closestPoint:I,projectPoint:P,distanceToSilhouette:E,angleToSilhouette:z,axisAt:H,altitudeAt:T,setAltitudeAt:D})}}]);
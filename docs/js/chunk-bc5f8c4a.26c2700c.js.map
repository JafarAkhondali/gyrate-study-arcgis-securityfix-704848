{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","webpack:///./node_modules/@arcgis/core/views/draw/support/GraphicMover.js","webpack:///./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack:///./node_modules/@arcgis/core/geometry/support/rotate.js","webpack:///./node_modules/@arcgis/core/views/draw/support/Box.js","webpack:///./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack:///./node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["t","i","s","h","e","this","graphic","index","x","y","viewEvent","type","r","c","a","n","p","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","k","EventedAccessor","super","_activeGraphic","_dragEvent","_handles","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","callbacks","enableMoveAllGraphics","graphics","view","_setUpManipulators","add","on","_clickHandler","TOOL","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","forEach","destroy","removeAll","get","set","_findTargetGraphic","indexOf","emit","onGraphicClick","onGraphicDoubleClick","onGraphicPointerDown","onGraphicPointerUp","onGraphicPointerOut","onGraphicPointerOver","action","geometry","stopPropagation","o","origin","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","key","state","Number","MAX_VALUE","intersectionDistance","length","map","prototype","readOnly","b","j","getLogger","C","layer","interactive","selectable","grabbable","dragging","cursor","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","symbol","_set","attachSymbolChanged","error","elevationInfo","offset","mode","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","visible","l","_intersectDistance2D","_intersectDistance3D","remove","watch","focusedSymbol","_focused","originalPoint","equals","spatialReference","clone","mapPoint","radiusPx","size","G","toScreen","xoffset","yoffset","toMap","include","w","renderSpatialReference","camera","eye","constructOnly","nonNullable","value","slice","push","f","Math","PI","m","cos","sin","u","center","rings","xmin","ymin","ymax","xmax","extent","paths","reverse","g","z","points","mover","angle","E","O","xScale","yScale","L","B","transformGraphics","Y","centerIndicator","style","color","fill","default","outline","outlineColor","join","width","active","stagedColor","handles","vertex","hover","hoverSize","hoverColor","hoverOutlineColor","rotator","rotatorLine","line","N","_activeHandleGraphic","_graphicAttributes","esriSketchTool","_mover","_rotateGraphicOffset","_angleOfRotation","_rotateLineGraphic","_startInfo","_totalDx","_totalDy","_xScale","_yScale","centerGraphic","backgroundGraphic","enableMovement","enableRotation","enableScaling","handleGraphics","preserveAspectRatio","rotateGraphic","showCenterGraphic","_getBounds","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","max","_setup","_scaleGraphic","_updateGraphics","_updateRotateGraphic","_updateRotateLineGraphic","refresh","_resetGraphics","_reset","concat","includes","_emitMoveStopEvent","_emitScaleStopEvent","_emitRotateStopEvent","_setupGraphics","_setupMover","_resetGraphicStateVars","removeMany","_onGraphicClickCallback","_onGraphicMoveStartCallback","_onGraphicMoveCallback","_onGraphicMoveStopCallback","_onGraphicPointerOverCallback","_onGraphicPointerOutCallback","_getBoxBounds","abs","height","centerX","centerY","startX","startY","graphicInfos","_getGraphicInfos","box","rotate","_getGraphicInfo","symbols","_hideGraphicsBeforeUpdate","_getStartInfo","_emitRotateStartEvent","_emitScaleStartEvent","_emitMoveStartEvent","_emitScaleEvent","_rotateGraphic","_emitRotateEvent","_moveGraphic","_emitMoveEvent","_showGraphicsAfterUpdate","rotation","resolution","transform","d","_updateX","_updateY","_","v","_updateBackgroundGraphic","S","R","M","I","_hasExtentGraphic","addMany","_updateHandleGraphics","_updateCenterGraphic","_getCoordinates","_updateXY","some","onMoveStart","onMove","onMoveStop","onRotateStart","onRotate","onRotateStop","onScaleStart","onScale","onScaleStop","A","stops","filter","maxSize","minSize","floor","renderer","event","pointerType","visualVariables","uniqueValueInfos","classBreakInfos","overlayPixelSizeInMapUnits","basemapSpatialReference","intersects"],"mappings":"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","file":"js/chunk-bc5f8c4a.26c2700c.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as m,GraphicPointerOutEvent as G,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new m(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new G(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new G(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isNone as o,isSome as i}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as y,project as g,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),o=e?e.offset:0;return new b({mode:t,offset:o})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const s=t.geometry;if(o(s))return null;const r=this._get(\"focusedSymbol\"),l=i(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,s,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;const l=1;let a=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?l:null;if(o(a)||!a.originalPoint.equals(s)){const t=s,o=e.spatialReference;if(y(t.spatialReference,o)){const e=g(t,o);a={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=a}}if(i(a)){const o=h(t,G),i=e.toScreen(a.mapPoint),s=a.radiusPx,n=i.x+c(r.xoffset),p=i.y-c(r.yoffset);return _(o,[n,p])<s*s?l:null}return null}_intersectDistance3D(e,t,o){const i=e.toMap(t,{include:[o]});return i&&d(i,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport n from\"../Point.js\";import e from\"../Multipoint.js\";import t from\"../Polygon.js\";import r from\"../Polyline.js\";import\"../../geometry.js\";function i(n){let e=0,t=0;const r=n.length;let i,o=n[t];for(t=0;t<r-1;t++)i=n[t+1],e+=(i[0]-o[0])*(i[1]+o[1]),o=i;return e>=0}function o(n,e,t,r){const i=[];for(const o of n){const n=o.slice(0);i.push(n);const s=e*(o[0]-r.x)-t*(o[1]-r.y)+r.x,l=t*(o[0]-r.x)+e*(o[1]-r.y)+r.y;n[0]=s,n[1]=l}return i}function s(s,l,a){const c=s.spatialReference,f=l*Math.PI/180,m=Math.cos(f),x=Math.sin(f);var p,u;\"xmin\"in s&&(a=null!=(p=a)?p:s.center,s=new t({spatialReference:c,rings:[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}));if(\"paths\"in s){var y;a=null!=(y=a)?y:s.extent.center;const n=[];for(const e of s.paths)n.push(o(e,m,x,a));return new r({spatialReference:c,paths:n})}if(\"rings\"in s){var h;a=null!=(h=a)?h:s.extent.center;const n=[];for(const e of s.rings){const t=i(e),r=o(e,m,x,a);i(r)!==t&&r.reverse(),n.push(r)}return new t({spatialReference:c,rings:n})}if(\"x\"in s){var g;a=null!=(g=a)?g:s;const e=new n({x:m*(s.x-a.x)-x*(s.y-a.y)+a.x,y:x*(s.x-a.x)+m*(s.y-a.y)+a.y,spatialReference:c});return null!=s.z&&(e.z=s.z),null!=s.m&&(e.m=s.m),e}return\"points\"in s?(a=null!=(u=a)?u:s.extent.center,new e({points:o(s.points,m,x,a),spatialReference:c})):null}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import r from\"../../../geometry/Point.js\";import{geometryToCoordinates as a}from\"../../../geometry/support/coordsUtils.js\";import{getRingsOrPathsBounds as o}from\"../../../geometry/support/boundsUtils.js\";import h from\"../../../geometry/Polygon.js\";import c from\"../../../geometry/Polyline.js\";import\"../../../geometry.js\";import n from\"../../../core/Evented.js\";import l from\"../../../symbols/SimpleLineSymbol.js\";import p from\"../../../symbols/SimpleFillSymbol.js\";import d from\"../../../symbols/SimpleMarkerSymbol.js\";import m from\"../../../Graphic.js\";import u from\"../../../core/Handles.js\";import{whenOnce as _,pausable as g}from\"../../../core/watchUtils.js\";import{create as v}from\"../../../geometry/support/aaBoundingRect.js\";import{settings as G}from\"./settings.js\";import{cloneMove as y,scale as f,getScaleRatio as b,getRotationAngle as S}from\"./drawUtils.js\";import{addUniqueLayer as w}from\"./layerUtils.js\";import k from\"../../../geometry/support/rotate.js\";import x from\"./GraphicMover.js\";class R{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-start\"}}class M{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move\"}}class I{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-stop\"}}class C{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-start\"}}class E{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate\"}}class j{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-stop\"}}class O{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-start\"}}class L{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale\"}}class z{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-stop\"}}const B=G.transformGraphics,Y={centerIndicator:new d({style:\"cross\",size:B.center.size,color:B.center.color}),fill:{default:new p({color:B.fill.color,outline:{color:B.fill.outlineColor,join:\"round\",width:1}}),active:new p({color:B.fill.stagedColor,outline:{color:B.fill.outlineColor,join:\"round\",style:\"dash\",width:1}})},handles:{default:new d({style:\"square\",size:B.vertex.size,color:B.vertex.color,outline:{color:B.vertex.outlineColor,width:1}}),hover:new d({style:\"square\",size:B.vertex.hoverSize,color:B.vertex.hoverColor,outline:{color:B.vertex.hoverOutlineColor,width:1}})},rotator:{default:new d({style:\"circle\",size:B.vertex.size,color:B.vertex.color,outline:{color:B.vertex.outlineColor,width:1}}),hover:new d({style:\"circle\",size:B.vertex.hoverSize,color:B.vertex.hoverColor,outline:{color:B.vertex.hoverOutlineColor,width:1}})},rotatorLine:new l({color:B.line.color,width:1})};let N=class extends n.EventedAccessor{constructor(t){super(t),this._activeHandleGraphic=null,this._graphicAttributes={esriSketchTool:\"box\"},this._handles=new u,this._mover=null,this._rotateGraphicOffset=20,this._angleOfRotation=0,this._rotateLineGraphic=null,this._startInfo=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this.type=\"box\",this.callbacks={onMoveStart(){},onMove(){},onMoveStop(){},onScaleStart(){},onScale(){},onScaleStop(){},onRotateStart(){},onRotate(){},onRotateStop(){},onGraphicClick(){}},this.centerGraphic=null,this.backgroundGraphic=null,this.enableMovement=!0,this.enableRotation=!0,this.enableScaling=!0,this.graphics=[],this.handleGraphics=[],this.layer=null,this.preserveAspectRatio=!1,this.rotateGraphic=null,this.showCenterGraphic=!0,this.view=null,this._getBounds=(()=>{const t=v();return(e,i)=>{e[0]=Number.POSITIVE_INFINITY,e[1]=Number.POSITIVE_INFINITY,e[2]=Number.NEGATIVE_INFINITY,e[3]=Number.NEGATIVE_INFINITY;for(const s of i){if(!s)continue;let i,r,h,c;if(\"point\"===s.type)i=h=s.x,r=c=s.y;else if(\"multipoint\"===s.type){const e=a(s);[i,r,h,c]=o(t,[e])}else if(\"extent\"===s.type)[i,r,h,c]=[s.xmin,s.ymin,s.xmax,s.ymax];else{const e=a(s);[i,r,h,c]=o(t,e)}e[0]=Math.min(i,e[0]),e[1]=Math.min(r,e[1]),e[2]=Math.max(h,e[2]),e[3]=Math.max(c,e[3])}return e}})()}initialize(){this._setup(),this._handles.add([_(this,\"view.ready\",(()=>{const{layer:t,view:e}=this;w(e,t)})),g(this,\"preserveAspectRatio\",(()=>{this._activeHandleGraphic&&(this._scaleGraphic(this._activeHandleGraphic),this._updateGraphics())})),g(this,\"view.scale\",(()=>{this._updateRotateGraphic(),this._updateRotateLineGraphic()})),g(this,\"graphics\",(()=>this.refresh())),g(this,\"layer\",((t,e)=>{e&&this._resetGraphics(e),this.refresh()}))])}destroy(){this._reset(),this._handles&&(this._handles.removeAll(),this._handles=null)}get state(){const t=!!this.get(\"view.ready\"),e=!(!this.get(\"graphics.length\")||!this.get(\"layer\"));return t&&e?\"active\":t?\"ready\":\"disabled\"}set symbols(t){const{centerIndicator:e=Y.centerIndicator,fill:i=Y.fill,handles:s=Y.handles,rotator:r=Y.rotator,rotatorLine:a=Y.rotatorLine}=t||{};this._set(\"symbols\",{centerIndicator:e,fill:i,handles:s,rotator:r,rotatorLine:a})}isUIGraphic(t){let e=[];return this.handleGraphics.length&&(e=e.concat(this.handleGraphics)),this.backgroundGraphic&&e.push(this.backgroundGraphic),this.centerGraphic&&e.push(this.centerGraphic),this.rotateGraphic&&e.push(this.rotateGraphic),this._rotateLineGraphic&&e.push(this._rotateLineGraphic),e.length&&e.includes(t)}move(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=y(s,t,e,this.view);i.geometry=r}this.refresh(),this._emitMoveStopEvent(t,e,null)}}scale(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=f(s,t,e);i.geometry=r}this.refresh(),this._emitScaleStopEvent(t,e,null)}}rotate(t,e){if(this._mover&&this.graphics.length){if(!e){const t=this.handleGraphics[1].geometry.x,i=this.handleGraphics[3].geometry.y;e=new r(t,i,this.view.spatialReference)}for(const i of this.graphics){const s=i.geometry,r=k(s,t,e);i.geometry=r}this.refresh(),this._emitRotateStopEvent(t,null)}}refresh(){this._reset(),this._setup()}reset(){this.graphics=[]}_setup(){\"active\"===this.state&&(this._setupGraphics(),this._setupMover(),this._updateGraphics())}_reset(){this._resetGraphicStateVars(),this._resetGraphics(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetGraphicStateVars(){this._startInfo=null,this._activeHandleGraphic=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this._angleOfRotation=0}_resetGraphics(t){const e=t||this.layer;e&&(e.removeMany(this.handleGraphics),e.remove(this.backgroundGraphic),e.remove(this.centerGraphic),e.remove(this.rotateGraphic),e.remove(this._rotateLineGraphic));for(const i of this.handleGraphics)i.destroy();this._set(\"handleGraphics\",[]),this.backgroundGraphic&&(this.backgroundGraphic.destroy(),this._set(\"backgroundGraphic\",null)),this.centerGraphic&&(this.centerGraphic.destroy(),this._set(\"centerGraphic\",null)),this.rotateGraphic&&(this.rotateGraphic.destroy(),this._set(\"rotateGraphic\",null)),this._rotateLineGraphic&&(this._rotateLineGraphic.destroy(),this._rotateLineGraphic=null)}_setupMover(){let t=[].concat(this.handleGraphics);this.enableMovement&&(t=t.concat(this.graphics,this.backgroundGraphic)),this.enableRotation&&t.push(this.rotateGraphic),this.showCenterGraphic&&t.push(this.centerGraphic),this._mover=new x({enableMoveAllGraphics:!1,view:this.view,graphics:t,callbacks:{onGraphicClick:t=>this._onGraphicClickCallback(t),onGraphicMoveStart:t=>this._onGraphicMoveStartCallback(t),onGraphicMove:t=>this._onGraphicMoveCallback(t),onGraphicMoveStop:t=>this._onGraphicMoveStopCallback(t),onGraphicPointerOver:t=>this._onGraphicPointerOverCallback(t),onGraphicPointerOut:t=>this._onGraphicPointerOutCallback(t)}})}_getStartInfo(t){const[e,i,s,r]=this._getBoxBounds(v()),a=Math.abs(s-e),o=Math.abs(r-i),h=(s+e)/2,c=(r+i)/2,{x:n,y:l}=t.geometry;return{width:a,height:o,centerX:h,centerY:c,startX:n,startY:l,graphicInfos:this._getGraphicInfos(),box:this.backgroundGraphic.geometry,rotate:this.rotateGraphic.geometry}}_getGraphicInfos(){return this.graphics.map((t=>this._getGraphicInfo(t)))}_getGraphicInfo(t){const e=t.geometry,[i,s,r,a]=this._getBounds(v(),[e]);return{width:Math.abs(r-i),height:Math.abs(a-s),centerX:(r+i)/2,centerY:(a+s)/2,geometry:e}}_onGraphicClickCallback(t){t.viewEvent.stopPropagation(),this.emit(\"graphic-click\",t),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(t)}_onGraphicMoveStartCallback(t){const{_angleOfRotation:e,_xScale:i,_yScale:s,backgroundGraphic:r,handleGraphics:a,rotateGraphic:o,symbols:h}=this,c=t.graphic;this._resetGraphicStateVars(),this._hideGraphicsBeforeUpdate(),r.symbol=h.fill.active,this._startInfo=this._getStartInfo(c),c===o?(this.view.cursor=\"grabbing\",this._emitRotateStartEvent(e,c)):a.includes(c)?(this._activeHandleGraphic=c,this._emitScaleStartEvent(i,s,c)):this._emitMoveStartEvent(t.dx,t.dy,c)}_onGraphicMoveCallback(t){const e=t.graphic;if(this._startInfo)if(this.handleGraphics.includes(e))this._scaleGraphic(e),this._emitScaleEvent(this._xScale,this._yScale,e);else if(e===this.rotateGraphic)this._rotateGraphic(e),this._emitRotateEvent(this._angleOfRotation,e);else{const i=t.dx,s=t.dy;this._totalDx+=i,this._totalDy+=s,this._moveGraphic(e,i,s),this._emitMoveEvent(i,s,e)}}_onGraphicMoveStopCallback(t){const e=t.graphic;if(!this._startInfo)return void this.refresh();const{_angleOfRotation:i,_totalDx:s,_totalDy:r,_xScale:a,_yScale:o,backgroundGraphic:h,handleGraphics:c,rotateGraphic:n,symbols:l}=this;this._updateGraphics(),this._showGraphicsAfterUpdate(),h.symbol=l.fill.default,e===n?(this.view.cursor=\"pointer\",this._emitRotateStopEvent(i,e)):c.includes(e)?this._emitScaleStopEvent(a,o,e):this._emitMoveStopEvent(s,r,e),this._resetGraphicStateVars()}_onGraphicPointerOverCallback(t){const{backgroundGraphic:e,handleGraphics:i,graphics:s,rotateGraphic:r,symbols:a,view:o}=this,h=t.graphic;if(h===r)return r.symbol=a.rotator.hover,void(o.cursor=\"pointer\");if(s.includes(h)||h===e)return void(o.cursor=\"move\");if(!i.includes(h))return void(o.cursor=\"pointer\");t.graphic.symbol=a.handles.hover;const c=o.rotation;let n,l=t.index;switch(l<8&&(c>=0&&c<45?l%=8:l=c>=45&&c<90?(l+1)%8:c>=90&&c<135?(l+2)%8:c>=135&&c<180?(l+3)%8:c>=180&&c<225?(l+4)%8:c>=225&&c<270?(l+5)%8:c>=270&&c<315?(l+6)%8:(l+7)%8),l){case 0:n=\"nwse-resize\";break;case 1:n=\"ns-resize\";break;case 2:n=\"nesw-resize\";break;case 3:n=\"ew-resize\";break;case 4:n=\"nwse-resize\";break;case 5:n=\"ns-resize\";break;case 6:n=\"nesw-resize\";break;case 7:n=\"ew-resize\";break;default:n=\"pointer\"}o.cursor=n}_onGraphicPointerOutCallback(t){const{handleGraphics:e,rotateGraphic:i,symbols:s,view:r}=this;t.graphic===i?i.symbol=s.rotator.default:e.includes(t.graphic)&&(t.graphic.symbol=s.handles.default),r.cursor=\"default\"}_scaleGraphic(t){const{_startInfo:e,handleGraphics:i,preserveAspectRatio:s,view:a}=this,{centerX:o,centerY:h,startX:c,startY:n}=e,{resolution:l,transform:p}=a.state,d=i.indexOf(t);1!==d&&5!==d||this._updateX(t,o),3!==d&&7!==d||this._updateY(t,h);const{x:m,y:u}=t.geometry,_=p[0]*m+p[2]*u+p[4],g=p[1]*m+p[3]*u+p[5],v=e.graphicInfos.map((t=>t.geometry));if(s){const t=p[0]*o+p[2]*h+p[4],e=p[1]*o+p[3]*h+p[5],i=p[0]*c+p[2]*n+p[4],s=p[1]*c+p[3]*n+p[5];this._xScale=this._yScale=b(t,e,i,s,_,g);for(const r of v){const t=v.indexOf(r);this.graphics[t].geometry=f(r,this._xScale,this._yScale,[o,h])}this._updateBackgroundGraphic()}else{const{width:t,height:i}=e;let s=m-c,p=n-u;if(1===d||5===d?s=0:3!==d&&7!==d||(p=0),0===s&&0===p)return;const _=t+(c>o?s:-1*s),g=i+(n<h?p:-1*p),G=o+s/2,b=h+p/2;this._xScale=_/t||1,this._yScale=g/i||1,1===d||5===d?this._xScale=1:3!==d&&7!==d||(this._yScale=1);const S=(G-o)/l,w=(b-h)/l,k=f(e.box,this._xScale,this._yScale);this.backgroundGraphic.geometry=y(k,S,w,a,!0);const{centerX:x,centerY:R}=this._getGraphicInfo(this.backgroundGraphic),M=(x-o)/l,I=-1*(R-h)/l;for(const e of v){const t=v.indexOf(e),i=f(e,this._xScale,this._yScale,[o,h]);this.graphics[t].geometry=y(i,M,I,a,!0)}this.centerGraphic.geometry=new r(x,R,a.spatialReference)}}_rotateGraphic(t){const{centerX:e,centerY:i,startX:s,startY:a,box:o,rotate:h}=this._startInfo,{x:c,y:n}=t.geometry,l=new r(e,i,this.view.spatialReference);this._angleOfRotation=S(e,i,s,a,c,n);const p=this._startInfo.graphicInfos.map((t=>t.geometry));for(const r of p){const t=p.indexOf(r),e=k(r,this._angleOfRotation,l);this.graphics[t].geometry=e}this.backgroundGraphic.geometry=k(o,this._angleOfRotation,l),this.rotateGraphic.geometry=k(h,this._angleOfRotation,l)}_moveGraphic(t,e,i){if(this.graphics.includes(t)){const s=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=y(s,e,i,this.view);for(const r of this.graphics)r!==t&&(r.geometry=y(r.geometry,e,i,this.view))}else if(t===this.centerGraphic){const t=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=y(t,e,i,this.view)}if(t===this.backgroundGraphic||t===this.centerGraphic)for(const s of this.graphics)s.geometry=y(s.geometry,e,i,this.view)}_setupGraphics(){const{_graphicAttributes:t,symbols:e}=this;this._set(\"centerGraphic\",new m(null,e.centerIndicator,t)),this.showCenterGraphic&&this.layer.add(this.centerGraphic),this._set(\"backgroundGraphic\",new m(null,e.fill.default,t)),this.layer.add(this.backgroundGraphic),this._rotateLineGraphic=new m(null,e.rotatorLine,t),this._set(\"rotateGraphic\",new m(null,e.rotator.default,t)),this.enableRotation&&!this._hasExtentGraphic()&&(this.layer.add(this._rotateLineGraphic),this.layer.add(this.rotateGraphic));for(let i=0;i<8;i++)this.handleGraphics.push(new m(null,e.handles.default,t));this.enableScaling&&this.layer.addMany(this.handleGraphics)}_updateGraphics(){this._updateBackgroundGraphic(),this._updateHandleGraphics(),this._updateCenterGraphic(),this._updateRotateGraphic(),this._updateRotateLineGraphic()}_hideGraphicsBeforeUpdate(){this.centerGraphic.visible=!1,this.rotateGraphic.visible=!1,this._rotateLineGraphic.visible=!1,this.handleGraphics.forEach((t=>t.visible=!1))}_showGraphicsAfterUpdate(){this.enableRotation&&(this._rotateLineGraphic.visible=!0,this.rotateGraphic.visible=!0),this.showCenterGraphic&&(this.centerGraphic.visible=!0),this.enableScaling&&this.handleGraphics.forEach((t=>t.visible=!0))}_updateHandleGraphics(){const t=this._getCoordinates(!0);this.handleGraphics.forEach(((e,i)=>{const[s,r]=t[i];this._updateXY(e,s,r)}))}_updateBackgroundGraphic(){const t=this._getCoordinates();this.backgroundGraphic.geometry=new h({rings:t,spatialReference:this.view.spatialReference})}_updateCenterGraphic(){const[t,e,i,s]=this._getBoxBounds(v()),a=(i+t)/2,o=(s+e)/2;this.centerGraphic.geometry=new r(a,o,this.view.spatialReference)}_updateRotateGraphic(){if(!this.handleGraphics.length)return;const{x:t,y:e}=this.handleGraphics[1].geometry,i=e+this.view.state.resolution*this._rotateGraphicOffset;this.rotateGraphic.geometry=new r(t,i,this.view.spatialReference)}_updateRotateLineGraphic(){if(!this.handleGraphics.length||!this.rotateGraphic||!this.rotateGraphic.geometry)return;const t=this.handleGraphics[1].geometry,e=this.rotateGraphic.geometry;this._rotateLineGraphic.geometry=new c({paths:[[t.x,t.y],[e.x,e.y]],spatialReference:this.view.spatialReference})}_updateXY(t,e,i){t.geometry=new r(e,i,this.view.spatialReference)}_updateX(t,e){const i=t.geometry.y;t.geometry=new r(e,i,this.view.spatialReference)}_updateY(t,e){const i=t.geometry.x;t.geometry=new r(i,e,this.view.spatialReference)}_hasExtentGraphic(){return this.graphics.some((t=>t&&e(t.geometry)&&\"extent\"===t.geometry.type))}_getBoxBounds(t){const e=this.graphics.map((t=>t.geometry));return this._getBounds(t,e)}_getCoordinates(t){const[e,i,s,r]=this._getBoxBounds(v());if(t){const t=(e+s)/2,a=(r+i)/2;return[[e,r],[t,r],[s,r],[s,a],[s,i],[t,i],[e,i],[e,a]]}return[[e,r],[s,r],[s,i],[e,i]]}_emitMoveStartEvent(t,e,i){const s=new R(this.graphics,i,t,e);this.emit(\"move-start\",s),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(s)}_emitMoveEvent(t,e,i){const s=new M(this.graphics,i,t,e);this.emit(\"move\",s),this.callbacks.onMove&&this.callbacks.onMove(s)}_emitMoveStopEvent(t,e,i){const s=new I(this.graphics,i,t,e);this.emit(\"move-stop\",s),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(s)}_emitRotateStartEvent(t,e){const i=new C(this.graphics,e,t);this.emit(\"rotate-start\",i),this.callbacks.onRotateStart&&this.callbacks.onRotateStart(i)}_emitRotateEvent(t,e){const i=new E(this.graphics,e,t);this.emit(\"rotate\",i),this.callbacks.onRotate&&this.callbacks.onRotate(i)}_emitRotateStopEvent(t,e){const i=new j(this.graphics,e,t);this.emit(\"rotate-stop\",i),this.callbacks.onRotateStop&&this.callbacks.onRotateStop(i)}_emitScaleStartEvent(t,e,i){const s=new O(this.graphics,i,t,e);this.emit(\"scale-start\",s),this.callbacks.onScaleStart&&this.callbacks.onScaleStart(s)}_emitScaleEvent(t,e,i){const s=new L(this.graphics,i,t,e);this.emit(\"scale\",s),this.callbacks.onScale&&this.callbacks.onScale(s)}_emitScaleStopEvent(t,e,i){const s=new z(this.graphics,i,t,e);this.emit(\"scale-stop\",s),this.callbacks.onScaleStop&&this.callbacks.onScaleStop(s)}};t([i()],N.prototype,\"_rotateLineGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"type\",void 0),t([i()],N.prototype,\"callbacks\",void 0),t([i({readOnly:!0})],N.prototype,\"centerGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"backgroundGraphic\",void 0),t([i()],N.prototype,\"enableMovement\",void 0),t([i()],N.prototype,\"enableRotation\",void 0),t([i()],N.prototype,\"enableScaling\",void 0),t([i()],N.prototype,\"graphics\",void 0),t([i({readOnly:!0})],N.prototype,\"handleGraphics\",void 0),t([i()],N.prototype,\"layer\",void 0),t([i()],N.prototype,\"preserveAspectRatio\",void 0),t([i({readOnly:!0})],N.prototype,\"rotateGraphic\",void 0),t([i()],N.prototype,\"showCenterGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"state\",null),t([i({value:Y})],N.prototype,\"symbols\",null),t([i()],N.prototype,\"view\",void 0),N=t([s(\"esri.views.draw.support.Box\")],N);var A=N;export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"sourceRoot":""}
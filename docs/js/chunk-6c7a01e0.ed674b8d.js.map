{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js","webpack:///./node_modules/@arcgis/core/views/layers/support/popupUtils.js","webpack:///./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js"],"names":["n","t","o","s","c","h","i","r","a","e","Math","ceil","log","LOG2E","isGeographic","radius","PI","round","max","min","cos","abs","M","m","super","geometryBuffer","primaryAttributeData","buffer","push","modulationAttributeData","filterAttributesData","u","userAttributesData","g","length","l","load","remove","indexOf","getParentId","sort","getRenderCenter","pop","this","_pages","pageSize","_nodeSR","_renderSR","nodes","renderObbs","parents","Uint32Array","getRenderObb","center","index","queue","masks","tempAabb","p","hasNodes","getNode","d","f","clippingBox","frustum","predicate","firstChild","childCount","hasPage","pageMiss","obb","obbs","renderer","type","toJSON","attributeStorageInfo","field","colorModulation","rendererJSON","isRGBRenderer","primaryAttribute","modulationAttribute","filters","map","filterJSON","attributeInfo","pointSizeAlgorithm","name","attributeValues","valueType","valuesPerElement","storageInfo","useElevation","encoding","toLowerCase","cloneProperties","pointCloudMetadata","constructOnly","prototype","context","highlights","Set","size","add","enableSet","removeSet","disableSet","delete","enabled","forEachNode","enableSetForNode","ids","get","id","forEach","addHighlight","disableSetForNode","removeHighlight","Map","nodeId","pointId","set","shader","configuration","build","output","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","drawScreenSize","rctx","generateSource","depthTest","func","depthWrite","colorWrite","stencilWrite","sceneHasOcludees","stencilTest","arguments","count","k","positions","offset","stride","normalized","colors","_params","isGround","_bindParameters","inverseViewport","highlightDepthTexture","_highlights","canRender","layerUid","_useFixedSizes","_scaleFactor","_minSizePx","_useRealWorldSymbolSizes","_size","_sizePx","_slicePlaneEnabled","_clipBox","_techniqueConfig","tempMatrix4","tempVec3","hasHighlights","_context","_techniqueRep","shaderTechniqueRep","requestRender","create","S","camera","perScreenPixelRatio","w","near","R","_getSizeParams","y","q","node","point","dist","normal","v","F","H","V","A","forAll","splatSize","G","isLeaf","_","x","D","j","origin","U","coordinates","z","$","options","store","O","metadata","createGraphic","I","intersector","results","fromPoints","all","pass","vao","_initNode","selectTechnique","program","setUniform3fv","bindProgram","bindPipelineState","setUniformMatrix4fv","projectionMatrix","setUniform2f","far","isHighlightPass","fullViewport","bindOutputHighlight","pixelRatio","drawFixedSize","fixedSize","fullHeight","sliceHelper","plane","screenMinSize","W","viewMatrix","bindUniforms","bindVAO","_renderHighlightFragments","drawArrays","component","_requestRender","nodeAdded","filterInPlace","nodeRemoved","removeAll","clear","K","Q","createVertex","rgb","drawScreenSpace","hasOccludees","acquireAndReleaseExisting","_technique","J","filter","hasOwnProperty","isInstanceOfNode","ne","getLogger","ae","de","le","maximumPointCount","_renderer","_rendererAdded","_renderedNodes","_nodeScales","_updateViewNeeded","_lodFactor","_maxLoggedBoxWarnings","_pageMultiplier","_nodeLoadEpoch","_indexQueue","_workQueue","Array","_idleQueue","_indexPagesLoading","_loadingNodes","_recalcWork","_layerIsVisible","_codedDomainPopulationPromise","_codedDomainPopulationAbortController","_totalWork","_index","_loadingInitNodePage","_nodeIdArray","layer","scaleFactor","useRealWorldSymbolSizes","pointsPerInch","outFields","fields","from","view","clippingArea","renderSpatialReference","elevationInfo","mode","spatialReference","unit","resourceController","scheduler","_worker","addResolvingPromise","promise","_tmpPoint","_indexRequester","createStreamDataRequester","_dataRequester","_initRenderer","_initNodePages","memoryController","_memCache","getMemCache","uid","updatingHandles","_setUpdateViewNeeded","_elevationOffsetChanged","_rendererChanged","_reload","state","handles","basemapTerrain","on","_scaleUpdateHandler","events","when","registerTask","POINT_CLOUD_LAYER","_process","_needsUpdate","registerIdleStateCallbacks","_idleBegin","_idleEnd","_clearNodeState","_updateLoading","cancelLoading","destroy","_destroyRenderer","abort","_createGraphic","_setPointsVisible","minSizePx","sqrt","sizePx","slicePlane","pointIdFilterMap","computeMapPointFromVec3d","_createGraphicAttributes","pointIndexInNode","attributePointIndexInNode","epoch","geometry","attributes","sourceLayer","_encodeGraphicAttribute","values","_stage","addRenderPlugin","removeRenderPlugin","useFixedSizes","minScale","maxScale","extent","ue","has","scale","contentCamera","viewForward","_updateQueues","_computeWork","notifyChange","_cancelNodeLoading","_cancelIndexLoading","abortController","cancelAll","_removeFromRenderer","suspended","_isRootNodeVisible","run","_updateWorkQueues","_processIndexQueue","_processWorkQueue","process","shift","_loadNodePage","then","addPage","_elevationOffset","done","_scheduleWorkEntry","_processWorkEntry","madeProgress","find","Promise","toString","resolve","loadNode","signal","_setupRendererData","_addToRenderer","catch","fieldsIndex","domain","queryCachedStatistics","ok","value","labels","isArray","codedValues","code","label","populateClassCodeCodedDomain","_splitGraphicsPerNode","async","_loadElevationAttributeFromGeometry","resourceId","_loadAndParseAttribute","_isValidPointGraphic","_loadAttribute","vertexCount","defaultGeometrySchema","_loadGeometry","isCollection","toArray","highlight","_graphicToPointDefinition","canResume","nodesPerPage","nodePerIndexBlock","renderCoordsHelper","_traverseVisible","createVisibilityTraverse","baseUrl","_requestNodePage","pointCount","lodThreshold","effectiveArea","inverseDensity","_getLodMemoryFactor","_computeNodesForMinimumDensity","_computePointCount","displayNodes","memoryFactor","_clippingBox","eye","fromNormalAndOffset","_getScale","_computeAveragePixelArea","getScale","loadNodeAsync","error","loadAdditionalUserAttributes","b","schema","rendererInfo","filterInfo","elevationOffset","inSR","outSR","invoke","_requestData","key","request","query","removeNode","put","he","addNode","halfSize","warn","setRenderObb","points","pe","reduce","getUsedMemory","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","visibleNodes","readOnly","aliasOf","Boolean","ce","popupTemplate","getRequiredFields","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","extensions","include","vertex","uniforms","varyings","fragment","Object","freeze","__proto__","parseInt","substring","lastIndexOf","Z","renderView","BASIS_ENCODING","DDS_ENCODING","X","geometryBuffers","compressedAttributes","Y","traverse","mbs","ee","te","re","oe","rotationScale","position","se","ie","missingFields","originalFields","associatedLayer","loaded","parsedUrl","path","indices","graphics","featureIds","fe","capabilities","maxRecordCount","objectIds","orderByFields","queryFeatures","features","resources","url","responseType","data","me","ye","indexCRS","geographicCRS","indexWKT","wkt","equals","ge","vertexCRS","projectedCRS","vertexWKT","be","wkid","we","Se","xe","geometryType","topology","vertexAttributes","Me","ve","viewingMode","je","Re","ke","qe","Te","Ie","defaultSymbol","getSymbols","symbolLayers","items","material","color","colorMixMode","ze","opacity","Ae","edgeMaterial","castShadows","Fe","edges","alpha","Ce","Be","Ue","Ge","quaternion","Ee","Le","We","Ne","inverseFlattening","Ke","$e","Pe","serviceObb","De","hasZ","Oe","rings","_e","popupEnabled","_validateFetchPopupFeatures","reject","clientGraphics","prepareFetchPopupFeatures","whenGraphicAttributes","concat"],"mappings":"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","file":"js/chunk-6c7a01e0.ed674b8d.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as o}from\"../../../../geometry/projectionEllipsoid.js\";import{computeLinearTransformation as r}from\"../../../../geometry/projection.js\";import{a}from\"../../../../chunks/mat4f64.js\";function n(t,o,n,s){const c=h(t,o,n),i=a();return r(n,c,i,s),i}const s=1,c=5-s;function h(r,a,n){const h=t(),i=r[3],e=2**(Math.ceil(Math.log(i)*Math.LOG2E/c)*c+s);if(n.isGeographic){const t=e/o(n).radius*180/Math.PI,a=Math.round(r[1]/t),s=Math.max(-90,Math.min(90,a*t)),c=t/Math.cos((Math.abs(s)-t/2)/180*Math.PI),i=Math.round(r[0]/c)*c;h[0]=i,h[1]=s}else{const t=Math.round(r[0]/e),o=Math.round(r[1]/e);h[0]=t*e,h[1]=o*e}const M=r[2]+a,m=Math.round(M/e);return h[2]=m*e,h}export{n as computeGlobalTransformation,h as getLocalOrigin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";class e extends r{constructor(t){super(\"PointCloudWorker\",\"transform\",t)}getTransferList(r){const e=[r.geometryBuffer];if(t(r.primaryAttributeData)&&r.primaryAttributeData.buffer&&e.push(r.primaryAttributeData.buffer),t(r.modulationAttributeData)&&r.modulationAttributeData.buffer&&e.push(r.modulationAttributeData.buffer),t(r.filterAttributesData))for(const u of r.filterAttributesData)t(u)&&u.buffer&&e.push(u.buffer);for(const t of r.userAttributesData)t.buffer&&e.push(t.buffer);return e}}export{e as PointCloudWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{d as e}from\"../../../../chunks/vec3.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderCenter(t.remove[0]),h=l.getRenderCenter(r.remove[0]);return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{create as e,contains as t,intersects as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{set as n,toAaBoundingBox as i,intersectPlane as r,ObbArray as o}from\"../../support/orientedBoundingBox.js\";import{transformObb as p}from\"./I3SUtil.js\";class h{constructor(e,t,s){this._pages=[],this.pageSize=0,this._nodeSR=null,this._renderSR=null,this._nodeSR=e,this._renderSR=t,this.pageSize=s}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);const n=a(t,this._nodeSR,this._renderSR,s);this._pages[e]={nodes:t,renderObbs:n,parents:new Uint32Array(this.pageSize)},u(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[l(e,t)].nodes[c(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[l(e,t)].renderObbs[c(e,t)]}getRenderCenter(e){return this.getRenderObb(e).center}setRenderObb(e,t){const s=this.pageSize;n(t,this._pages[l(e,s)].renderObbs[c(e,s)])}getParentId(e){const t=this.pageSize;return this._pages[l(e,t)].parents[c(e,t)]}hasNodes(e,t){const s=l(e,this.pageSize),n=l(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const t={index:this,queue:[],masks:[],tempAabb:e()};return(e,s)=>g(t,e,s)}}function g(e,n,o){const p=e.index;if(!p.hasNodes(0,1))return;const h=e.queue;h.length=0,h.push(0);const g=e.masks;for(g.length=0,g.push(0);h.length>0;){const a=h.pop();let u=g.pop();const c=p.getNode(a),d=p.getRenderObb(a);let f=!0;if(null!=n.clippingBox){const r=1<<n.frustum.length;if(0==(u&r)){const o=i(d,e.tempAabb);t(n.clippingBox,o)?u|=r:s(n.clippingBox,o)||(f=!1)}}for(let e=0;e<n.frustum.length&&f;e++){const t=1<<e;if(0==(u&t)){const s=r(d,n.frustum[e]);s>0?f=!1:s<0&&(u|=t)}}if(o.predicate(a,c,f)){const e=c.firstChild,t=c.childCount;let s=!1;const n=l(e,p.pageSize),i=l(e+t-1,p.pageSize);for(let r=n;r<=i;r++)if(!p.hasPage(r)){o.pageMiss(a,r),s=!0;break}if(!s)for(let r=0;r<t;r++)h.push(e+r),g.push(u)}}}function a(e,t,s,n){const i=new o(e.length);for(let r=0;r<e.length;r++)p(e[r].obb,t,i.obbs[r],s,n);return i.obbs}function u(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[l(n,t)].nodes[c(n,t)];for(let r=0;r<i.childCount;r++){const o=i.firstChild+r;null!=e[l(o,t)]&&(e[l(o,t)].parents[c(o,t)]=n,s.push(o))}}}function l(e,t){return e/t|0}function c(e,t){return e%t}export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e&&e.type,o=e&&t.renderer.toJSON()||null;let r=null,i=!1;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?r=u(t.attributeStorageInfo,e.field):\"point-cloud-rgb\"===n?(r=l(t.attributeStorageInfo,e.field),i=null!=r):(r=l(t.attributeStorageInfo,\"RGB\"),i=null!=r);let a=null;return e&&e.colorModulation&&(a=u(t.attributeStorageInfo,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:r,modulationAttribute:a}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t&&t.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t&&t.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function r(t){const e=t&&t.pointSizeAlgorithm;return!(!e||!e.type)&&\"fixed-size\"===e.type}function l(t,e){for(const n of t)if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t)if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return{name:e,storageInfo:t?null:n,useElevation:t}}return\"elevation\"===e.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,r as rendererUsesFixedSizes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../Graphic.js\";var e;let p=e=class extends t{constructor(r){super(r)}clone(){return new e(this.cloneProperties())}cloneProperties(){const{pointCloudMetadata:r}=this;return{...super.cloneProperties(),pointCloudMetadata:r}}};r([o({constructOnly:!0})],p.prototype,\"pointCloudMetadata\",void 0),p=e=r([s(\"esri.views.3d.layers.i3s.PointGraphic\")],p);export{p as PointGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{makeHandle as t}from\"../../../../core/handleUtils.js\";import{Object3DStateID as i}from\"../../webgl-engine/lib/Object3DStateID.js\";class h{constructor(e){this.context=e,this.highlights=new Set}get hasHighlights(){return this.highlights.size>0}destroy(){this.highlights=null}add(e){const i=new s(e);return this.highlights.add(i),this.enableSet(i),t((()=>this.removeSet(i)))}removeSet(e){this.disableSet(e),this.highlights.delete(e)}enableSet(e){e.enabled||(e.enabled=!0,this.context.forEachNode((t=>this.enableSetForNode(e,t))))}enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this.context.addHighlight(t,i,e.id)))}disableSet(e){e.enabled&&(e.enabled=!1,this.context.forEachNode((t=>this.disableSetForNode(e,t))))}disableSetForNode(e,t){e.enabled||this.context.removeHighlight(t,e.id)}nodeAdded(e){this.highlights.forEach((t=>this.enableSetForNode(t,e)))}nodeRemoved(e){this.highlights.forEach((t=>this.disableSetForNode(t,e)))}removeAll(){this.highlights.forEach((e=>this.disableSet(e)))}}class s{constructor(t){this.id=new i(0),this.ids=new Map,this.enabled=!1;for(const i of t)e(i)&&this.add(i.nodeId,i.pointId)}add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{h as PointHighlights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as l,defaultDepthWriteParams as c,defaultColorWriteParams as a}from\"../../../webgl/renderState.js\";import{stencilWriteMaskOn as u,stencilBaseAllZerosParams as d}from\"../lib/StencilUtils.js\";import{P as p}from\"../../../../chunks/PointRenderer.glsl.js\";class h extends t{constructor(e,r){super(e,r)}initializeProgram(e){const r=h.shader.get(),t=this.configuration,i=r.build({output:t.output,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!0,drawScreenSize:t.drawScreenSize});return new n(e.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),s)}initializePipeline(){return l({depthTest:{func:513},depthWrite:c,colorWrite:a,stencilWrite:this.configuration.sceneHasOcludees?u:null,stencilTest:this.configuration.sceneHasOcludees?d:null})}}h.shader=new r(p,(()=>import(\"./PointRenderer.glsl.js\")));class m extends i{constructor(){super(...arguments),this.output=0,this.slicePlaneEnabled=!1,this.drawScreenSize=!1,this.sceneHasOcludees=!1}}e([o({count:8})],m.prototype,\"output\",void 0),e([o()],m.prototype,\"slicePlaneEnabled\",void 0),e([o()],m.prototype,\"drawScreenSize\",void 0),e([o()],m.prototype,\"sceneHasOcludees\",void 0);export{h as PointRendererTechnique,m as PointRendererTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,unwrap as i,disposeMaybe as t,isSome as s}from\"../../../../core/maybe.js\";import n from\"../../../../core/PooledArray.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{f as o,l as h,a,p as l,d as c,o as d,s as u}from\"../../../../chunks/vec3.js\";import{i as m,t as p,m as g}from\"../../../../chunks/mat4.js\";import{I as f}from\"../../../../chunks/mat4f64.js\";import{s as _}from\"../../../../chunks/vec4.js\";import{create as x,POSITIVE_INFINITY as S,offset as z,contains as b,containsPoint as P,equals as w,set as R}from\"../../../../geometry/support/aaBoundingBox.js\";import{Default3D as y}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{c as q}from\"../../../../chunks/mat4f32.js\";import{c as v}from\"../../../../chunks/vec3f32.js\";import{plane as M,ray as j}from\"../../support/geometryUtils.js\";import F from\"../../../webgl/BufferObject.js\";import H from\"../../../webgl/VertexArrayObject.js\";import{IntersectorResult as U}from\"../../webgl-engine/lib/intersectorUtils.js\";import{Slice as V}from\"../../webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as A}from\"../../webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{minimumDistancePlane as C,maximumDistancePlane as E,intersectLine as B,toAaBoundingBox as L}from\"../../support/orientedBoundingBox.js\";import{PointHighlights as O}from\"./PointHighlights.js\";import{PointRendererTechniqueConfiguration as I,PointRendererTechnique as N}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";const k={positions:[{name:\"position\",count:3,type:5126,offset:0,stride:12,normalized:!1}],colors:[{name:\"color\",count:3,type:5121,offset:0,stride:3,normalized:!0}]};class T{constructor(e){this._params=e,this.type=\"Point\",this.isGround=!1,this._bindParameters={inverseViewport:[0,0],highlightDepthTexture:null},this._highlights=new O({forEachNode:e=>this.forEachNode(e),addHighlight:(e,i,t)=>this.addHighlight(e,i,t),removeHighlight:(e,i)=>this.removeHighlight(e,i)}),this.canRender=!0,this.layerUid=\"\",this._useFixedSizes=!1,this._scaleFactor=1,this._minSizePx=0,this._useRealWorldSymbolSizes=!1,this._size=0,this._sizePx=0,this._slicePlaneEnabled=!1,this._clipBox=x(S),this._techniqueConfig=new I,this.tempMatrix4=q(),this.tempVec3=v(),this.nodes=new n}get needsHighlight(){return this._highlights.hasHighlights}initializeRenderContext(e){this._context=e,this._techniqueRep=this._context.shaderTechniqueRep,e.requestRender()}uninitializeRenderContext(){}intersect(e,i,t,s){const n=r(),u=r(),m=r(),p=r(),g=M.create(),S=e.camera.perScreenPixelRatio/2,w=e.camera.near,R=this._getSizeParams();o(u,s,t);const y=1/h(u);a(u,u,y),l(m,u),_(g,u[0],u[1],u[2],-c(u,t));class q{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}const v=new q,F=new q,H=[],V=x(),A=x(this._clipBox);z(A,-t[0],-t[1],-t[2],A),this.nodes.forAll((r=>{const h=r.splatSize*this._scaleFactor;let a=C(r.obb,g),l=E(r.obb,g);a-=G(h,a+w,R,S,r.isLeaf),l-=G(h,l+w,R,S,r.isLeaf);const f=l<0,_=null!=v.dist&&null!=F.dist&&v.dist<a*y&&F.dist>l*y;if(f||_)return;const x=D(h,l+w,R,S,r.isLeaf);if(!B(r.obb,t,u,x))return;const M=x*x;L(r.obb,V),z(V,-t[0],-t[1],-t[2],V);const j=!b(A,V);o(p,r.origin,t);const U=r.coordinates.length/3;for(let o=0;o<U;o++){if(n[0]=p[0]+r.coordinates[3*o],n[1]=p[1]+r.coordinates[3*o+1],n[2]=p[2]+r.coordinates[3*o+2],j&&!P(A,n))continue;const a=c(n,u),l=d(n)-a*a;if(l>M)continue;let g=a+w;const f=G(h,g,R,S,r.isLeaf);if(a-f<0)continue;g-=f;const _=D(h,g,R,S,r.isLeaf);if(l>_*_)continue;const x=(a-f)*y,z=e=>{e.point=$(r,o,e.point),e.dist=x,e.normal=m,e.node=r,e.pointId=o,e.layerUid=this.layerUid};if((null==v.dist||x<v.dist)&&(null==i||i(t,s,x))&&z(v),0!==e.options.store&&(null==F.dist||x>F.dist)&&(null==i||i(t,s,x))&&z(F),2===e.options.store&&(null==i||i(t,s,x))){const e=new q;z(e),H.push(e)}}}));const O=e=>{const{layerUid:i,node:t,pointId:s}=e;return{type:\"external\",point:e.point,metadata:{layerUid:i,createGraphic:()=>this._params.createGraphic(t,s,e.point)}}},I=(e,i)=>{const t=O(i),s=`${i.layerUid}/${i.node.id}/${i.pointId}`;e.set(t,s,i.dist,i.normal,f,void 0),e.intersector=\"PointRenderer\"};if(null!=v.dist){const i=e.results.min;(null==i.dist||v.dist<i.dist)&&I(i,v)}if(null!=F.dist&&0!==e.options.store){const i=e.results.max;(null==i.dist||F.dist>i.dist)&&I(i,F)}if(2===e.options.store){const i=j.fromPoints(t,s);for(const t of H){const s=new U(i);I(s,t),e.results.all.push(s)}}}render(e){if(0!==e.pass&&2!==e.pass&&5!==e.pass)return!1;const i=2===e.pass,t=e.rctx;this.nodes.forAll((i=>{null==i.vao&&this._initNode(e,i)}));const s=this._getSizeParams(),n=this.selectTechnique(e,s),r=n.program;if(null==r||0===this.nodes.length)return!0;const o=this._clipBox,h=!w(o,S,((e,i)=>e===i));h||(u(this.tempVec3,-1/0,-1/0,-1/0),r.setUniform3fv(\"uClipMin\",this.tempVec3),u(this.tempVec3,1/0,1/0,1/0),r.setUniform3fv(\"uClipMax\",this.tempVec3)),t.bindProgram(r),n.bindPipelineState(t),r.setUniformMatrix4fv(\"uProjectionMatrix\",e.camera.projectionMatrix),i&&r.setUniform2f(\"nearFar\",e.camera.near,e.camera.far),e.isHighlightPass&&(this._bindParameters.inverseViewport[0]=1/e.camera.fullViewport[2],this._bindParameters.inverseViewport[1]=1/e.camera.fullViewport[3],this._bindParameters.highlightDepthTexture=e.highlightDepthTexture,A.bindOutputHighlight(t,r,this._bindParameters));const a=e.camera.pixelRatio;s.drawFixedSize&&r.setUniform2f(\"uPointScale\",s.fixedSize*a,e.camera.fullHeight);const l=this._slicePlaneEnabled?e.sliceHelper&&e.sliceHelper.plane:null;return this.nodes.forAll((i=>{if(0===i.coordinates.length||e.isHighlightPass&&!i.highlights)return;if(r.setUniform2f(\"uScreenMinMaxSize\",s.screenMinSize*a,W(i.isLeaf)*a),!s.drawFixedSize){const t=i.splatSize*this._scaleFactor;r.setUniform2f(\"uPointScale\",t*a,e.camera.fullHeight/a)}const c=i.origin;h&&(u(this.tempVec3,o[0]-c[0],o[1]-c[1],o[2]-c[2]),r.setUniform3fv(\"uClipMin\",this.tempVec3),u(this.tempVec3,o[3]-c[0],o[4]-c[1],o[5]-c[2]),r.setUniform3fv(\"uClipMax\",this.tempVec3)),m(this.tempMatrix4),p(this.tempMatrix4,this.tempMatrix4,c),g(this.tempMatrix4,e.camera.viewMatrix,this.tempMatrix4),r.setUniformMatrix4fv(\"uModelViewMatrix\",this.tempMatrix4),V.bindUniforms(r,n.configuration,l,c),t.bindVAO(i.vao),e.isHighlightPass?this._renderHighlightFragments(t,i):t.drawArrays(0,0,i.coordinates.length/3)})),!0}_renderHighlightFragments(t,s){const n=s.highlights;if(e(n))return;let r=i(n[0].component),o=r+1;for(let e=1;e<n.length;e++){const s=i(n[e].component);if(s!==o){const e=o-r;e>0&&t.drawArrays(0,r,e),r=s}o=s+1}const h=o-r;h>0&&t.drawArrays(0,r,h)}set useFixedSizes(e){this._useFixedSizes!==e&&(this._useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._useFixedSizes}set scaleFactor(e){this._scaleFactor!==e&&(this._scaleFactor=e,this._requestRender())}get scaleFactor(){return this._scaleFactor}set minSizePx(e){this._minSizePx!==e&&(this._minSizePx=e,this._requestRender())}get minSizePx(){return this._minSizePx}set useRealWorldSymbolSizes(e){this._useRealWorldSymbolSizes!==e&&(this._useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._useRealWorldSymbolSizes}set size(e){this._size!==e&&(this._size=e,this._requestRender())}get size(){return this._size}set sizePx(e){this._sizePx!==e&&(this._sizePx=e,this._requestRender())}get sizePx(){return this._sizePx}set clippingBox(e){R(this._clipBox,e||S)}get slicePlane(){return this._slicePlaneEnabled}set slicePlane(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}get intersectionHandlerId(){return this.layerUid}addNode(e){this.nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let i=null;return this.nodes.filterInPlace((s=>s.id!==e||(i=s,s.vao=t(s.vao),this._highlights.nodeRemoved(s),!1))),this._requestRender(),i}forEachNode(e){this.nodes.forAll(e)}removeAll(){this.nodes.forAll((e=>e.vao=t(e.vao))),this._highlights.removeAll(),this.nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}addHighlight(e,i,t){e.highlights=K(e.highlights,i,t),this._requestRender()}removeHighlight(e,i){e.highlights=Q(e.highlights,i),this._requestRender()}_initNode(e,i){const t=e.rctx;i.vao=new H(t,y,k,{positions:F.createVertex(t,35044,i.coordinates),colors:F.createVertex(t,35044,i.rgb)})}_requestRender(){this._context&&this._context.requestRender()}_getSizeParams(){const e=this._useFixedSizes,i=e&&!this._useRealWorldSymbolSizes,t=i?this._sizePx:this._size;let s=this._minSizePx;return e&&(s=0),{drawScreenSpace:i,drawFixedSize:e,fixedSize:t,screenMinSize:s}}selectTechnique(e,i){return this._techniqueConfig.drawScreenSize=i.drawScreenSpace,this._techniqueConfig.slicePlaneEnabled=this._slicePlaneEnabled,this._techniqueConfig.sceneHasOcludees=e.hasOccludees,this._techniqueConfig.output=2===e.pass?1:5===e.pass?4:0,this._techniqueRep.acquireAndReleaseExisting(N,this._techniqueConfig,this._technique)}}function W(e){return e?256:64}function D(e,i,t,s,n){if(t.drawScreenSpace)return t.fixedSize*i*s;const r=W(n)*i*s;return t.drawFixedSize?Math.min(t.fixedSize/2,r):t.screenMinSize>0?Math.min(Math.max(t.screenMinSize*i*s,e/2),r):Math.min(e/2,r)}function G(e,i,t,s,n){return t.drawScreenSpace?0:D(e,i,t,s,n)}function $(e,i,t){return null==t&&(t=r()),t[0]=e.origin[0]+e.coordinates[3*i],t[1]=e.origin[1]+e.coordinates[3*i+1],t[2]=e.origin[2]+e.coordinates[3*i+2],t}function J(e){return s(e.component)?e.component:-1}function K(i,t,s){e(i)&&(i=[]);const n={component:t,id:s};i.push(n);const r=J(n);let o=i.length-1;for(;o>0&&r<J(i[o-1]);)[i[o-1],i[o]]=[i[o],i[o-1]],--o;return i}function Q(i,t){if(e(i))return i;const s=i.filter((e=>e.id!==t));return 0===s.length?null:s}!function(e){function i(e){return e.hasOwnProperty(\"splatSize\")}e.isInstanceOfNode=i}(T||(T={}));export{T as PointRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{estimateSize as t,isArrayBuffer as i}from\"../../../core/typedArrayUtil.js\";import{unwrapOr as r,isSome as s,isNone as o,mapSome as n}from\"../../../core/maybe.js\";import a from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{createAbortController as h,eachAlways as u,isAbortError as p,eachAlwaysValues as c,throwIfAborted as _}from\"../../../core/promiseUtils.js\";import m from\"../../../core/Collection.js\";import g from\"../../../layers/support/CodedValue.js\";import f from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/domains.js\";import{unpackFieldNames as y}from\"../../../layers/support/fieldUtils.js\";import{pt2px as b}from\"../../../core/screenUtils.js\";import{result as w,forEach as N}from\"../../../core/asyncUtils.js\";import{d as P}from\"../../../chunks/vec3.js\";import{getMetersPerVerticalUnitForSR as x}from\"../../../core/unitUtils.js\";import{containsPoint as v,create as C}from\"../../../geometry/support/aaBoundingRect.js\";import{projectBoundingRect as S}from\"../../../geometry/projection.js\";import{getMetersPerUnit as A}from\"../../../symbols/support/unitConversionUtils.js\";import I from\"../../../layers/support/PromiseQueue.js\";import{Task as k}from\"../../support/Scheduler.js\";import{create as V}from\"../../../geometry/support/aaBoundingBox.js\";import{extractSafeScaleBounds as R,scaleBoundsPredicate as L}from\"../../support/layerViewUtils.js\";import{makeDehydratedPoint as U}from\"../../../layers/graphics/dehydratedFeatures.js\";import{a as j}from\"../../../chunks/vec3f32.js\";import{plane as Q}from\"../support/geometryUtils.js\";import{projectToBoundingBox as D}from\"../support/extentUtils.js\";import{LayerView3D as F}from\"./LayerView3D.js\";import{updatingProgress as M}from\"./support/layerViewUpdatingProperties.js\";import W from\"../../layers/LayerView.js\";import{minimumDistancePlane as z}from\"../support/orientedBoundingBox.js\";import{checkPointCloudLayerValid as O,checkPointCloudLayerCompatibleWithView as E}from\"./i3s/I3SUtil.js\";import{PointCloudWorkerHandle as H}from\"./PointCloudWorkerHandle.js\";import{nodeDiff as B,sortFrontToBack as G,splitWorkEntries as q}from\"./i3s/LoDUtil.js\";import T from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as $,getFixedSizeAlgorithm as J,getRendererInfo as Y,getFilterInfo as K,rendererUsesFixedSizes as X,getAttributeInfo as Z}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as ee,readGeometry as te,elevationFromPositions as ie}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as re}from\"./i3s/PointGraphic.js\";import{PointRenderer as se}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as oe}from\"./support/PopupSceneLayerView.js\";const ne=a.getLogger(\"esri.views.3d.layers.PointCloudLayerView3D\"),ae=8,de=Q.create();let le=class extends(oe(F(W))){constructor(){super(...arguments),this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new I,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[]}get pointScale(){const e=$(this.layer&&this.layer.renderer),t=1;return e&&null!=e.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=J(this.layer&&this.layer.renderer),t=!1;return e&&null!=e.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=J(this.layer&&this.layer.renderer),t=0;return e&&null!=e.size?e.size:t}get inverseDensity(){const e=96;return this.layer&&this.layer.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=Y(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.primaryAttribute.name);const i=K(this.layer);if(i)for(const r of i)t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of y(this.layer.fields,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=V(),t=this.view.renderSpatialReference;return D(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;if(e&&\"absolute-height\"===e.mode){const t=x(this.layer.spatialReference),i=A(e.unit);return r(e.offset,0)*i/t}return 0}initialize(){const e=this.view.resourceController,t=e.scheduler;this._worker=new H(t),this.addResolvingPromise(this._worker.promise),this._tmpPoint=U(0,0,0,this.layer.spatialReference),O(this.layer),E(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(2),this._dataRequester=e.createStreamDataRequester(3),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.getMemCache(this.layer.uid),this.updatingHandles.add(this,\"_clippingBox\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this,\"_elevationOffset\",(()=>this._elevationOffsetChanged()),2),this.updatingHandles.add(this.layer,\"renderer\",(()=>this._rendererChanged()),2),this.updatingHandles.add(this.layer,\"filters\",(()=>this._reload()),2),this.updatingHandles.add(this.layer,\"outFields\",(()=>this._reload()),2),this.updatingHandles.add(this.layer,\"scaleRangeId\",(()=>this._setUpdateViewNeeded())),this.updatingHandles.add(this,\"clippingArea\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this.view.state,\"contentCamera\",(()=>this._setUpdateViewNeeded())),this.handles.add([this.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),r.events.on(\"quality-changed\",(()=>this._setUpdateViewNeeded()))]),this.addResolvingPromise(i),this.when((()=>{this.handles.add([t.registerTask(k.POINT_CLOUD_LAYER,(e=>this._process(e)),(()=>this._needsUpdate())),t.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this.updatingHandles.add(this,\"suspended\",(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),2)])}),(()=>{this.updatingHandles.removeAll(),this.handles.removeAll()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker&&(this._worker.destroy(),this._worker=null),this._destroyRenderer(),this._memCache.destroy(),this._memCache=null,this._codedDomainPopulationAbortController&&(this._codedDomainPopulationAbortController.abort(),this._codedDomainPopulationAbortController=null),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new se({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this.updatingHandles.add(this,\"_clippingBox\",(e=>this._renderer.clippingBox=e),2),this.updatingHandles.add(this,\"suspended\",(e=>this._setPointsVisible(!e)),2),this.updatingHandles.add(this,\"pointScale\",(e=>this._renderer.scaleFactor=e),2),this._renderer.minSizePx=Math.sqrt(2),this.updatingHandles.add(this,\"useRealWorldSymbolSizes\",(e=>this._renderer.useRealWorldSymbolSizes=e),2),this.updatingHandles.add(this,\"pointSize\",(e=>{const t=b(e);this._renderer.size=e,this._renderer.sizePx=t}),2),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._renderer.slicePlane=e),2),this.updatingHandles.add(this,\"inverseDensity\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this,\"maximumPointCount\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this.view,\"qualitySettings.sceneService.pointCloud.lodFactor\",(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),2)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=s(e.pointIdFilterMap)?e.pointIdFilterMap[t]:t,o=this.view.computeMapPointFromVec3d(i),n=this._createGraphicAttributes(e,r);return new re({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:o,attributes:n,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo&&e.storageInfo.attributeValues,o=s?s.valuesPerElement:1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin([4],this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=X(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){this.layer.minScale||this.layer.maxScale?S(e.extent,e.spatialReference,ue,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);v(ue,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}displayNodes(e){this._workQueue=B([...this._renderedNodes],e,this._index),G(this._workQueue,this.view.state.contentCamera.viewForward,this._index),q(this._workQueue,ae,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}_needsUpdate(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.length>0}_process(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););for(this._processWorkQueue(e);this._idleQueue.length>0&&e.run((()=>this._idleQueue.process())););}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(o(t))return;this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=h(),i=this._memCache.pop(e.toString());return s(i)?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this.loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&0===this._idleQueue.length&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async populateClassCodeCodedDomain(e,t){const i=\"CLASS_CODE\",r=this.layer.fieldsIndex.get(i);if(!r||r.domain)return;if(-1===e.indexOf(r.name))return;const s=await w(this.layer.queryCachedStatistics(i,{signal:t}));if(!1===s.ok)return;const o=s.value,n=o&&o.labels&&o.labels.labels;n&&Array.isArray(n)&&(r.domain=new f({name:\"CLASS_CODE\",codedValues:n.map((e=>new g({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=h(),this._codedDomainPopulationPromise=this.populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,t){const i=this._splitGraphicsPerNode(e),r=this.layer.attributeStorageInfo,s=t.map((e=>Z(r,e))),o=async(e,t)=>{const i=this._index.getNode(t);await N(s,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},n=[];return i.forEach(((e,t)=>{n.push(o(e,t))})),await u(n),e}_isValidPointGraphic(e){return e instanceof re&&e.pointCloudMetadata&&e.pointCloudMetadata.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return s(i)?ee({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=te(t,await this._loadGeometry(e,null));return ie(i,i.length/3)}highlight(e){if(!e)return{remove(){}};const t=m.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new T(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=h(),i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:t.obb,firstChild:t.firstChild,childCount:t.childCount,vertexCount:null!=t.vertexCount?t.vertexCount:t.pointCount,lodThreshold:null!=t.lodThreshold?t.lodThreshold:t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;let e=this.inverseDensity/this._lodFactor*this._getLodMemoryFactor();const t=this.maximumPointCount*this._lodFactor*this._getLodMemoryFactor();let i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(r/(.75*t));for(;r>t;)e*=s,i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(2);return this.displayNodes(i),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_getLodMemoryFactor(){return this.view.resourceController.memoryController.memoryFactor}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=P(s,t.eye),n=Q.fromNormalAndOffset(s,-o,de),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=R(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);L(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.indexOf(t)<0&&this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,z(e,r));return t/(n*n)/(4*s*s)/i}loadNode(e,t){try{return this.loadNodeAsync(e,t)}catch(i){throw p(i)||ne.error(i),i}}async loadAdditionalUserAttributes(e,t,i){const r=this.layer.outFields;if(!r)return[];const o=y(this.layer.fields,r),a=new Set(e.map((e=>s(e)?e.name:null))),d=this.layer.attributeStorageInfo,l=[];for(const s of o){if(a.has(s))continue;const e=Z(d,s);e&&l.push(t(e))}const h=await c(l);return _(i),n(h,(e=>e))}async loadNodeAsync(e,t){const i=this._index.getNode(e),r=Y(this.layer),n=K(this.layer),a=i.resourceId,d=async e=>{if(o(e))return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(a,e,t);return s(i)?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(a,t),{primaryAttribute:s,modulationAttribute:o}=r,l=d(s),h=d(o),u=n.map((e=>e.attributeInfo)),p=u.map((e=>d(e))),c=this.loadAdditionalUserAttributes([s,o,...u],d,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(p),c]);_(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:n,obb:this._index.getRenderObb(e),elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(o(t)||!t.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){return this._indexRequester.request(e,\"json\",{query:{f:\"json\"},signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,he(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(se.isInstanceOfNode(t))return t.splatSize=r,t.obb=s,t.origin=j(t.obb.center),t;const o=1.001;if(t.obb.halfSize[0]>s.halfSize[0]*o||t.obb.halfSize[1]>s.halfSize[1]*o||t.obb.halfSize[2]>s.halfSize[2]*o){if(this._maxLoggedBoxWarnings>0){const i=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;ne.warn(`Node ${e} reported bounding box too small. got ${i(s)} but points cover ${i(t.obb)}`),0==--this._maxLoggedBoxWarnings&&ne.warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,t.obb)}return{id:e,coordinates:t.points,origin:j(s.center),rgb:t.rgb,attributes:t.attributes,pointIdFilterMap:t.pointIdFilterMap,highlights:null,splatSize:r,obb:s,isLeaf:0===i.childCount}}getUsedMemory(){let e=0;return this._renderer.forEachNode((r=>{e+=pe,e+=t(r.coordinates);for(const s of r.attributes){const r=s.values;i(r.buffer)&&(e+=t(r))}})),e}getUnloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.getUsedMemory()-e*pe)/t)+i*pe}ignoresMemoryFactor(){return!1}get performanceInfo(){return{nodes:this._renderedNodes.size,displayedNumberOfFeatures:[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),maximumNumberOfFeatures:this.maximumPointCount,totalNumberOfFeatures:-1,core:null,\"Loading Nodes\":this._loadingNodes.size,\"Index Queue\":this._indexQueue.length,\"Work Queue\":this._workQueue.length,\"Idle Queue\":this._idleQueue.length}}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};function he(e){return 5*e.coordinates.length+128}e([d()],le.prototype,\"layer\",void 0),e([d({readOnly:!0,aliasOf:\"layer.parsedUrl.path\"})],le.prototype,\"baseUrl\",void 0),e([d({readOnly:!0})],le.prototype,\"pointScale\",null),e([d({readOnly:!0})],le.prototype,\"useRealWorldSymbolSizes\",null),e([d({readOnly:!0})],le.prototype,\"pointSize\",null),e([d({readOnly:!0})],le.prototype,\"inverseDensity\",null),e([d()],le.prototype,\"maximumPointCount\",void 0),e([d({readOnly:!0})],le.prototype,\"availableFields\",null),e([d({readOnly:!0})],le.prototype,\"_clippingBox\",null),e([d({readOnly:!0})],le.prototype,\"_elevationOffset\",null),e([d({type:Boolean})],le.prototype,\"slicePlaneEnabled\",void 0),e([d()],le.prototype,\"updating\",void 0),e([d(M)],le.prototype,\"updatingProgress\",void 0),e([d({readOnly:!0})],le.prototype,\"updatingProgressValue\",null),le=e([l(\"esri.views.3d.layers.PointCloudLayerView3D\")],le);const ue=C(),pe=160;var ce=le;export default ce;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l,hasField as t}from\"../../../layers/support/fieldUtils.js\";async function i(i,d=i.popupTemplate){if(!e(d))return[];const o=await d.getRequiredFields(i.fields),{lastEditInfoEnabled:s}=d,{objectIdField:u,typeIdField:a,globalIdField:n,relationships:f}=i;if(o.includes(\"*\"))return[\"*\"];const r=s?await p(i):[],m=l(i.fields,[...o,...r]);return a&&m.push(a),m&&u&&t(i.fields,u)&&-1===m.indexOf(u)&&m.push(u),m&&n&&t(i.fields,n)&&-1===m.indexOf(n)&&m.push(n),f&&f.forEach((e=>{const{keyField:p}=e;m&&p&&t(i.fields,p)&&-1===m.indexOf(p)&&m.push(p)})),m}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,i as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{RgbaFloatEncoding as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{OutputHighlight as a}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";function r(r){const n=new i,d=0===r.output,c=1===r.output,s=4===r.output;return n.extensions.add(\"GL_OES_standard_derivatives\"),n.include(o,r),n.attributes.add(\"position\",\"vec3\"),n.attributes.add(\"color\",\"vec3\"),n.vertex.uniforms.add(\"uModelViewMatrix\",\"mat4\").add(\"uProjectionMatrix\",\"mat4\").add(\"uScreenMinMaxSize\",\"vec2\").add(\"uPointScale\",\"vec2\").add(\"uClipMin\",\"vec3\").add(\"uClipMax\",\"vec3\"),c?(n.vertex.uniforms.add(\"nearFar\",\"vec2\"),n.varyings.add(\"depth\",\"float\")):4!==r.output&&n.varyings.add(\"vColor\",\"vec3\"),n.vertex.code.add(e`\n    void main(void) {\n      // Move clipped points outside of clipspace\n      if (position.x < uClipMin.x || position.y < uClipMin.y || position.z < uClipMin.z ||\n        position.x > uClipMax.x || position.y > uClipMax.y || position.z > uClipMax.z) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      if (rejectBySlice(position)) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      // Position in camera space\n      vec4 camera = uModelViewMatrix * vec4(position, 1.0);\n\n      float pointSize = uPointScale.x;\n      vec4 position = uProjectionMatrix * camera;\n     ${r.drawScreenSize?e`\n      float clampedScreenSize = pointSize;`:e`\n      float pointRadius = 0.5 * pointSize;\n      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n      vec4 positionOffset = uProjectionMatrix * cameraOffset;\n      float radius = abs(positionOffset.y - position.y);\n      float viewHeight = uPointScale.y;\n      // screen diameter = (2 * r / w) * (h / 2)\n      float screenPointSize = (radius / position.w) * viewHeight;\n      float clampedScreenSize = clamp(screenPointSize, uScreenMinMaxSize.x, uScreenMinMaxSize.y);\n      // Shift towards camera, to move rendered point out of terrain i.e. to\n      // the camera-facing end of the virtual point when considering it as a\n      // 3D sphere.\n      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n      position = uProjectionMatrix * camera;`}\n\n     gl_PointSize = clampedScreenSize;\n     gl_Position = position;\n\n     ${c?e`depth = (-camera.z - nearFar[0]) / (nearFar[1] - nearFar[0]);`:\"\"}\n     ${d?e`vColor = color;`:\"\"}\n    }\n  `),n.fragment.include(t,r),s&&n.include(a),n.fragment.code.add(e`\n    void main(void) {\n      vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n      float r2 = dot(vOffset, vOffset);\n\n      if (r2 > 0.25) {\n        discard;\n      }\n      ${c?e`gl_FragColor = float2rgba(depth);`:\"\"}\n      ${s?e`outputHighlight();`:\"\"}\n      ${d?e`gl_FragColor = vec4(vColor, 1.0);`:\"\"}\n    }\n  `),n}var n=Object.freeze({__proto__:null,build:r});export{n as P,r as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{isInt16Array as t,isInt32Array as r}from\"../../../../core/typedArrayUtil.js\";import{isSome as o,isNone as n}from\"../../../../core/maybe.js\";import a from\"../../../../core/Error.js\";import{binaryIndexOf as s,flatten as i,splitIntoChunks as c}from\"../../../../core/arrayUtils.js\";import{eachAlways as l}from\"../../../../core/promiseUtils.js\";import u from\"../../../../geometry/SpatialReference.js\";import{canProject as f}from\"../../../../geometry/support/webMercatorUtils.js\";import p from\"../../../../request.js\";import{s as m,g as h,r as d,q as y,a as g,b,i as w}from\"../../../../chunks/vec3.js\";import{getSphericalPCPF as S,getReferenceEllipsoid as x}from\"../../../../geometry/projectionEllipsoid.js\";import{a as M}from\"../../../../chunks/mat4.js\";import{create as v,empty as j,expandPointInPlace as R,intersects as k}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectBoundingSphere as q,projectBuffer as T,computeLinearTransformation as I,projectVectorToVector as z}from\"../../../../geometry/projection.js\";import A from\"../../../../tasks/support/Query.js\";import{a as F}from\"../../../../chunks/mat4f64.js\";import{a as C}from\"../../../../chunks/vec4f64.js\";import{a as B,m as G,c as U}from\"../../../../chunks/quat.js\";import{create as K}from\"../../../../geometry/support/aaBoundingBox.js\";import{createSolidEdgeMaterial as L,createMaterialFromEdges as W}from\"../support/edgeUtils.js\";import{Texture as E}from\"../../webgl-engine/lib/Texture.js\";import{parseColorMixMode as O}from\"../support/symbolColorUtils.js\";import{b as P}from\"../../../../chunks/quatf32.js\";import{corners as D,compute as N,create as _}from\"../../support/orientedBoundingBox.js\";import{readBinaryAttribute as $}from\"./I3SBinaryReader.js\";import{computeGlobalTransformation as V}from\"./I3SProjectionUtil.js\";function Q(e){return e&&parseInt(e.substring(e.lastIndexOf(\"/\")+1,e.length),10)}function Z(t){const r=t._stage.renderView.has(1),o=t._stage.renderView.has(0),n=e(\"disable-feature:i3s-basis\")?0:1;return 12|(r?2|n:0)|(o?n:0)}function H(e,t){return e.find((e=>0!=(e.encoding&t)))}function J(e){switch(e){case 1:return E.BASIS_ENCODING;case 2:return E.DDS_ENCODING;case 4:return\"image/png\";case 8:return\"image/jpeg\";case 16:return\"image/ktx\";default:return\"\"}}function X(t){if(e(\"disable-feature:i3s-draco\")||!t)return!1;for(const e of t)for(const t of e.geometryBuffers)if(\"draco\"===t.compressedAttributes.encoding)return!0;return!1}function Y(e,t,r,o,n,a){n.traverse(r,(r=>{let n=r.mbs;t!==o&&(n=ne,q(r.mbs,o,n,t));const s=ae(e,n);return 0!==s&&(a(r,s),!0)}))}function ee(e,t,r){let o=0,n=0;for(let a=0;a<t.length&&o<e.length;a++)e[o]===t[a]&&(r(a)&&(e[n]=e[o],n++),o++);e.length=n}function te(e,t,r){let o=0,n=0;for(;o<r.length;){s(e,r[o])>=0===t&&(r[n]=r[o],n++),o++}r.length=n}const re=K();function oe(e,t){if(0===t.rotationScale[1]&&0===t.rotationScale[2]&&0===t.rotationScale[3]&&0===t.rotationScale[5]&&0===t.rotationScale[6]&&0===t.rotationScale[7])return re[0]=(e[0]-t.position[0])/t.rotationScale[0],re[1]=(e[1]-t.position[1])/t.rotationScale[4],re[2]=(e[2]-t.position[2])/t.rotationScale[8],re[3]=(e[3]-t.position[0])/t.rotationScale[0],re[4]=(e[4]-t.position[1])/t.rotationScale[4],re[5]=(e[5]-t.position[2])/t.rotationScale[8],re}const ne=C();function ae(e,t){const r=t[0],o=t[1],n=t[3],a=e[0]-r,s=r-e[2],i=e[1]-o,c=o-e[3],l=Math.max(a,s,0),u=Math.max(i,c,0),f=l*l+u*u;if(f>n*n)return 0;if(f>0)return 1;return-Math.max(a,s,i,c)>n?3:2}function se(e,t){const r=t[0],o=t[1],n=t[2],a=t[3],s=e[0]-r,i=r-e[3],c=e[1]-o,l=o-e[4],u=e[2]-n,f=n-e[5],p=Math.max(s,i,0),m=Math.max(c,l,0),h=Math.max(u,f,0),d=p*p+m*m+h*h;if(d>a*a)return 0;if(d>0)return 1;return-Math.max(s,i,c,l,u,f)>a?3:2}function ie(e,t,r){const o=[],n=r&&r.missingFields,a=r&&r.originalFields;for(const s of e){const e=s.toLowerCase();let r=!1;for(const n of t)if(e===n.name.toLowerCase()){o.push(n.name),r=!0,a&&a.push(s);break}!r&&n&&n.push(s)}return o}async function ce(e,t,r,s,c){if(0===t.length)return[];const l=e.attributeStorageInfo;if(o(e.associatedLayer))try{return await ue(e.associatedLayer,t,r,s)}catch(u){if(e.associatedLayer.loaded)throw u}if(l){const o=le(t,r,c);if(n(o))throw new a(\"scenelayer:features-not-loaded\",\"Tried to query attributes for unloaded features\");const u=e.parsedUrl.path,f=await Promise.all(o.map((e=>pe(u,l,e.node,e.indices,s).then((t=>{for(let r=0;r<e.graphics.length;r++){const o=e.graphics[r],n=t[r];if(o.attributes)for(const e in o.attributes)e in n||(n[e]=o.attributes[e]);o.attributes=n}return e.graphics})))));return i(f)}throw new a(\"scenelayer:no-attribute-source\",\"This scene layer does not have a source for attributes available\")}function le(e,t,r){const o=new Map,n=[],a=r();for(const s of e){const e=s.attributes[t];for(let t=0;t<a.length;t++){const r=a[t],i=r.featureIds.indexOf(e);if(i>=0){let e=o.get(r.node);e||(e={node:r.node,indices:[],graphics:[]},n.push(e),o.set(r.node,e)),e.indices.push(i),e.graphics.push(s);for(let r=t;r>0;r--)a[r]=a[r-1];a[0]=r;break}}}return n}async function ue(e,t,r,o){t.sort(((e,t)=>e.attributes[r]-t.attributes[r]));const n=t.map((e=>e.attributes[r])),a=[],s=ie(o,e.fields,{originalFields:a}),i=await fe(e,n,s);for(let c=0;c<t.length;c++){const e=t[c],r=i[c],o={};if(e.attributes)for(const t in e.attributes)o[t]=e.attributes[t];for(let t=0;t<a.length;t++)o[a[t]]=r[s[t]];e.attributes=o}return t}function fe(e,t,r){const o=e.capabilities.query.maxRecordCount;if(null!=o&&t.length>o){const n=c(t,o);return Promise.all(n.map((t=>fe(e,t,r)))).then(i)}const n=new A({objectIds:t,outFields:r,orderByFields:[e.objectIdField]});return e.queryFeatures(n).then((e=>{if(e&&e.features&&e.features.length===t.length)return e.features.map((e=>e.attributes));throw new a(\"scenelayer:feature-not-in-associated-layer\",\"Feature not found in associated feature layer\")}))}function pe(e,t,r,o,n){const a=[];for(const s of t)if(s&&-1!==n.indexOf(s.name)){const t=`${e}/nodes/${r.resources.attributes}/attributes/${s.key}/0`;a.push({url:t,storageInfo:s})}return l(a.map((e=>p(e.url,{responseType:\"array-buffer\"}).then((t=>$(e.storageInfo,t.data)))))).then((e=>{const t=[];for(const r of o){const o={};for(let t=0;t<e.length;t++)null!=e[t].value&&(o[a[t].storageInfo.name]=de(e[t].value,r));t.push(o)}return t}))}const me=-32768,he=-(2**31);function de(e,o){if(!e)return null;const n=e[o];if(t(e))return n===me?null:n;if(r(e))return n===he?null:n;return n!=n?null:n}function ye(e){const t=e.store.indexCRS||e.store.geographicCRS,r=void 0===t?e.store.indexWKT:void 0;if(r){if(!e.spatialReference)throw new a(\"layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference\",\"Found indeWKT in the scene layer store but no layer spatial reference\",{});if(r!==e.spatialReference.wkt)throw new a(\"layerview:store-spatial-reference-wkt-index-incompatible\",\"The indeWKT of the scene layer store does not match the WKT of the layer spatial reference\",{})}const o=t?new u(Q(t)):e.spatialReference;return o.equals(e.spatialReference)?e.spatialReference:o}function ge(e){const t=e.store.vertexCRS||e.store.projectedCRS,r=void 0===t?e.store.vertexWKT:void 0;if(r){if(!e.spatialReference)throw new a(\"layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference\",\"Found vertexWKT in the scene layer store but no layer spatial reference\",{});if(r!==e.spatialReference.wkt)throw new a(\"layerview:store-spatial-reference-wkt-vertex-incompatible\",\"The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference\",{})}const o=t?new u(Q(t)):e.spatialReference;return o.equals(e.spatialReference)?e.spatialReference:o}function be(e,t){return n(t)?\"@null\":t===S(t)?\"@ECEF\":e.equals(t)?\"\":null!=t.wkid?\"@\"+t.wkid:null}function we(e,t,r){if(!f(e,t))throw new a(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{});if(\"local\"===r&&e.isGeographic)throw new a(\"layerview:local-gcs-not-supported\",\"Geographic coordinate systems are not supported in local scenes\",{})}function Se(e,t,r){const o=ye(e),n=ge(e);we(o,t,r),we(n,t,r)}function xe(e){return(null==e.geometryType||\"triangles\"===e.geometryType)&&((null==e.topology||\"PerAttributeArray\"===e.topology)&&(null!=e.vertexAttributes&&null!=e.vertexAttributes.position))}function Me(e){if(null==e.store||null==e.store.defaultGeometrySchema||!xe(e.store.defaultGeometrySchema))throw new a(\"scenelayer:unsupported-geometry-schema\",\"The geometry schema of this scene layer is not supported.\",{url:e.parsedUrl.path})}function ve(e,t){Se(e,t.spatialReference,t.viewingMode)}function je(e){return null!=e.geometryType&&\"points\"===e.geometryType&&((null==e.topology||\"PerAttributeArray\"===e.topology)&&((null==e.encoding||\"\"===e.encoding||\"lepcc-xyz\"===e.encoding)&&(null!=e.vertexAttributes&&null!=e.vertexAttributes.position)))}function Re(e){if(null==e.store||null==e.store.defaultGeometrySchema||!je(e.store.defaultGeometrySchema))throw new a(\"pointcloud:unsupported-geometry-schema\",\"The geometry schema of this point cloud scene layer is not supported.\",{})}function ke(e,t){we(e.spatialReference,t.spatialReference,t.viewingMode)}function qe(e){return\"simple\"===e.type||\"class-breaks\"===e.type||\"unique-value\"===e.type}function Te(e){return\"mesh-3d\"===e.type}function Ie(e){if(null==e||!qe(e))return!0;if((\"unique-value\"===e.type||\"class-breaks\"===e.type)&&null==e.defaultSymbol)return!0;const t=e.getSymbols();if(0===t.length)return!0;for(const r of t){if(!Te(r)||0===r.symbolLayers.length)return!0;for(const e of r.symbolLayers.items)if(\"fill\"!==e.type||n(e.material)||n(e.material.color)||\"replace\"!==e.material.colorMixMode)return!0}return!1}const ze=L({color:[0,0,0,0],opacity:0});class Ae{constructor(){this.edgeMaterial=null,this.material=null,this.castShadows=!0}}function Fe(e){const t=new Ae;let r=!1,n=!1;for(const a of e.symbolLayers.items)if(\"fill\"===a.type&&a.enabled){const e=a.material,s=a.edges;if(o(e)&&!r){const n=e.color,s=O(e.colorMixMode);o(n)?t.material={color:[n.r/255,n.g/255,n.b/255],alpha:n.a,colorMixMode:s}:t.material={color:[1,1,1],alpha:1,colorMixMode:1},t.castShadows=a.castShadows,r=!0}o(s)&&!n&&(t.edgeMaterial=W(s,{}),n=!0)}return t.material||(t.material={color:[1,1,1],alpha:1,colorMixMode:1}),t}function Ce(e,t){return(0|e)+(0|t)|0}function Be(e,t,r,o,n=0){o===S(o)?t.isGeographic?Ue(e,r,t,n):Ge(e,r,t,n):e===r?(r.center[2]+=n,T(r.center,t,0,r.center,o,0,1)):(m(r.center,e.center[0],e.center[1],e.center[2]+n),T(r.center,t,0,r.center,o,0,1),B(r.quaternion,e.quaternion),h(r.halfSize,e.halfSize))}function Ge(e,t,r,o){D(e,Ee),m(t.center,e.center[0],e.center[1],e.center[2]+o),I(r,t.center,Le,S(r)),m(t.center,Le[12],Le[13],Le[14]);const n=2*Math.sqrt(1+Le[0]+Le[5]+Le[10]);We[0]=(Le[6]-Le[9])/n,We[1]=(Le[8]-Le[2])/n,We[2]=(Le[1]-Le[4])/n,We[3]=.25*n,G(t.quaternion,We,e.quaternion),U(We,t.quaternion);let a=0,s=0,i=0;for(const c of Ee)c[2]+=o,T(c,r,0,c,S(r),0,1),d(Ne,c,t.center),y(Ne,Ne,We),a=Math.max(a,Math.abs(Ne[0])),s=Math.max(s,Math.abs(Ne[1])),i=Math.max(i,Math.abs(Ne[2]));m(t.halfSize,a,s,i)}function Ue(e,t,r,o){const n=x(r),a=1+Math.max(0,o)/(n.radius+e.center[2]);m(t.center,e.center[0],e.center[1],e.center[2]+o),T(t.center,r,0,t.center,S(r),0,1),B(t.quaternion,e.quaternion),U(We,e.quaternion),m(Ne,0,0,1),y(Ne,Ne,We),m(Ne,e.halfSize[0]*Math.abs(Ne[0]),e.halfSize[1]*Math.abs(Ne[1]),e.halfSize[2]*Math.abs(Ne[2])),g(Ne,Ne,n.inverseFlattening),b(t.halfSize,e.halfSize,Ne),g(t.halfSize,t.halfSize,a)}function Ke(e,t,r,a,s,i){if(!i||0===i.length||n(t))return null;const c=V(e.mbs,s,r,t);let l;M($e,c);const u=()=>{if(!l)if(l=Ee,j(Pe),o(e.serviceObb)){Be(e.serviceObb,r,De,t,s),D(De,l);for(const e of l)w(e,e,$e),R(Pe,e)}else{const o=e.mbs,n=o[3];z(o,r,Ne,t),w(Ne,Ne,$e),Ne[2]+=s;for(let e=0;e<8;++e){const t=1&e?n:-n,r=2&e?n:-n,o=4&e?n:-n,a=l[e];h(a,[Ne[0]+t,Ne[1]+r,Ne[2]+o]),R(Pe,a)}}};let f=1/0,p=-1/0;const m=e=>{if(\"replace\"!==e.type)return;const r=e.geometry;if(!r.hasZ)return;j(Oe);const o=r.spatialReference||a,n=r.rings.reduce(((e,r)=>r.reduce(((e,r)=>(z(r,o,Ne,t),w(Ne,Ne,$e),R(Oe,Ne),Math.min(Ne[2],e))),e)),1/0);u(),k(Pe,Oe)&&(f=Math.min(f,n),p=Math.max(p,n))};if(i.forEach((e=>m(e))),f===1/0)return null;const d=(e,t,r)=>{w(Ne,r,c),e[t+0]=Ne[0],e[t+1]=Ne[1],e[t+2]=Ne[2],t+=24,r[2]=f,w(Ne,r,c),e[t+0]=Ne[0],e[t+1]=Ne[1],e[t+2]=Ne[2],t+=24,r[2]=p,w(Ne,r,c),e[t+0]=Ne[0],e[t+1]=Ne[1],e[t+2]=Ne[2]};for(let o=0;o<8;++o)d(_e.data,3*o,l[o]);return N(_e)}const Le=F(),We=P(),Ee=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Oe=v(),Pe=v(),De=_(),Ne=[0,0,0],_e={data:new Array(72),size:3},$e=F();export{Ae as SymbolInfo,Ce as addWraparound,ke as checkPointCloudLayerCompatibleWithView,Re as checkPointCloudLayerValid,ve as checkSceneLayerCompatibleWithView,Me as checkSceneLayerValid,we as checkSpatialReference,Se as checkSpatialReferences,Ke as computeVisibilityObb,X as containsDraco,J as encodingToMimeType,Q as extractWkid,ee as filterInPlace,ie as findFieldsCaseInsensitive,Y as findIntersectingNodes,be as getCacheKeySuffix,de as getCachedAttributeValue,oe as getClipAABB,ye as getIndexCrs,Z as getSupportedEncodings,Fe as getSymbolInfo,ge as getVertexCrs,se as intersectBoundingBoxWithMbs,ae as intersectBoundingRectWithMbs,te as objectIdFilter,Ie as rendererNeedsTextures,H as selectEncoding,Be as transformObb,ze as transparentEdgeMaterial,ce as whenGraphicAttributes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{unpackFieldNames as o,populateMissingFields as p}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)return new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});return a(r,e)?void 0:new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,s){const t=this._validateFetchPopupFeatures(s);if(t)return Promise.reject(t);const c=r(s)?s.clientGraphics:null;if(!c||0===c.length)return Promise.resolve([]);const u=[],l=[],n=\"scene\"===this.layer.type&&r(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,h=o(this.layer.fields,await i(n,a(this.layer,s)));await this.prepareFetchPopupFeatures(h);const m=new Set;for(const r of c)p(h,r,m)?l.push(r):u.push(r);return 0===l.length?Promise.resolve(u):this.whenGraphicAttributes(l,[...m]).catch((()=>l)).then((e=>u.concat(e)))}};return u=e([s(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n"],"sourceRoot":""}